{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./packages/dashboard/src/app/api/apiProvider.js","webpack:///./packages/dashboard/src/app/api/index.js","webpack:///./packages/dashboard/src/app/api/useApi.js","webpack:///./packages/dashboard/src/app/api/useApiAlerts.js","webpack:///./packages/dashboard/src/app/api/useStoryApi.js","webpack:///./packages/dashboard/src/app/api/useTemplateApi.js","webpack:///./packages/dashboard/src/app/api/useUsersApi.js","webpack:///./packages/dashboard/src/app/config/configProvider.js","webpack:///./packages/dashboard/src/app/config/context.js","webpack:///./packages/dashboard/src/app/config/index.js","webpack:///./packages/dashboard/src/app/config/useConfig.js","webpack:///./packages/dashboard/src/app/index.js","webpack:///./packages/dashboard/src/app/reducer/stories.js","webpack:///./packages/dashboard/src/app/reducer/templates.js","webpack:///./packages/dashboard/src/app/router/index.js","webpack:///./packages/dashboard/src/app/router/route.js","webpack:///./packages/dashboard/src/app/router/routerProvider.js","webpack:///./packages/dashboard/src/app/router/useRouteHistory.js","webpack:///./packages/dashboard/src/app/serializers/index.js","webpack:///./packages/dashboard/src/app/serializers/templates.js","webpack:///./packages/dashboard/src/app/textContent/index.js","webpack:///./packages/dashboard/src/app/views/constants.js","webpack:///./packages/dashboard/src/app/views/exploreTemplates/content/components.js","webpack:///./packages/dashboard/src/app/views/exploreTemplates/content/index.js","webpack:///./packages/dashboard/src/app/views/exploreTemplates/content/templateGridItem.js","webpack:///./packages/dashboard/src/app/views/exploreTemplates/content/templateGridView.js","webpack:///./packages/dashboard/src/app/views/exploreTemplates/header/index.js","webpack:///./packages/dashboard/src/app/views/exploreTemplates/index.js","webpack:///./packages/dashboard/src/app/views/index.js","webpack:///./packages/dashboard/src/app/views/myStories/content/index.js","webpack:///./packages/dashboard/src/app/views/myStories/content/listView/components.js","webpack:///./packages/dashboard/src/app/views/myStories/content/listView/index.js","webpack:///./packages/dashboard/src/app/views/myStories/content/storiesView/index.js","webpack:///./packages/dashboard/src/app/views/myStories/content/storyGridItem/components.js","webpack:///./packages/dashboard/src/app/views/myStories/content/storyGridItem/index.js","webpack:///./packages/dashboard/src/app/views/myStories/content/storyGridItem/storyDisplayContent.js","webpack:///./packages/dashboard/src/app/views/myStories/content/storyGridView/index.js","webpack:///./packages/dashboard/src/app/views/myStories/content/storyListItem/components.js","webpack:///./packages/dashboard/src/app/views/myStories/content/storyListItem/index.js","webpack:///./packages/dashboard/src/app/views/myStories/header/index.js","webpack:///./packages/dashboard/src/app/views/myStories/index.js","webpack:///./packages/dashboard/src/app/views/shared/bodyViewOptions.js","webpack:///./packages/dashboard/src/app/views/shared/emptyContentMessage.js","webpack:///./packages/dashboard/src/app/views/shared/grid/components.js","webpack:///./packages/dashboard/src/app/views/shared/index.js","webpack:///./packages/dashboard/src/app/views/shared/pageHeading.js","webpack:///./packages/dashboard/src/app/views/templateDetails/components.js","webpack:///./packages/dashboard/src/app/views/templateDetails/content/detailsGallery/index.js","webpack:///./packages/dashboard/src/app/views/templateDetails/content/index.js","webpack:///./packages/dashboard/src/app/views/templateDetails/content/relatedGrid/index.js","webpack:///./packages/dashboard/src/app/views/templateDetails/header/index.js","webpack:///./packages/dashboard/src/app/views/templateDetails/index.js","webpack:///./packages/dashboard/src/app/views/templateDetails/utils.js","webpack:///./packages/dashboard/src/app/views/utils/composeTemplateFilter.js","webpack:///./packages/dashboard/src/app/views/utils/getSearchOptions.js","webpack:///./packages/dashboard/src/app/views/utils/getTemplateFilters.js","webpack:///./packages/dashboard/src/app/views/utils/index.js","webpack:///./packages/dashboard/src/components/cardGallery/components.js","webpack:///./packages/dashboard/src/components/cardGallery/index.js","webpack:///./packages/dashboard/src/components/cardGrid/index.js","webpack:///./packages/dashboard/src/components/cardGridItem/index.js","webpack:///./packages/dashboard/src/components/colorList/index.js","webpack:///./packages/dashboard/src/components/contentGutter/index.js","webpack:///./packages/dashboard/src/components/dialog/dialog.js","webpack:///./packages/dashboard/src/components/dialog/index.js","webpack:///./packages/dashboard/src/components/fileUpload/index.js","webpack:///./packages/dashboard/src/components/index.js","webpack:///./packages/dashboard/src/components/infiniteScroller/index.js","webpack:///./packages/dashboard/src/components/inlineInputForm/index.js","webpack:///./packages/dashboard/src/components/interfaceSkeleton/index.js","webpack:///./packages/dashboard/src/components/layout/fixed.js","webpack:///./packages/dashboard/src/components/layout/index.js","webpack:///./packages/dashboard/src/components/layout/provider.js","webpack:///./packages/dashboard/src/components/layout/scrollable.js","webpack:///./packages/dashboard/src/components/layout/useLayoutContext.js","webpack:///./packages/dashboard/src/components/navProvider.js","webpack:///./packages/dashboard/src/components/pageStructure/index.js","webpack:///./packages/dashboard/src/components/pageStructure/leftRail.js","webpack:///./packages/dashboard/src/components/pageStructure/menuButton.js","webpack:///./packages/dashboard/src/components/pageStructure/navigationComponents.js","webpack:///./packages/dashboard/src/components/pageStructure/pageStructureComponents.js","webpack:///./packages/dashboard/src/components/popoverMenu/story-menu-generator.js","webpack:///./packages/dashboard/src/components/scrollToTop/index.js","webpack:///./packages/dashboard/src/components/storyMenu/index.js","webpack:///./packages/dashboard/src/components/table/index.js","webpack:///./packages/dashboard/src/components/tooltip/index.js","webpack:///./packages/dashboard/src/components/tooltip/tooltip.js","webpack:///./packages/dashboard/src/components/types.js","webpack:///./packages/dashboard/src/components/viewStyleBar/index.js","webpack:///./packages/dashboard/src/constants/components.js","webpack:///./packages/dashboard/src/constants/index.js","webpack:///./packages/dashboard/src/constants/pageStructure.js","webpack:///./packages/dashboard/src/constants/stories.js","webpack:///./packages/dashboard/src/constants/templates.js","webpack:///./packages/dashboard/src/dashboard.js","webpack:///./packages/dashboard/src/defaultConfig.js","webpack:///./packages/dashboard/src/icons/compass.svg","webpack:///./packages/dashboard/src/icons/floppyDisk.svg","webpack:///./packages/dashboard/src/icons/homeWithHeart.svg","webpack:///./packages/dashboard/src/icons/index.js","webpack:///./packages/dashboard/src/icons/menu.svg","webpack:///./packages/dashboard/src/icons/moreVertical.svg","webpack:///./packages/dashboard/src/index.js","webpack:///./packages/dashboard/src/theme.js","webpack:///./packages/dashboard/src/types.js","webpack:///./packages/dashboard/src/utils/clamp.js","webpack:///./packages/dashboard/src/utils/groupBy.js","webpack:///./packages/dashboard/src/utils/index.js","webpack:///./packages/dashboard/src/utils/keyboardOnlyOutline.js","webpack:///./packages/dashboard/src/utils/titleFormatted.js","webpack:///./packages/dashboard/src/utils/uniqueEntriesByKey.js","webpack:///./packages/dashboard/src/utils/useDashboardResultsLabel.js","webpack:///./packages/dashboard/src/utils/usePagePreviewSize.js","webpack:///./packages/dashboard/src/utils/useStoryView.js","webpack:///./packages/dashboard/src/utils/useTemplateView.js","webpack:///./packages/joomla-dashboard/deepMerge.js","webpack:///./packages/joomla-dashboard/index.js","webpack:///./packages/joomla-dashboard/theme.js"],"names":["ApiContext","createContext","state","actions","ApiProvider","children","api","usersApi","useUsersApi","templates","templateApi","useTemplateApi","stories","storyApi","useStoryApi","value","propTypes","PropTypes","node","useApi","selector","identity","useContextSelector","useApiAlerts","storyError","templateError","error","showSnackbar","useSnackbar","debouncedShowSnackbar","useDebouncedCallback","message","dismissible","useEffect","id","isInitialFetch","useRef","initialFetchListeners","useMemo","Map","dispatch","useReducer","storyReducer","defaultStoriesState","apiCallbacks","useConfig","fetchStories","useCallback","queryParams","type","STORY_ACTION_TYPES","LOADING_STORIES","payload","trackTiming","getTimeTracker","fetchedStoryIds","totalPages","totalStoriesByStatus","current","forEach","listener","FETCH_STORIES_SUCCESS","page","err","FETCH_STORIES_FAILURE","ERRORS","LOAD_STORIES","MESSAGE","code","updateStory","story","response","UPDATE_STORY","UPDATE_STORY_FAILURE","trashStory","TRASH_STORY","storyStatus","status","TRASH_STORY_FAILURE","DELETE_STORY","createStoryFromTemplate","template","CREATING_STORY_FROM_TEMPLATE","CREATE_STORY_FROM_TEMPLATE_SUCCESS","window","location","editLink","CREATE_STORY_FROM_TEMPLATE_FAILURE","CREATE_STORY_FROM_TEMPLATE","duplicateStory","DUPLICATE_STORY","DUPLICATE_STORY_FAILURE","addInitialFetchListener","key","Symbol","set","delete","templateReducer","defaultTemplatesState","cdnURL","fetchExternalTemplates","TEMPLATE_ACTION_TYPES","LOADING_TEMPLATES","templatesByTag","reshapedTemplates","getAllTemplates","map","reshapedTemplate","reshapeTemplateObject","tags","tag","push","sort","a","b","compareDesc","creationDate","FETCH_TEMPLATES_SUCCESS","totalTemplates","length","fetchExternalTemplateById","templateId","Promise","resolve","reject","Error","getAuthors","ConfigProvider","config","object","isRequired","Context","ACTION_TYPES","isLoading","storiesOrderById","action","Date","now","storyGroupStatus","STORY_STATUS","DRAFT","PUBLISH","filter","all","Object","keys","reduce","memo","storyId","parseInt","payloadStories","combinedStoryIds","uniqueStoryIds","Set","allPagesFetched","FETCH_TEMPLATES_FAILURE","PLACEHOLDER","templatesOrderById","fetchedTemplatesById","combinedTemplateIds","uniqueTemplateIds","groupBy","parentRoute","potentialParent","hash","split","slice","join","startsWith","resolveRelatedTemplateRoute","relatedTemplate","centerTargetAction","resolveRoute","route","toLowerCase","matchPath","currentPath","path","exact","match","RegExp","exec","matchUrl","isExactMatch","Route","component","useRouteHistory","string","bool","RouterContext","RouterProvider","props","history","createHashHistory","setCurrentPath","useState","pathname","parse","search","params","URLSearchParams","fromEntries","setQueryParams","listen","replace","originalTemplateData","isLocal","slug","modified","APP_ROUTES","TEMPLATE_DETAIL","toDate","getOptions","toUTCDate","__","LOAD_TEMPLATES","DEFAULT_MESSAGE","RENDER_PREVIEW","LOAD_TEMPLATE","TEMPLATE_META_DATA_TYPES","VERTICAL","COLOR","TAG","CardWrapper","styled","div","Gradient","Scrim","$isSelected","TemplateDisplayContent","PicturePoster","Poster","attrs","as","theme","borders","radius","medium","Content","view","templateActions","newStoryURL","pageContent","pageSize","requestNextPage","THEME_CONSTANTS","TYPOGRAPHY","PRESET_SIZES","SMALL","keyword","sprintf","BUTTON_TYPES","PRIMARY","BUTTON_SIZES","MEDIUM","PagePropTypes","TemplatesPropType","number","SearchPropTypes","TemplateActionsPropType","ViewPropTypes","FOCUS_TEMPLATE_CLASS","SeeDetailsButton","Button","TERTIARY","size","colors","standard","white","TemplateGridItem","forwardRef","detailLink","onCreateStory","onFocus","height","isActive","posterSrc","title","onSeeDetailsClick","noop","ref","tabIndex","posterAltText","webp","png","DEFAULT_GRID_IMG_WIDTH","DEFAULT_GRID_IMG_HEIGHT","TEMPLATES_GALLERY_ITEM_CENTER_ACTION_LABELS","displayName","func","shape","TemplateGridView","isRTL","containerRef","gridRef","itemRefs","scrollToTop","useLayoutContext","activeGridItemId","setActiveGridItemId","handleUseStory","trackEvent","name","template_id","useGridViewKeys","currentItemId","items","querySelector","focus","useFocusOut","memoizedTemplateItems","postersByPage","canCreateStory","Boolean","el","PageSizePropType","Header","searchOptions","enableInProgressTemplateActions","useFeature","enableExploreTemplatesSearch","setKeyword","debouncedSearchChange","TEXT_INPUT_DEBOUNCE","clearSearch","resultsLabel","useDashboardResultsLabel","totalResults","currentFilter","DASHBOARD_VIEWS","TEMPLATES_GALLERY","style","toggleStyle","TEMPLATES_GALLERY_SORT_MENU_ITEMS","FilterPropTypes","SortPropTypes","arrayOf","ExploreTemplates","useTemplateView","templateFilters","getTemplateFilters","selectFilters","opt","label","includes","orderedTemplates","composeTemplateFilter","totalVisibleTemplates","uniqueEntriesByKey","handleCreateStoryFromTemplate","storyActions","showStoriesWhileLoading","StoriesPropType","StoryActionsPropType","ShowStoriesWhileLoadingPropType","focusableOutlineCSS","themeHelpers","ListView","ArrowIcon","fg","primary","active","asc","css","EmptyIconSpace","ArrowIconWithTitle","breakpoint","mobile","SelectableTitle","Text","isBold","blue","border","bg","secondary","toggleSortLookup","SORT_DIRECTION","DESC","ASC","StoryListView","handleSortChange","handleSortDirectionChange","hideStoryList","renameStory","sortDirection","storyMenu","storySort","enablePostLocking","useFeatures","userId","onSortTitleSelected","newStorySort","ORDER_BY_SORT","onKeyDownSort","sortBy","tableContents","STORY_SORT_OPTIONS","NAME","e","CREATED_BY","DATE_CREATED","LAST_MODIFIED","RenameStoryPropType","StoryMenuPropType","oneOf","values","ACTIVE_DIALOG_DELETE_STORY","StoriesView","filterValue","loading","contextMenuId","setContextMenuId","titleRenameId","setTitleRenameId","activeDialog","setActiveDialog","activeStory","setActiveStory","focusedStory","setFocusedStory","returnStoryFocusId","setReturnStoryFocusId","isActiveDeleteStoryDialog","storiesById","storyArrayIndex","indexOf","isDeletedAdjustmentDirection","adjustedIndex","isDeleted","focusIndex","storyIdToFocus","handleOnRenameStory","newTitle","raw","handleOnDeleteStory","handleOpenStoryInEditor","handleRenameStory","handleDuplicateStory","handleDeleteStory","handleCopyStoryLink","global","navigator","clipboard","writeText","link","titleFormatted","handleMenuToggle","menuItemActions","default","STORY_CONTEXT_MENU_ACTIONS","COPY_STORY_LINK","DELETE","DUPLICATE","OPEN_STORY_LINK","RENAME","menuItems","STORY_CONTEXT_MENU_ITEMS","handleCancelRename","ActiveView","VIEW_STYLE","LIST","setDirection","direction","CustomCardGridItem","CardGridItem","$posterHeight","ScrimAnchor","interactiveBg","StyledStoryDisplayContent","Row","LockedRow","CardDetailsGrid","CardDetailsColumn","Title","Headline","X_SMALL","inverted","DetailCopy","forwardedAs","LockAvatar","img","brandNormal","small","LockIcon","Icons","LockClosed","StoryGridItem","titleRenameProps","editMode","onEditComplete","onEditCancel","isLocked","locked","lockUser","generatedMenuItems","generateStoryMenu","storyDate","getRelativeDisplayDate","modifiedGmt","createdGmt","formattedTitle","memoizedStoryMenu","featuredMediaUrl","alt","src","capabilities","hasEditAction","editStoryLink","author","StoryPropType","StoryDisplayContent","contextMenu","displayDate","displayDateText","FUTURE","avatar","storyLockedTitle","TOOLTIP_PLACEMENT","BOTTOM_START","PENDING","oneOfType","DashboardStatusesPropType","StoryGrid","CardGrid","PAGE_WRAPPER","GUTTER","StoryGridView","activeGridItemIdRef","gridItemIds","newFocusId","firstFocusableElement","querySelectorAll","evt","keyCode","isNext","shiftKey","idToFocus","manuallySetFocusOut","modifiedStoryMenu","memoizedStoryGrid","PreviewImage","gradient","placeholder","STORY_PREVIEW_WIDTH","VIEWPORT_BREAKPOINT","THUMBNAIL","PreviewWrapper","round","StyledTableRow","TableRow","MoreVerticalButton","TitleTableCellContainer","onFocusSelectAll","getSelection","selectAllChildren","target","onBlurDeselectAll","removeAllRanges","StoryListItem","_","XXX_SMALL","DISPLAY_STATUS","StyledPill","Pill","tertiary","queryAuthorsBySearch","showAuthorDropdown","getSearchOptions","isActiveSearch","filterKey","DASHBOARD","handleClick","HeaderToggleButtons","STORY_STATUSES","count","ariaLabel","onSortChange","newSort","search_type","search_term","STORY_SORT_MENU_ITEMS","TotalStoriesByStatusPropType","AuthorPropTypes","MyStories","useStoryView","filters","setQueriedAuthors","authorSearchTerm","then","data","userData","exisitingUsers","exisitingUsersIds","newUsers","newUser","searchTerm","sortOption","filterId","orderedStories","DisplayFormatContainer","StorySortDropdownContainer","ControlsContainer","StyledDropDown","DropDown","BodyViewOptionsHeader","StyledDatalist","Datalist","defaultAuthor","toggleFilterId","queriedAuthors","BodyViewOptions","currentSort","handleLayoutSelect","layoutStyle","pageSortOptions","showGridToggle","showSortDropdown","sortDropdownAriaLabel","GRID","DROPDOWN_TYPES","MENU","Message","EmptyImage","DesertColor","EmptyContentMessage","posterOverlay","opacity","black3","Container","HeadingContainer","StandardViewContentGutter","divider","StyledHeadline","Display","HeadlineFilters","HeaderSearch","PageHeading","heading","searchPlaceholder","showSearch","handleSearchChange","searchValue","handleClearSearch","Panel","section","Inner","DetailContainer","TemplateDetails","RowContainer","ByLineText","DescriptionText","PaginationContainer","alignLeft","TemplateTag","Chip","MetadataContainer","DetailsGallery","activeTemplateIndex","orderedTemplatesLength","switchToTemplateByOffset","galleryPosters","poster","index","NextButton","PrevButton","Previous","BUTTON_VARIANTS","CIRCLE","Next","byLine","createdBy","description","TemplatePropType","relatedTemplates","RelatedGrid","width","Nav","nav","HiddenHeading","h2","visuallyHidden","onHandleCtaClick","templateTitle","ROUTE_TITLES","setTemplate","setRelatedTemplates","usePagePreviewSize","isGrid","catch","templatedId","allRelatedTemplates","getRelatedTemplatesIds","randomRelatedTemplates","Math","random","findIndex","offset","clamp","selectedTemplateId","selectedTemplate","taggedTemplatesDictionary","flatMap","uniqueRelatedTemplates","some","color","vertical","options","acc","option","trim","templatesArr","t","c","family","verticals","pictureCss","defaultNormal","GalleryContainer","DisplayPage","$isThreeRows","Thumbnails","ThumbnailButton","PLAIN","getPosterAltCopy","pageNumber","CardGallery","galleryLabel","selectedGridItemIndex","setSelectedGridItemIndex","focusedGridItemIndex","setFocusedGridItemIndex","posterRefs","handleMiniCardClick","handleGalleryItemFocus","GalleryItems","isFocusIndex","DashboardGrid","GRID_SPACING","COLUMN_GAP","ROW_GAP","columnWidth","columnHeight","ThemeGlobals","FOCUS_VISIBLE_SELECTOR","focusCSS","role","borderLookup","ColorContainer","Color","$backgroundColor","spacing","ColorList","r","g","createSolidFromString","backgroundColor","ColorType","Dialog","onClose","onSecondary","onPrimary","primaryText","secondaryText","primaryRest","secondaryRest","rest","_PrimaryButton","_SecondaryButton","open","StyledButton","Input","input","UploadFormArea","isDragging","UploadHelperText","LoadingIndicator","disableDefaults","preventDefault","stopPropagation","FileUpload","onSubmit","isMultiple","instructionalText","acceptableFormats","DEFAULT_FILE_UPLOAD_TYPES","uploadFileContainer","fileInputRef","setDragging","handleUploadFile","files","handleChange","handleDragDrop","dataTransfer","handleDrag","prevIsDragging","clearData","addEventListener","removeEventListener","ScrollMessage","LoadingContainer","AriaOnlyAlert","span","STATE","loadable","loading_internal","loading_external","complete","ACTION","ON_INTERNAL_LOAD","ON_EXTERNAL_LOAD","ON_ALL_LOADED","ON_LOAD_SUCCESS","ON_CAN_LOAD_MORE","machine","loadReducer","InfiniteScroller","allDataLoadedMessage","allDataLoadedAriaMessage","onLoadMore","canLoadMore","loadingAriaMessage","loadingRef","onLoadMoreRef","loadState","loadingAlert","observer","IntersectionObserver","entries","entry","isIntersecting","rootMargin","threshold","triggerEl","observe","unobserve","loadingContent","StyledInput","$isInverted","InlineInputForm","noAutoFocus","isInverted","inputContainerRef","newValue","setNewValue","handleKeyPress","nativeEvent","InterfaceSkeleton","additionalRoutes","currentTemplate","undefined","isFirstLoadOnMyStories","isRedirectComplete","setIsRedirectComplete","storyStatuses","fullPath","dynamicPageTitle","DEFAULT","document","ADMIN_TITLE","trackScreenView","hideLeftRail","NESTED_APP_ROUTES","TEMPLATES_GALLERY_DETAIL","clearSnackbar","removeSnack","placement","currentSnacks","prevPath","usePrevious","routeProps","array","FixedContent","Z_INDEX","LAYOUT_FIXED","Fixed","Layout","Provider","Scrollable","LayoutContext","firstFocusableContentRef","scrollFrameRef","getElementById","documentElement","scrollTo","top","behavior","ScrollContent","context","useContext","NavContext","useNavContext","NavProvider","sideBarVisible","setSideBarVisible","numNewTemplates","setNumNewTemplates","toggleSideBar","updateNumNewTemplates","newNum","StyledNotificationBubble","NotificationBubble","IconWrap","NEW_TEMPLATE_THRESHOLD_IN_DAYS","getNewTemplatesMetaData","metaDataEntries","days","currentDate","metaData","deltaDays","differenceInDays","LeftRail","version","leftRailSecondaryNavigation","leftRailRef","upperContentRef","onContainerClickCapture","handleSideBarClose","useLayoutEffect","onCreateNewStoryClick","onExternalLinkClick","trackClick","trackingEvent","mounted","refreshNewTemplateCount","getTemplateMetaData","newTemplates","QUATERNARY","PRIMARY_PATHS","Icon","isNotificationBubbleEnabled","appendNewBadgeToLable","isExternal","rel","onClick","getFullYear","MenuIcon","MenuSvg","interactiveFg","TransparentButton","button","showOnlyOnSmallViewport","MIN_DASHBOARD_WIDTH","NavMenuButton","NavList","ul","NavListItem","li","activeLinkCss","brandPress","NavLink","Link","isIconLink","PathName","AppInfo","AppFrame","PageContent","fullWidth","DASHBOARD_LEFT_NAV_WIDTH","LeftRailContainer","WP_ADMIN","TOOLBAR_HEIGHT","BEZIER","outCubic","isOpen","defaultFn","menuItemsFiltered","item","capability","menuItem","extraProperties","OPEN_IN_EDITOR","href","bottomTargetAction","newTab","previewLink","disabled","$isVisible","white64","Number","DropUpArrowIcon","ChevronUp","ScrollToTop","isVisible","setIsVisible","handleScroll","scrollY","passive","CONTEXT_MENU_BUTTON_CLASS","menuOpen","black","MenuContainer","verticalAlign","$menuStyleOverrides","StoryMenu","onMoreButtonSelected","itemActive","menuStyleOverrides","menuLabel","isPopoverMenuOpen","handleDismiss","MenuItemProps","CELL_PADDING","Table","table","expandTextPreset","paragraph","TableBody","tbody","TableHeader","thead","StickyTableHeader","TableHeaderCell","th","TablePreviewHeaderCell","TableDateHeaderCell","TableStatusHeaderCell","tabletMax","TableAuthorHeaderCell","TableTitleHeaderCell","TableContentHeaderCell","tr","TableCell","td","TableStatusCell","TableTitleCell","TableContentCell","TablePreviewCell","Tooltip","BOTTOM","derivedPlacement","TOOLTIP_RTL_PLACEMENT","TooltipPropTypes","ToggleButton","hover","ViewStyleBar","onPress","VIEW_STYLE_LABELS","BOTTOM_END","PILL_LABEL_TYPES","FLOATING","SWATCH","PILL_INPUT_TYPES","CHECKBOX","RADIO","CTA","SECONDARY","CHIP_TYPES","STANDARD","PANEL","COLOR_PANEL","KEYS","ENTER","ESC","UP","DOWN","ALERT_SEVERITY","ERROR","WARNING","INFO","SUCCESS","AUTO_REMOVE_ALERT_TIME_INTERVAL","KEYBOARD_USER_CLASS","LAYOUT_SQUISHABLE","STICKY_TABLE","POPOVER_MENU","POPOVER_PANEL","HomeWithHeart","Compass","RESULT_LABELS","STORY_VIEWING_LABELS","TEMPLATES_GALLERY_VIEWING_LABELS","STORIES_PER_REQUEST","MIN_IMG_HEIGHT","MIN_IMG_WIDTH","WPBODY_ID","TABLET","DESKTOP","CLOSE","separator","BASE_STATUSES","PRIVATE","ALL","PUBLISHED_AND_FUTURE","n","_n","STORY_ANIMATION_STATE","RESET","PAUSED","SCRUBBING","PLAYING","TEMPLATE_CATEGORIES","DIY_CRAFTS","MOVIES_TV","BEAUTY_STYLE","FITNESS_WELLBEING","FOOD","TRAVEL","MUSIC","SPORTS","TEMPLATE_CATEGORY_ITEMS","_x","TEMPLATE_COLORS","WHITE","BLACK","GRAY","BROWN","RED","ORANGE","YELLOW","GREEN","BLUE","PINK","PURPLE","TEMPLATE_COLOR_ITEMS","hex","TEMPLATES_GALLERY_STATUS","TEMPLATES_GALLERY_SORT_OPTIONS","POPULAR","RECENT","Dashboard","_config","deepMerge","defaultConfig","flags","activeTheme","externalDesignSystemTheme","lightMode","stylisRTLPlugin","locale","dateFormat","timeFormat","gmtOffset","timezone","months","monthsShort","weekdays","weekdaysShort","weekdaysInitials","weekStartsOn","archiveURL","allowedImageMimeTypes","encodeMarkup","maxUpload","maxUploadFormatted","canManageSettings","canUploadFiles","localeData","GlobalStyle","createGlobalStyle","hasDeleteAction","pages","TagPropType","CategoryPropType","parent","UserPropType","avatarUrls","handlePreviewTemplate","draft","publish","menuItemActionsShape","menuActionKey","url","v","range","lowerBound","min","upperBound","max","arr","prev","curr","OutlineStyles","ACCEPTED_KEYS","KeyboardOnlyOutline","usingKeyboard","setUsingKeyboard","handleKeydown","handleMousedown","cleanup","body","classList","toggle","rawTitle","numResults","defaultLabel","interprettedDefaultLabel","getPosterHeight","PAGE_RATIO","getCurrentBp","availableContainerSpace","sizeFromWidth","bp","respectSetWidth","itemsInRow","floor","columnGapWidth","pageGutter","takenSpace","remainingSpace","addToWidthValue","trueWidth","getContainerWidth","windowWidth","isWindowSmallerThanMinDashboardWidth","innerWidth","thumbnailMode","dashboardContainerRef","viewportWidth","setViewportWidth","setBp","setAvailableContainerSpace","offsetWidth","debounceSetViewportWidth","useResizeEffect","viewStyle","setViewStyle","_setSort","_setFilter","_setSortDirection","setPage","searchKeyword","_setSearchKeyword","authorFilterId","_setAuthorFilterId","setPageClamped","newPage","pageRange","setSort","setFilter","newFilter","setSortDirection","newSortDirection","toggleViewStyle","newViewStyle","setSearchKeyword","newSearchKeyword","toggleAuthorFilterId","prevFilterId","search_filter","search_author_filter","search_order","search_orderby","search_view","source","Array","isArray","assign","AppContainer","initialize","appElement","render","initializeWithConfig","apiCallbacksNames","globalConfig","dashboardSettings","callbacks","axios","method","headers","Authorization","token","currentUserId","getStoryPropsToSave","storyPropsToSave","featuredMedia","metadata","publisher","convertedColors","storyData","autoAdvance","defaultPageDuration","currentStoryStyles","finalConfig","readyState","scrollbarCSS"],"mappings":";QAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,yCAAyC,o7ZAAo7Z,kCAAkC,ggWAAggW;QAC//vB;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;QACA,oBAAoB;QACpB;QACA;QACA;QACA,8BAA8B,o7ZAAo7Z;QACl9Z;QACA;QACA,mBAAmB,6BAA6B;QAChD;QACA;QACA;QACA;QACA;QACA,mBAAmB,8BAA8B;QACjD;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,OAAO;QACP;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA,KAAK;QACL;QACA,KAAK;QACL;;QAEA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QAC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","file":"joomla-dashboard.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\tvar prefetchChunks = data[3] || [];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\tdeferredPrefetch.push.apply(deferredPrefetch, prefetchChunks);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\tif(deferredModules.length === 0) {\n \t\t\t// chunk prefetching for javascript\n \t\t\tdeferredPrefetch.forEach(function(chunkId) {\n \t\t\t\tif(installedChunks[chunkId] === undefined) {\n \t\t\t\t\tinstalledChunks[chunkId] = null;\n \t\t\t\t\tvar link = document.createElement('link');\n\n \t\t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\t\tlink.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t\t}\n \t\t\t\t\tlink.rel = \"prefetch\";\n \t\t\t\t\tlink.as = \"script\";\n \t\t\t\t\tlink.href = jsonpScriptSrc(chunkId);\n \t\t\t\t\tdocument.head.appendChild(link);\n \t\t\t\t}\n \t\t\t});\n \t\t\tdeferredPrefetch.length = 0;\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"joomla-dashboard\": 0\n \t};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"joomla-dashboard\": 0\n \t};\n\n \tvar deferredModules = [], deferredPrefetch = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"chunk-web-stories-template-100\":\"chunk-web-stories-template-100\",\"chunk-web-stories-template-102\":\"chunk-web-stories-template-102\",\"chunk-web-stories-template-96\":\"chunk-web-stories-template-96\",\"chunk-web-stories-template-108\":\"chunk-web-stories-template-108\",\"chunk-web-stories-template-110\":\"chunk-web-stories-template-110\",\"chunk-web-stories-template-104\":\"chunk-web-stories-template-104\",\"chunk-web-stories-template-116\":\"chunk-web-stories-template-116\",\"chunk-web-stories-template-118\":\"chunk-web-stories-template-118\",\"chunk-web-stories-template-112\":\"chunk-web-stories-template-112\",\"chunk-web-stories-template-12\":\"chunk-web-stories-template-12\",\"chunk-web-stories-template-124\":\"chunk-web-stories-template-124\",\"chunk-web-stories-template-126\":\"chunk-web-stories-template-126\",\"chunk-web-stories-template-120\":\"chunk-web-stories-template-120\",\"chunk-web-stories-template-132\":\"chunk-web-stories-template-132\",\"chunk-web-stories-template-134\":\"chunk-web-stories-template-134\",\"chunk-web-stories-template-128\":\"chunk-web-stories-template-128\",\"chunk-web-stories-template-14\":\"chunk-web-stories-template-14\",\"chunk-web-stories-template-8\":\"chunk-web-stories-template-8\",\"chunk-web-stories-template-140\":\"chunk-web-stories-template-140\",\"chunk-web-stories-template-142\":\"chunk-web-stories-template-142\",\"chunk-web-stories-template-136\":\"chunk-web-stories-template-136\",\"chunk-web-stories-template-148\":\"chunk-web-stories-template-148\",\"chunk-web-stories-template-150\":\"chunk-web-stories-template-150\",\"chunk-web-stories-template-144\":\"chunk-web-stories-template-144\",\"chunk-web-stories-template-156\":\"chunk-web-stories-template-156\",\"chunk-web-stories-template-158\":\"chunk-web-stories-template-158\",\"chunk-web-stories-template-152\":\"chunk-web-stories-template-152\",\"chunk-web-stories-template-164\":\"chunk-web-stories-template-164\",\"chunk-web-stories-template-166\":\"chunk-web-stories-template-166\",\"chunk-web-stories-template-160\":\"chunk-web-stories-template-160\",\"chunk-web-stories-template-172\":\"chunk-web-stories-template-172\",\"chunk-web-stories-template-174\":\"chunk-web-stories-template-174\",\"chunk-web-stories-template-168\":\"chunk-web-stories-template-168\",\"chunk-web-stories-template-180\":\"chunk-web-stories-template-180\",\"chunk-web-stories-template-182\":\"chunk-web-stories-template-182\",\"chunk-web-stories-template-176\":\"chunk-web-stories-template-176\",\"chunk-web-stories-template-188\":\"chunk-web-stories-template-188\",\"chunk-web-stories-template-190\":\"chunk-web-stories-template-190\",\"chunk-web-stories-template-184\":\"chunk-web-stories-template-184\",\"chunk-web-stories-template-196\":\"chunk-web-stories-template-196\",\"chunk-web-stories-template-198\":\"chunk-web-stories-template-198\",\"chunk-web-stories-template-192\":\"chunk-web-stories-template-192\",\"chunk-web-stories-template-20\":\"chunk-web-stories-template-20\",\"chunk-web-stories-template-204\":\"chunk-web-stories-template-204\",\"chunk-web-stories-template-206\":\"chunk-web-stories-template-206\",\"chunk-web-stories-template-200\":\"chunk-web-stories-template-200\",\"chunk-web-stories-template-212\":\"chunk-web-stories-template-212\",\"chunk-web-stories-template-214\":\"chunk-web-stories-template-214\",\"chunk-web-stories-template-208\":\"chunk-web-stories-template-208\",\"chunk-web-stories-template-22\":\"chunk-web-stories-template-22\",\"chunk-web-stories-template-16\":\"chunk-web-stories-template-16\",\"chunk-web-stories-template-220\":\"chunk-web-stories-template-220\",\"chunk-web-stories-template-222\":\"chunk-web-stories-template-222\",\"chunk-web-stories-template-216\":\"chunk-web-stories-template-216\",\"chunk-web-stories-template-228\":\"chunk-web-stories-template-228\",\"chunk-web-stories-template-230\":\"chunk-web-stories-template-230\",\"chunk-web-stories-template-224\":\"chunk-web-stories-template-224\",\"chunk-web-stories-template-236\":\"chunk-web-stories-template-236\",\"chunk-web-stories-template-238\":\"chunk-web-stories-template-238\",\"chunk-web-stories-template-232\":\"chunk-web-stories-template-232\",\"chunk-web-stories-template-244\":\"chunk-web-stories-template-244\",\"chunk-web-stories-template-246\":\"chunk-web-stories-template-246\",\"chunk-web-stories-template-240\":\"chunk-web-stories-template-240\",\"chunk-web-stories-template-252\":\"chunk-web-stories-template-252\",\"chunk-web-stories-template-254\":\"chunk-web-stories-template-254\",\"chunk-web-stories-template-248\":\"chunk-web-stories-template-248\",\"chunk-web-stories-template-260\":\"chunk-web-stories-template-260\",\"chunk-web-stories-template-262\":\"chunk-web-stories-template-262\",\"chunk-web-stories-template-256\":\"chunk-web-stories-template-256\",\"chunk-web-stories-template-268\":\"chunk-web-stories-template-268\",\"chunk-web-stories-template-270\":\"chunk-web-stories-template-270\",\"chunk-web-stories-template-264\":\"chunk-web-stories-template-264\",\"chunk-web-stories-template-276\":\"chunk-web-stories-template-276\",\"chunk-web-stories-template-278\":\"chunk-web-stories-template-278\",\"chunk-web-stories-template-272\":\"chunk-web-stories-template-272\",\"chunk-web-stories-template-28\":\"chunk-web-stories-template-28\",\"chunk-web-stories-template-284\":\"chunk-web-stories-template-284\",\"chunk-web-stories-template-286\":\"chunk-web-stories-template-286\",\"chunk-web-stories-template-280\":\"chunk-web-stories-template-280\",\"chunk-web-stories-template-292\":\"chunk-web-stories-template-292\",\"chunk-web-stories-template-294\":\"chunk-web-stories-template-294\",\"chunk-web-stories-template-288\":\"chunk-web-stories-template-288\",\"chunk-web-stories-template-30\":\"chunk-web-stories-template-30\",\"chunk-web-stories-template-24\":\"chunk-web-stories-template-24\",\"chunk-web-stories-template-300\":\"chunk-web-stories-template-300\",\"chunk-web-stories-template-302\":\"chunk-web-stories-template-302\",\"chunk-web-stories-template-296\":\"chunk-web-stories-template-296\",\"chunk-web-stories-template-308\":\"chunk-web-stories-template-308\",\"chunk-web-stories-template-310\":\"chunk-web-stories-template-310\",\"chunk-web-stories-template-304\":\"chunk-web-stories-template-304\",\"chunk-web-stories-template-316\":\"chunk-web-stories-template-316\",\"chunk-web-stories-template-318\":\"chunk-web-stories-template-318\",\"chunk-web-stories-template-312\":\"chunk-web-stories-template-312\",\"chunk-web-stories-template-324\":\"chunk-web-stories-template-324\",\"chunk-web-stories-template-326\":\"chunk-web-stories-template-326\",\"chunk-web-stories-template-320\":\"chunk-web-stories-template-320\",\"chunk-web-stories-template-332\":\"chunk-web-stories-template-332\",\"chunk-web-stories-template-334\":\"chunk-web-stories-template-334\",\"chunk-web-stories-template-328\":\"chunk-web-stories-template-328\",\"chunk-web-stories-template-340\":\"chunk-web-stories-template-340\",\"chunk-web-stories-template-342\":\"chunk-web-stories-template-342\",\"chunk-web-stories-template-336\":\"chunk-web-stories-template-336\",\"chunk-web-stories-template-348\":\"chunk-web-stories-template-348\",\"chunk-web-stories-template-350\":\"chunk-web-stories-template-350\",\"chunk-web-stories-template-344\":\"chunk-web-stories-template-344\",\"chunk-web-stories-template-356\":\"chunk-web-stories-template-356\",\"chunk-web-stories-template-358\":\"chunk-web-stories-template-358\",\"chunk-web-stories-template-352\":\"chunk-web-stories-template-352\",\"chunk-web-stories-template-36\":\"chunk-web-stories-template-36\",\"chunk-web-stories-template-364\":\"chunk-web-stories-template-364\",\"chunk-web-stories-template-366\":\"chunk-web-stories-template-366\",\"chunk-web-stories-template-360\":\"chunk-web-stories-template-360\",\"chunk-web-stories-template-372\":\"chunk-web-stories-template-372\",\"chunk-web-stories-template-374\":\"chunk-web-stories-template-374\",\"chunk-web-stories-template-368\":\"chunk-web-stories-template-368\",\"chunk-web-stories-template-38\":\"chunk-web-stories-template-38\",\"chunk-web-stories-template-32\":\"chunk-web-stories-template-32\",\"chunk-web-stories-template-380\":\"chunk-web-stories-template-380\",\"chunk-web-stories-template-382\":\"chunk-web-stories-template-382\",\"chunk-web-stories-template-376\":\"chunk-web-stories-template-376\",\"chunk-web-stories-template-388\":\"chunk-web-stories-template-388\",\"chunk-web-stories-template-390\":\"chunk-web-stories-template-390\",\"chunk-web-stories-template-384\":\"chunk-web-stories-template-384\",\"chunk-web-stories-template-396\":\"chunk-web-stories-template-396\",\"chunk-web-stories-template-398\":\"chunk-web-stories-template-398\",\"chunk-web-stories-template-392\":\"chunk-web-stories-template-392\",\"chunk-web-stories-template-4\":\"chunk-web-stories-template-4\",\"chunk-web-stories-template-404\":\"chunk-web-stories-template-404\",\"chunk-web-stories-template-406\":\"chunk-web-stories-template-406\",\"chunk-web-stories-template-400\":\"chunk-web-stories-template-400\",\"chunk-web-stories-template-412\":\"chunk-web-stories-template-412\",\"chunk-web-stories-template-414\":\"chunk-web-stories-template-414\",\"chunk-web-stories-template-408\":\"chunk-web-stories-template-408\",\"chunk-web-stories-template-420\":\"chunk-web-stories-template-420\",\"chunk-web-stories-template-422\":\"chunk-web-stories-template-422\",\"chunk-web-stories-template-416\":\"chunk-web-stories-template-416\",\"chunk-web-stories-template-428\":\"chunk-web-stories-template-428\",\"chunk-web-stories-template-430\":\"chunk-web-stories-template-430\",\"chunk-web-stories-template-424\":\"chunk-web-stories-template-424\",\"chunk-web-stories-template-436\":\"chunk-web-stories-template-436\",\"chunk-web-stories-template-438\":\"chunk-web-stories-template-438\",\"chunk-web-stories-template-432\":\"chunk-web-stories-template-432\",\"chunk-web-stories-template-44\":\"chunk-web-stories-template-44\",\"chunk-web-stories-template-444\":\"chunk-web-stories-template-444\",\"chunk-web-stories-template-446\":\"chunk-web-stories-template-446\",\"chunk-web-stories-template-440\":\"chunk-web-stories-template-440\",\"chunk-web-stories-template-452\":\"chunk-web-stories-template-452\",\"chunk-web-stories-template-454\":\"chunk-web-stories-template-454\",\"chunk-web-stories-template-448\":\"chunk-web-stories-template-448\",\"chunk-web-stories-template-46\":\"chunk-web-stories-template-46\",\"chunk-web-stories-template-40\":\"chunk-web-stories-template-40\",\"chunk-web-stories-template-460\":\"chunk-web-stories-template-460\",\"chunk-web-stories-template-462\":\"chunk-web-stories-template-462\",\"chunk-web-stories-template-456\":\"chunk-web-stories-template-456\",\"chunk-web-stories-template-468\":\"chunk-web-stories-template-468\",\"chunk-web-stories-template-470\":\"chunk-web-stories-template-470\",\"chunk-web-stories-template-464\":\"chunk-web-stories-template-464\",\"chunk-web-stories-template-476\":\"chunk-web-stories-template-476\",\"chunk-web-stories-template-478\":\"chunk-web-stories-template-478\",\"chunk-web-stories-template-472\":\"chunk-web-stories-template-472\",\"chunk-web-stories-template-484\":\"chunk-web-stories-template-484\",\"chunk-web-stories-template-486\":\"chunk-web-stories-template-486\",\"chunk-web-stories-template-480\":\"chunk-web-stories-template-480\",\"chunk-web-stories-template-52\":\"chunk-web-stories-template-52\",\"chunk-web-stories-template-54\":\"chunk-web-stories-template-54\",\"chunk-web-stories-template-48\":\"chunk-web-stories-template-48\",\"chunk-web-stories-template-6\":\"chunk-web-stories-template-6\",\"chunk-web-stories-template-0\":\"chunk-web-stories-template-0\",\"chunk-web-stories-template-60\":\"chunk-web-stories-template-60\",\"chunk-web-stories-template-62\":\"chunk-web-stories-template-62\",\"chunk-web-stories-template-56\":\"chunk-web-stories-template-56\",\"chunk-web-stories-template-68\":\"chunk-web-stories-template-68\",\"chunk-web-stories-template-70\":\"chunk-web-stories-template-70\",\"chunk-web-stories-template-64\":\"chunk-web-stories-template-64\",\"chunk-web-stories-template-76\":\"chunk-web-stories-template-76\",\"chunk-web-stories-template-78\":\"chunk-web-stories-template-78\",\"chunk-web-stories-template-72\":\"chunk-web-stories-template-72\",\"chunk-web-stories-template-84\":\"chunk-web-stories-template-84\",\"chunk-web-stories-template-86\":\"chunk-web-stories-template-86\",\"chunk-web-stories-template-80\":\"chunk-web-stories-template-80\",\"chunk-web-stories-template-92\":\"chunk-web-stories-template-92\",\"chunk-web-stories-template-94\":\"chunk-web-stories-template-94\",\"chunk-web-stories-template-88\":\"chunk-web-stories-template-88\",\"vendors-chunk-focus-visible\":\"vendors-chunk-focus-visible\",\"vendors-chunk-getStoryPropsToSave-chunk-resize-observer-polyfill-joomla-story-editor\":\"vendors-chunk-getStoryPropsToSave-chunk-resize-observer-polyfill-joomla-story-editor\",\"vendors-chunk-getStoryPropsToSave-joomla-story-editor\":\"vendors-chunk-getStoryPropsToSave-joomla-story-editor\",\"chunk-getStoryPropsToSave\":\"chunk-getStoryPropsToSave\",\"chunk-colorthief\":\"chunk-colorthief\",\"chunk-fonts\":\"chunk-fonts\",\"chunk-web-stories-textset-0\":\"chunk-web-stories-textset-0\",\"chunk-web-stories-textset-1\":\"chunk-web-stories-textset-1\",\"chunk-web-stories-textset-2\":\"chunk-web-stories-textset-2\",\"chunk-web-stories-textset-3\":\"chunk-web-stories-textset-3\",\"chunk-web-stories-textset-4\":\"chunk-web-stories-textset-4\",\"chunk-web-stories-textset-5\":\"chunk-web-stories-textset-5\",\"chunk-web-stories-textset-6\":\"chunk-web-stories-textset-6\",\"chunk-web-stories-textset-7\":\"chunk-web-stories-textset-7\",\"vendors-chunk-ffmpeg\":\"vendors-chunk-ffmpeg\",\"vendors-chunk-html-to-image\":\"vendors-chunk-html-to-image\",\"vendors-chunk-react-calendar\":\"vendors-chunk-react-calendar\",\"vendors-chunk-react-color\":\"vendors-chunk-react-color\",\"vendors-chunk-web-animations-js\":\"vendors-chunk-web-animations-js\"}[chunkId]||chunkId) + \".js?v=\" + {\"chunk-web-stories-template-100\":\"f0651ef0a9200df0ca91\",\"chunk-web-stories-template-102\":\"8f48fce06ed4530a7fb3\",\"chunk-web-stories-template-96\":\"78800d3d0b187b83adfa\",\"chunk-web-stories-template-108\":\"0a7d5a812b34630cc5d2\",\"chunk-web-stories-template-110\":\"1ee1ba2e05a4eab5874a\",\"chunk-web-stories-template-104\":\"f5a051cfe08016c54ab0\",\"chunk-web-stories-template-116\":\"c92ff8bb35b07a0cab55\",\"chunk-web-stories-template-118\":\"2a11b60e435098f2f17e\",\"chunk-web-stories-template-112\":\"7c57865a4a9bbc891f29\",\"chunk-web-stories-template-12\":\"e8d3811c5f6f43659840\",\"chunk-web-stories-template-124\":\"0ec6c3365e1de727be56\",\"chunk-web-stories-template-126\":\"ac51dee2133bf654c5ba\",\"chunk-web-stories-template-120\":\"01bb54614dbbd893642d\",\"chunk-web-stories-template-132\":\"85faa676778c20704db5\",\"chunk-web-stories-template-134\":\"6968b129891956a9c7f8\",\"chunk-web-stories-template-128\":\"16f662c508211edafe8b\",\"chunk-web-stories-template-14\":\"9940e90f226543166021\",\"chunk-web-stories-template-8\":\"2a8d556133e821020a37\",\"chunk-web-stories-template-140\":\"4bdbfe2a02c70cbb01c3\",\"chunk-web-stories-template-142\":\"2a3d58040904fc7e1cb4\",\"chunk-web-stories-template-136\":\"899852aaaf68afe08dd1\",\"chunk-web-stories-template-148\":\"305e8e7dc59526462a2c\",\"chunk-web-stories-template-150\":\"d3e84971310e5f1cda1e\",\"chunk-web-stories-template-144\":\"1bfc1df66c546ffe3365\",\"chunk-web-stories-template-156\":\"f20ebe93a731a2db50e1\",\"chunk-web-stories-template-158\":\"c1826c5000054a958496\",\"chunk-web-stories-template-152\":\"e92f947adada52df3af7\",\"chunk-web-stories-template-164\":\"9b4c7a229b557af5e811\",\"chunk-web-stories-template-166\":\"f03fef05c98ba2e0b4c9\",\"chunk-web-stories-template-160\":\"1881669668c98755ec1c\",\"chunk-web-stories-template-172\":\"f9f30df947de31675de8\",\"chunk-web-stories-template-174\":\"7eece3c18e5b86bc7eff\",\"chunk-web-stories-template-168\":\"cb9debc9d98a1aa95c9e\",\"chunk-web-stories-template-180\":\"6026fc107093958fe2c1\",\"chunk-web-stories-template-182\":\"22d35286273a7135a20d\",\"chunk-web-stories-template-176\":\"900e74ae2c5f4f7c59b2\",\"chunk-web-stories-template-188\":\"56705b7ea9c88c21bbf1\",\"chunk-web-stories-template-190\":\"abcfd80afff83a870e04\",\"chunk-web-stories-template-184\":\"469bd612d431241441fe\",\"chunk-web-stories-template-196\":\"b4b5643c1c98d1999344\",\"chunk-web-stories-template-198\":\"8187b08015a1e6e5995a\",\"chunk-web-stories-template-192\":\"386763de0b04aebdaed0\",\"chunk-web-stories-template-20\":\"81f56939e2e8402b2b3a\",\"chunk-web-stories-template-204\":\"dec14ed345593867d8fd\",\"chunk-web-stories-template-206\":\"ad0c945ff65014cb697d\",\"chunk-web-stories-template-200\":\"ad1b8bafe97aa3ac3090\",\"chunk-web-stories-template-212\":\"c783361ae84440423bf7\",\"chunk-web-stories-template-214\":\"07b7b6a66de00d163383\",\"chunk-web-stories-template-208\":\"210ec331c3df2f7c946f\",\"chunk-web-stories-template-22\":\"5d8c55cf2efc5f407e72\",\"chunk-web-stories-template-16\":\"af08ee4ec12c329aa7ce\",\"chunk-web-stories-template-220\":\"51ef989d1b1b6de4179d\",\"chunk-web-stories-template-222\":\"da48a47585bec007f3fd\",\"chunk-web-stories-template-216\":\"b9a4303b35aaf30adfea\",\"chunk-web-stories-template-228\":\"7fc546c21b1e411eabed\",\"chunk-web-stories-template-230\":\"c71e24d219f783d4f9e9\",\"chunk-web-stories-template-224\":\"30cc2d69951a579ae042\",\"chunk-web-stories-template-236\":\"6be71030565fa77fbcd5\",\"chunk-web-stories-template-238\":\"b02d5269d9a7e2182a88\",\"chunk-web-stories-template-232\":\"f059a629451df0415125\",\"chunk-web-stories-template-244\":\"4e615cd72a690a86978d\",\"chunk-web-stories-template-246\":\"d2525e53b720ed11eae0\",\"chunk-web-stories-template-240\":\"d9d30a95c9bd5c642369\",\"chunk-web-stories-template-252\":\"f81a6cd3a5bd74a424dc\",\"chunk-web-stories-template-254\":\"6a5b19752e0b3f291e47\",\"chunk-web-stories-template-248\":\"74094c3cfdaa750a5e52\",\"chunk-web-stories-template-260\":\"80c1bcd445599d41779a\",\"chunk-web-stories-template-262\":\"aed67b89ccf25dbb7fd4\",\"chunk-web-stories-template-256\":\"816a186128b5033b3f7f\",\"chunk-web-stories-template-268\":\"9a459a283f20d6c9e265\",\"chunk-web-stories-template-270\":\"9f086bd5a86c217ae879\",\"chunk-web-stories-template-264\":\"bd84afcb5779a1a5abca\",\"chunk-web-stories-template-276\":\"01b1f2fd415b03a4e115\",\"chunk-web-stories-template-278\":\"316e38d10fb7b3618327\",\"chunk-web-stories-template-272\":\"b754777d7cccda3a27a9\",\"chunk-web-stories-template-28\":\"ddd92ff0fcb211ecb6aa\",\"chunk-web-stories-template-284\":\"3149e25f4c2454a68d37\",\"chunk-web-stories-template-286\":\"c13f568469552a6930d3\",\"chunk-web-stories-template-280\":\"f5929796a63177372179\",\"chunk-web-stories-template-292\":\"01ca3645e8f3fa65a6f7\",\"chunk-web-stories-template-294\":\"445cbb34498cf4025e13\",\"chunk-web-stories-template-288\":\"eddb69f667a90f003e0c\",\"chunk-web-stories-template-30\":\"20cfe860dca60b363eb8\",\"chunk-web-stories-template-24\":\"9b756f8563c74887f306\",\"chunk-web-stories-template-300\":\"3e75dc1316ab49eac577\",\"chunk-web-stories-template-302\":\"80495af8803174feaa4f\",\"chunk-web-stories-template-296\":\"5e824f223416af3173d9\",\"chunk-web-stories-template-308\":\"2a9613ce09aa4643fe66\",\"chunk-web-stories-template-310\":\"c34d10ac86722df8fa1e\",\"chunk-web-stories-template-304\":\"8ad4023866a898812830\",\"chunk-web-stories-template-316\":\"113f1cb713951fb3a947\",\"chunk-web-stories-template-318\":\"819ef90aaa9250c00ce6\",\"chunk-web-stories-template-312\":\"b2f4a0afb5cde1311aaf\",\"chunk-web-stories-template-324\":\"c55776e796fd031e3305\",\"chunk-web-stories-template-326\":\"28f9804d0c2c33025e75\",\"chunk-web-stories-template-320\":\"82f8299b16382675500a\",\"chunk-web-stories-template-332\":\"fae846eeb232a402af59\",\"chunk-web-stories-template-334\":\"5d4b4ab721ec9d336f4c\",\"chunk-web-stories-template-328\":\"c023d172814d941d32ea\",\"chunk-web-stories-template-340\":\"722a9abcf0297b1186d1\",\"chunk-web-stories-template-342\":\"5a3c585d3a500a987475\",\"chunk-web-stories-template-336\":\"490755e85e456bc7dca2\",\"chunk-web-stories-template-348\":\"dfdea27ae8e7974515d8\",\"chunk-web-stories-template-350\":\"83d06f5a8bc1a58e0d3d\",\"chunk-web-stories-template-344\":\"6743b2ae5cfc27b66bc7\",\"chunk-web-stories-template-356\":\"0beab5938ae9824e82d4\",\"chunk-web-stories-template-358\":\"7e970e5201faf8894ef6\",\"chunk-web-stories-template-352\":\"d2bea5daaf0005b9c582\",\"chunk-web-stories-template-36\":\"5bc03c9beb36959aa8bb\",\"chunk-web-stories-template-364\":\"b2a67d89aea6f1dfd4bf\",\"chunk-web-stories-template-366\":\"5e2981de3bf20e68c0a2\",\"chunk-web-stories-template-360\":\"176ae4f5218c4d979ae8\",\"chunk-web-stories-template-372\":\"99e6218f67aab3cfb677\",\"chunk-web-stories-template-374\":\"6c075052ed82d0876d09\",\"chunk-web-stories-template-368\":\"ebe8b20f188c95853f80\",\"chunk-web-stories-template-38\":\"89665d51d59e86dd1b11\",\"chunk-web-stories-template-32\":\"61efbb076265976c458f\",\"chunk-web-stories-template-380\":\"ddc147659f9ce8776b82\",\"chunk-web-stories-template-382\":\"fabfdddbfd803ead2841\",\"chunk-web-stories-template-376\":\"c9b0374fae59c5b398ab\",\"chunk-web-stories-template-388\":\"e23e8f967eece7087ffc\",\"chunk-web-stories-template-390\":\"3a989e41944ec3d7353c\",\"chunk-web-stories-template-384\":\"0e7559efcb35dd8ced1f\",\"chunk-web-stories-template-396\":\"01406f52808aeab38bf2\",\"chunk-web-stories-template-398\":\"81b8322fe9f665fb02df\",\"chunk-web-stories-template-392\":\"5f83e3a39d6c33e456ee\",\"chunk-web-stories-template-4\":\"d50c9bdde02eb4c25386\",\"chunk-web-stories-template-404\":\"ca8ef00386adfe94ad66\",\"chunk-web-stories-template-406\":\"49b49f2e87baced3c72f\",\"chunk-web-stories-template-400\":\"351c802103b962f9da6b\",\"chunk-web-stories-template-412\":\"e228a11531f617f8f6f3\",\"chunk-web-stories-template-414\":\"51e2edc3940d5b19fb63\",\"chunk-web-stories-template-408\":\"4a8a5928379c0bb68d71\",\"chunk-web-stories-template-420\":\"d35ddede0c10a31e79e8\",\"chunk-web-stories-template-422\":\"273a97d69e2f4b5d59a9\",\"chunk-web-stories-template-416\":\"6d6c11c9284b000fe34b\",\"chunk-web-stories-template-428\":\"2fcbab167284d9ec4daf\",\"chunk-web-stories-template-430\":\"ef0e915bf54ce4cb8c5e\",\"chunk-web-stories-template-424\":\"b451e9dc5469b18d0f96\",\"chunk-web-stories-template-436\":\"b25d141c3df7f4167666\",\"chunk-web-stories-template-438\":\"d2305c1c8604cbb1c6f4\",\"chunk-web-stories-template-432\":\"37d95ca660d1435801df\",\"chunk-web-stories-template-44\":\"8250ed2e702b1f48a89a\",\"chunk-web-stories-template-444\":\"db1eebd13238c71126b4\",\"chunk-web-stories-template-446\":\"4c9d5a5bfe26ec92ad01\",\"chunk-web-stories-template-440\":\"7b06ae04e1040b79069d\",\"chunk-web-stories-template-452\":\"8226ab00b624e33a1c6f\",\"chunk-web-stories-template-454\":\"06a717dd7a357677f81c\",\"chunk-web-stories-template-448\":\"e6659f0a47147bfc4138\",\"chunk-web-stories-template-46\":\"dee4331025699a5914dd\",\"chunk-web-stories-template-40\":\"cced39bb24da7ed86e70\",\"chunk-web-stories-template-460\":\"6114bac9e2459bb1a534\",\"chunk-web-stories-template-462\":\"78f8cc22eacfcf4c4f18\",\"chunk-web-stories-template-456\":\"7383cdb5dfc7a26936ff\",\"chunk-web-stories-template-468\":\"fc29154e2eca1614bfc2\",\"chunk-web-stories-template-470\":\"a9e835f026b230bc1b40\",\"chunk-web-stories-template-464\":\"3db26c78b8c360de6a6f\",\"chunk-web-stories-template-476\":\"2d7bac32565f828a75a1\",\"chunk-web-stories-template-478\":\"5e781cc71d88c7f1418a\",\"chunk-web-stories-template-472\":\"f006749c171438e7b611\",\"chunk-web-stories-template-484\":\"33d57d4503eb74822e27\",\"chunk-web-stories-template-486\":\"20a5b78df96f7daac47b\",\"chunk-web-stories-template-480\":\"debdcc996695caaeb035\",\"chunk-web-stories-template-52\":\"85f0ffa71558e2167579\",\"chunk-web-stories-template-54\":\"2fe0058cff59604f037a\",\"chunk-web-stories-template-48\":\"6a929273f409f1d5dbfe\",\"chunk-web-stories-template-6\":\"84761ba9a9d904c38376\",\"chunk-web-stories-template-0\":\"f4bb6748d250ce86d2ce\",\"chunk-web-stories-template-60\":\"b376d76f779ad203dadb\",\"chunk-web-stories-template-62\":\"ec10dc0f9355331fb2ae\",\"chunk-web-stories-template-56\":\"47eb0a23531b2787918e\",\"chunk-web-stories-template-68\":\"c0d3d3b935d8cc6d9c4f\",\"chunk-web-stories-template-70\":\"84f8f459000ce893071b\",\"chunk-web-stories-template-64\":\"9054af617120933f5e58\",\"chunk-web-stories-template-76\":\"971edcb6048d1c89bd62\",\"chunk-web-stories-template-78\":\"4b7eaf198e893d996742\",\"chunk-web-stories-template-72\":\"e3cff8228b0051ed92bb\",\"chunk-web-stories-template-84\":\"7691cf765a99c2dd6998\",\"chunk-web-stories-template-86\":\"c40bb4fcdc94f4e9ce94\",\"chunk-web-stories-template-80\":\"0baad6b183533eedf888\",\"chunk-web-stories-template-92\":\"43a21a764b4cbe37279c\",\"chunk-web-stories-template-94\":\"89fca1e7b8f8613de633\",\"chunk-web-stories-template-88\":\"cb42d36613ecf6819c45\",\"vendors-chunk-focus-visible\":\"4bb1e0941a29709380ef\",\"vendors-chunk-getStoryPropsToSave-chunk-resize-observer-polyfill-joomla-story-editor\":\"5101f8073038be8c0cc8\",\"vendors-chunk-getStoryPropsToSave-joomla-story-editor\":\"e4dc81fc7684c8d00914\",\"chunk-getStoryPropsToSave\":\"06f95dae8f9fda97555a\",\"chunk-colorthief\":\"4565f9c6a22b85167547\",\"chunk-fonts\":\"1b5ef8da6d4ff5ad8046\",\"chunk-web-stories-textset-0\":\"312bc92229742236f82d\",\"chunk-web-stories-textset-1\":\"580e2cf0683d8b1014a9\",\"chunk-web-stories-textset-2\":\"1f1eabf69188a437f988\",\"chunk-web-stories-textset-3\":\"2922c9e2b9423cf864d6\",\"chunk-web-stories-textset-4\":\"d4724b9cd64a348c4df0\",\"chunk-web-stories-textset-5\":\"a38a9203eda695708011\",\"chunk-web-stories-textset-6\":\"e9b60a3197e667d6bb49\",\"chunk-web-stories-textset-7\":\"d7cc7abdbf28fff47f83\",\"vendors-chunk-ffmpeg\":\"173f982c7bf73c3a60d8\",\"vendors-chunk-html-to-image\":\"cd72994c5b8521f40701\",\"vendors-chunk-react-calendar\":\"ff2063df92b184d544ce\",\"vendors-chunk-react-color\":\"7914dc0f87fa331ba414\",\"vendors-chunk-web-animations-js\":\"ea39b6a883d7ae36c41c\"}[chunkId] + \"\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"vendors-chunk-getStoryPropsToSave-joomla-story-editor\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"../css/\" + ({\"chunk-web-stories-template-100\":\"chunk-web-stories-template-100\",\"chunk-web-stories-template-102\":\"chunk-web-stories-template-102\",\"chunk-web-stories-template-96\":\"chunk-web-stories-template-96\",\"chunk-web-stories-template-108\":\"chunk-web-stories-template-108\",\"chunk-web-stories-template-110\":\"chunk-web-stories-template-110\",\"chunk-web-stories-template-104\":\"chunk-web-stories-template-104\",\"chunk-web-stories-template-116\":\"chunk-web-stories-template-116\",\"chunk-web-stories-template-118\":\"chunk-web-stories-template-118\",\"chunk-web-stories-template-112\":\"chunk-web-stories-template-112\",\"chunk-web-stories-template-12\":\"chunk-web-stories-template-12\",\"chunk-web-stories-template-124\":\"chunk-web-stories-template-124\",\"chunk-web-stories-template-126\":\"chunk-web-stories-template-126\",\"chunk-web-stories-template-120\":\"chunk-web-stories-template-120\",\"chunk-web-stories-template-132\":\"chunk-web-stories-template-132\",\"chunk-web-stories-template-134\":\"chunk-web-stories-template-134\",\"chunk-web-stories-template-128\":\"chunk-web-stories-template-128\",\"chunk-web-stories-template-14\":\"chunk-web-stories-template-14\",\"chunk-web-stories-template-8\":\"chunk-web-stories-template-8\",\"chunk-web-stories-template-140\":\"chunk-web-stories-template-140\",\"chunk-web-stories-template-142\":\"chunk-web-stories-template-142\",\"chunk-web-stories-template-136\":\"chunk-web-stories-template-136\",\"chunk-web-stories-template-148\":\"chunk-web-stories-template-148\",\"chunk-web-stories-template-150\":\"chunk-web-stories-template-150\",\"chunk-web-stories-template-144\":\"chunk-web-stories-template-144\",\"chunk-web-stories-template-156\":\"chunk-web-stories-template-156\",\"chunk-web-stories-template-158\":\"chunk-web-stories-template-158\",\"chunk-web-stories-template-152\":\"chunk-web-stories-template-152\",\"chunk-web-stories-template-164\":\"chunk-web-stories-template-164\",\"chunk-web-stories-template-166\":\"chunk-web-stories-template-166\",\"chunk-web-stories-template-160\":\"chunk-web-stories-template-160\",\"chunk-web-stories-template-172\":\"chunk-web-stories-template-172\",\"chunk-web-stories-template-174\":\"chunk-web-stories-template-174\",\"chunk-web-stories-template-168\":\"chunk-web-stories-template-168\",\"chunk-web-stories-template-180\":\"chunk-web-stories-template-180\",\"chunk-web-stories-template-182\":\"chunk-web-stories-template-182\",\"chunk-web-stories-template-176\":\"chunk-web-stories-template-176\",\"chunk-web-stories-template-188\":\"chunk-web-stories-template-188\",\"chunk-web-stories-template-190\":\"chunk-web-stories-template-190\",\"chunk-web-stories-template-184\":\"chunk-web-stories-template-184\",\"chunk-web-stories-template-196\":\"chunk-web-stories-template-196\",\"chunk-web-stories-template-198\":\"chunk-web-stories-template-198\",\"chunk-web-stories-template-192\":\"chunk-web-stories-template-192\",\"chunk-web-stories-template-20\":\"chunk-web-stories-template-20\",\"chunk-web-stories-template-204\":\"chunk-web-stories-template-204\",\"chunk-web-stories-template-206\":\"chunk-web-stories-template-206\",\"chunk-web-stories-template-200\":\"chunk-web-stories-template-200\",\"chunk-web-stories-template-212\":\"chunk-web-stories-template-212\",\"chunk-web-stories-template-214\":\"chunk-web-stories-template-214\",\"chunk-web-stories-template-208\":\"chunk-web-stories-template-208\",\"chunk-web-stories-template-22\":\"chunk-web-stories-template-22\",\"chunk-web-stories-template-16\":\"chunk-web-stories-template-16\",\"chunk-web-stories-template-220\":\"chunk-web-stories-template-220\",\"chunk-web-stories-template-222\":\"chunk-web-stories-template-222\",\"chunk-web-stories-template-216\":\"chunk-web-stories-template-216\",\"chunk-web-stories-template-228\":\"chunk-web-stories-template-228\",\"chunk-web-stories-template-230\":\"chunk-web-stories-template-230\",\"chunk-web-stories-template-224\":\"chunk-web-stories-template-224\",\"chunk-web-stories-template-236\":\"chunk-web-stories-template-236\",\"chunk-web-stories-template-238\":\"chunk-web-stories-template-238\",\"chunk-web-stories-template-232\":\"chunk-web-stories-template-232\",\"chunk-web-stories-template-244\":\"chunk-web-stories-template-244\",\"chunk-web-stories-template-246\":\"chunk-web-stories-template-246\",\"chunk-web-stories-template-240\":\"chunk-web-stories-template-240\",\"chunk-web-stories-template-252\":\"chunk-web-stories-template-252\",\"chunk-web-stories-template-254\":\"chunk-web-stories-template-254\",\"chunk-web-stories-template-248\":\"chunk-web-stories-template-248\",\"chunk-web-stories-template-260\":\"chunk-web-stories-template-260\",\"chunk-web-stories-template-262\":\"chunk-web-stories-template-262\",\"chunk-web-stories-template-256\":\"chunk-web-stories-template-256\",\"chunk-web-stories-template-268\":\"chunk-web-stories-template-268\",\"chunk-web-stories-template-270\":\"chunk-web-stories-template-270\",\"chunk-web-stories-template-264\":\"chunk-web-stories-template-264\",\"chunk-web-stories-template-276\":\"chunk-web-stories-template-276\",\"chunk-web-stories-template-278\":\"chunk-web-stories-template-278\",\"chunk-web-stories-template-272\":\"chunk-web-stories-template-272\",\"chunk-web-stories-template-28\":\"chunk-web-stories-template-28\",\"chunk-web-stories-template-284\":\"chunk-web-stories-template-284\",\"chunk-web-stories-template-286\":\"chunk-web-stories-template-286\",\"chunk-web-stories-template-280\":\"chunk-web-stories-template-280\",\"chunk-web-stories-template-292\":\"chunk-web-stories-template-292\",\"chunk-web-stories-template-294\":\"chunk-web-stories-template-294\",\"chunk-web-stories-template-288\":\"chunk-web-stories-template-288\",\"chunk-web-stories-template-30\":\"chunk-web-stories-template-30\",\"chunk-web-stories-template-24\":\"chunk-web-stories-template-24\",\"chunk-web-stories-template-300\":\"chunk-web-stories-template-300\",\"chunk-web-stories-template-302\":\"chunk-web-stories-template-302\",\"chunk-web-stories-template-296\":\"chunk-web-stories-template-296\",\"chunk-web-stories-template-308\":\"chunk-web-stories-template-308\",\"chunk-web-stories-template-310\":\"chunk-web-stories-template-310\",\"chunk-web-stories-template-304\":\"chunk-web-stories-template-304\",\"chunk-web-stories-template-316\":\"chunk-web-stories-template-316\",\"chunk-web-stories-template-318\":\"chunk-web-stories-template-318\",\"chunk-web-stories-template-312\":\"chunk-web-stories-template-312\",\"chunk-web-stories-template-324\":\"chunk-web-stories-template-324\",\"chunk-web-stories-template-326\":\"chunk-web-stories-template-326\",\"chunk-web-stories-template-320\":\"chunk-web-stories-template-320\",\"chunk-web-stories-template-332\":\"chunk-web-stories-template-332\",\"chunk-web-stories-template-334\":\"chunk-web-stories-template-334\",\"chunk-web-stories-template-328\":\"chunk-web-stories-template-328\",\"chunk-web-stories-template-340\":\"chunk-web-stories-template-340\",\"chunk-web-stories-template-342\":\"chunk-web-stories-template-342\",\"chunk-web-stories-template-336\":\"chunk-web-stories-template-336\",\"chunk-web-stories-template-348\":\"chunk-web-stories-template-348\",\"chunk-web-stories-template-350\":\"chunk-web-stories-template-350\",\"chunk-web-stories-template-344\":\"chunk-web-stories-template-344\",\"chunk-web-stories-template-356\":\"chunk-web-stories-template-356\",\"chunk-web-stories-template-358\":\"chunk-web-stories-template-358\",\"chunk-web-stories-template-352\":\"chunk-web-stories-template-352\",\"chunk-web-stories-template-36\":\"chunk-web-stories-template-36\",\"chunk-web-stories-template-364\":\"chunk-web-stories-template-364\",\"chunk-web-stories-template-366\":\"chunk-web-stories-template-366\",\"chunk-web-stories-template-360\":\"chunk-web-stories-template-360\",\"chunk-web-stories-template-372\":\"chunk-web-stories-template-372\",\"chunk-web-stories-template-374\":\"chunk-web-stories-template-374\",\"chunk-web-stories-template-368\":\"chunk-web-stories-template-368\",\"chunk-web-stories-template-38\":\"chunk-web-stories-template-38\",\"chunk-web-stories-template-32\":\"chunk-web-stories-template-32\",\"chunk-web-stories-template-380\":\"chunk-web-stories-template-380\",\"chunk-web-stories-template-382\":\"chunk-web-stories-template-382\",\"chunk-web-stories-template-376\":\"chunk-web-stories-template-376\",\"chunk-web-stories-template-388\":\"chunk-web-stories-template-388\",\"chunk-web-stories-template-390\":\"chunk-web-stories-template-390\",\"chunk-web-stories-template-384\":\"chunk-web-stories-template-384\",\"chunk-web-stories-template-396\":\"chunk-web-stories-template-396\",\"chunk-web-stories-template-398\":\"chunk-web-stories-template-398\",\"chunk-web-stories-template-392\":\"chunk-web-stories-template-392\",\"chunk-web-stories-template-4\":\"chunk-web-stories-template-4\",\"chunk-web-stories-template-404\":\"chunk-web-stories-template-404\",\"chunk-web-stories-template-406\":\"chunk-web-stories-template-406\",\"chunk-web-stories-template-400\":\"chunk-web-stories-template-400\",\"chunk-web-stories-template-412\":\"chunk-web-stories-template-412\",\"chunk-web-stories-template-414\":\"chunk-web-stories-template-414\",\"chunk-web-stories-template-408\":\"chunk-web-stories-template-408\",\"chunk-web-stories-template-420\":\"chunk-web-stories-template-420\",\"chunk-web-stories-template-422\":\"chunk-web-stories-template-422\",\"chunk-web-stories-template-416\":\"chunk-web-stories-template-416\",\"chunk-web-stories-template-428\":\"chunk-web-stories-template-428\",\"chunk-web-stories-template-430\":\"chunk-web-stories-template-430\",\"chunk-web-stories-template-424\":\"chunk-web-stories-template-424\",\"chunk-web-stories-template-436\":\"chunk-web-stories-template-436\",\"chunk-web-stories-template-438\":\"chunk-web-stories-template-438\",\"chunk-web-stories-template-432\":\"chunk-web-stories-template-432\",\"chunk-web-stories-template-44\":\"chunk-web-stories-template-44\",\"chunk-web-stories-template-444\":\"chunk-web-stories-template-444\",\"chunk-web-stories-template-446\":\"chunk-web-stories-template-446\",\"chunk-web-stories-template-440\":\"chunk-web-stories-template-440\",\"chunk-web-stories-template-452\":\"chunk-web-stories-template-452\",\"chunk-web-stories-template-454\":\"chunk-web-stories-template-454\",\"chunk-web-stories-template-448\":\"chunk-web-stories-template-448\",\"chunk-web-stories-template-46\":\"chunk-web-stories-template-46\",\"chunk-web-stories-template-40\":\"chunk-web-stories-template-40\",\"chunk-web-stories-template-460\":\"chunk-web-stories-template-460\",\"chunk-web-stories-template-462\":\"chunk-web-stories-template-462\",\"chunk-web-stories-template-456\":\"chunk-web-stories-template-456\",\"chunk-web-stories-template-468\":\"chunk-web-stories-template-468\",\"chunk-web-stories-template-470\":\"chunk-web-stories-template-470\",\"chunk-web-stories-template-464\":\"chunk-web-stories-template-464\",\"chunk-web-stories-template-476\":\"chunk-web-stories-template-476\",\"chunk-web-stories-template-478\":\"chunk-web-stories-template-478\",\"chunk-web-stories-template-472\":\"chunk-web-stories-template-472\",\"chunk-web-stories-template-484\":\"chunk-web-stories-template-484\",\"chunk-web-stories-template-486\":\"chunk-web-stories-template-486\",\"chunk-web-stories-template-480\":\"chunk-web-stories-template-480\",\"chunk-web-stories-template-52\":\"chunk-web-stories-template-52\",\"chunk-web-stories-template-54\":\"chunk-web-stories-template-54\",\"chunk-web-stories-template-48\":\"chunk-web-stories-template-48\",\"chunk-web-stories-template-6\":\"chunk-web-stories-template-6\",\"chunk-web-stories-template-0\":\"chunk-web-stories-template-0\",\"chunk-web-stories-template-60\":\"chunk-web-stories-template-60\",\"chunk-web-stories-template-62\":\"chunk-web-stories-template-62\",\"chunk-web-stories-template-56\":\"chunk-web-stories-template-56\",\"chunk-web-stories-template-68\":\"chunk-web-stories-template-68\",\"chunk-web-stories-template-70\":\"chunk-web-stories-template-70\",\"chunk-web-stories-template-64\":\"chunk-web-stories-template-64\",\"chunk-web-stories-template-76\":\"chunk-web-stories-template-76\",\"chunk-web-stories-template-78\":\"chunk-web-stories-template-78\",\"chunk-web-stories-template-72\":\"chunk-web-stories-template-72\",\"chunk-web-stories-template-84\":\"chunk-web-stories-template-84\",\"chunk-web-stories-template-86\":\"chunk-web-stories-template-86\",\"chunk-web-stories-template-80\":\"chunk-web-stories-template-80\",\"chunk-web-stories-template-92\":\"chunk-web-stories-template-92\",\"chunk-web-stories-template-94\":\"chunk-web-stories-template-94\",\"chunk-web-stories-template-88\":\"chunk-web-stories-template-88\",\"vendors-chunk-focus-visible\":\"vendors-chunk-focus-visible\",\"vendors-chunk-getStoryPropsToSave-chunk-resize-observer-polyfill-joomla-story-editor\":\"vendors-chunk-getStoryPropsToSave-chunk-resize-observer-polyfill-joomla-story-editor\",\"vendors-chunk-getStoryPropsToSave-joomla-story-editor\":\"vendors-chunk-getStoryPropsToSave-joomla-story-editor\",\"chunk-getStoryPropsToSave\":\"chunk-getStoryPropsToSave\",\"chunk-colorthief\":\"chunk-colorthief\",\"chunk-fonts\":\"chunk-fonts\",\"chunk-web-stories-textset-0\":\"chunk-web-stories-textset-0\",\"chunk-web-stories-textset-1\":\"chunk-web-stories-textset-1\",\"chunk-web-stories-textset-2\":\"chunk-web-stories-textset-2\",\"chunk-web-stories-textset-3\":\"chunk-web-stories-textset-3\",\"chunk-web-stories-textset-4\":\"chunk-web-stories-textset-4\",\"chunk-web-stories-textset-5\":\"chunk-web-stories-textset-5\",\"chunk-web-stories-textset-6\":\"chunk-web-stories-textset-6\",\"chunk-web-stories-textset-7\":\"chunk-web-stories-textset-7\",\"vendors-chunk-ffmpeg\":\"vendors-chunk-ffmpeg\",\"vendors-chunk-html-to-image\":\"vendors-chunk-html-to-image\",\"vendors-chunk-react-calendar\":\"vendors-chunk-react-calendar\",\"vendors-chunk-react-color\":\"vendors-chunk-react-color\",\"vendors-chunk-web-animations-js\":\"vendors-chunk-web-animations-js\"}[chunkId]||chunkId) + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tvar onLinkComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks.\n \t\t\t\t\tlinkTag.onerror = linkTag.onload = null;\n \t\t\t\t\tif (event.type === 'load') {\n \t\t\t\t\t\tresolve();\n \t\t\t\t\t} else {\n \t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n \t\t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n \t\t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\t\terr.type = errorType;\n \t\t\t\t\t\terr.request = realHref;\n \t\t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\t\treject(err);\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tdocument.head.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../media/com_webstories/js/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"__webStories_webpackJsonp\"] = window[\"__webStories_webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./packages/joomla-dashboard/index.js\",\"vendors-joomla-dashboard-joomla-story-editor\",\"joomla-dashboard-joomla-story-editor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { createContext } from '@web-stories-wp/react';\n\n/**\n * Internal dependencies\n */\nimport useStoryApi from './useStoryApi';\nimport useTemplateApi from './useTemplateApi';\nimport useUsersApi from './useUsersApi';\n\nexport const ApiContext = createContext({ state: {}, actions: {} });\n\nexport default function ApiProvider({ children }) {\n  const { api: usersApi } = useUsersApi();\n  const { templates, api: templateApi } = useTemplateApi();\n  const { stories, api: storyApi } = useStoryApi();\n\n  const value = {\n    state: {\n      stories,\n      templates,\n    },\n    actions: {\n      storyApi,\n      templateApi,\n      usersApi,\n    },\n  };\n\n  return <ApiContext.Provider value={value}>{children}</ApiContext.Provider>;\n}\n\nApiProvider.propTypes = {\n  children: PropTypes.node,\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as ApiProvider } from './apiProvider';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { identity, useContextSelector } from '@web-stories-wp/react';\n/**\n * Internal dependencies\n */\nimport { ApiContext } from './apiProvider';\n\nexport default function useApi(selector = identity) {\n  return useContextSelector(ApiContext, selector);\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useEffect, useDebouncedCallback } from '@web-stories-wp/react';\nimport { useSnackbar } from '@web-stories-wp/design-system';\n/**\n * Internal dependencies\n */\nimport useApi from './useApi';\n\nfunction useApiAlerts() {\n  const { storyError, templateError } = useApi(\n    ({\n      state: {\n        stories: { error: storyError },\n        templates: { error: templateError },\n      },\n    }) => ({\n      storyError,\n      templateError,\n    })\n  );\n  const { showSnackbar } = useSnackbar();\n\n  const debouncedShowSnackbar = useDebouncedCallback((message) => {\n    return showSnackbar({ message, dismissible: true });\n  }, 200);\n  // if there is an API error, display a snackbar\n  useEffect(() => {\n    if (storyError?.id) {\n      debouncedShowSnackbar(storyError.message);\n    }\n  }, [storyError, debouncedShowSnackbar]);\n\n  useEffect(() => {\n    if (templateError?.id) {\n      debouncedShowSnackbar(templateError.message);\n    }\n  }, [templateError, debouncedShowSnackbar]);\n}\nexport default useApiAlerts;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useMemo,\n  useReducer,\n  useRef,\n} from '@web-stories-wp/react';\nimport { getTimeTracker } from '@web-stories-wp/tracking';\n\n/**\n * Internal dependencies\n */\nimport storyReducer, {\n  defaultStoriesState,\n  ACTION_TYPES as STORY_ACTION_TYPES,\n} from '../reducer/stories';\nimport { ERRORS } from '../textContent';\nimport { useConfig } from '../config';\n\nconst useStoryApi = () => {\n  const isInitialFetch = useRef(true);\n  const initialFetchListeners = useMemo(() => new Map(), []);\n  const [state, dispatch] = useReducer(storyReducer, defaultStoriesState);\n  const { apiCallbacks } = useConfig();\n\n  const fetchStories = useCallback(\n    async (queryParams) => {\n      dispatch({\n        type: STORY_ACTION_TYPES.LOADING_STORIES,\n        payload: true,\n      });\n\n      const trackTiming = getTimeTracker('load_stories');\n\n      try {\n        // Maybe not making a lot of sense to expect fetchedStoryIds from the api callbacks response.\n        // However the order of ids get changed if we try to create that array here\n        // which may ( or may not ) cause some regression. @todo Reflect on fetchedStoryIds again in next phase.\n        const { stories, fetchedStoryIds, totalPages, totalStoriesByStatus } =\n          await apiCallbacks.fetchStories(queryParams);\n\n        // Hook into first fetch of story statuses.\n        if (isInitialFetch.current) {\n          initialFetchListeners.forEach((listener) => {\n            listener(totalStoriesByStatus);\n          });\n        }\n\n        isInitialFetch.current = false;\n\n        dispatch({\n          type: STORY_ACTION_TYPES.FETCH_STORIES_SUCCESS,\n          payload: {\n            stories,\n            totalPages,\n            totalStoriesByStatus,\n            fetchedStoryIds,\n            page: queryParams.page,\n          },\n        });\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.FETCH_STORIES_FAILURE,\n          payload: {\n            message: ERRORS.LOAD_STORIES.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        dispatch({\n          type: STORY_ACTION_TYPES.LOADING_STORIES,\n          payload: false,\n        });\n        trackTiming();\n      }\n    },\n    [apiCallbacks, initialFetchListeners]\n  );\n\n  const updateStory = useCallback(\n    async (story) => {\n      const trackTiming = getTimeTracker('load_update_story');\n\n      try {\n        const response = await apiCallbacks.updateStory(story);\n\n        dispatch({\n          type: STORY_ACTION_TYPES.UPDATE_STORY,\n          payload: response,\n        });\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.UPDATE_STORY_FAILURE,\n          payload: {\n            message: ERRORS.UPDATE_STORY.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        trackTiming();\n      }\n    },\n    [apiCallbacks]\n  );\n\n  const trashStory = useCallback(\n    async (story) => {\n      const trackTiming = getTimeTracker('load_trash_story');\n\n      try {\n        await apiCallbacks.trashStory(story.id);\n        dispatch({\n          type: STORY_ACTION_TYPES.TRASH_STORY,\n          payload: { id: story.id, storyStatus: story.status },\n        });\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.TRASH_STORY_FAILURE,\n          payload: {\n            message: ERRORS.DELETE_STORY.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        trackTiming();\n      }\n    },\n    [apiCallbacks]\n  );\n\n  const createStoryFromTemplate = useCallback(\n    async (template) => {\n      dispatch({\n        type: STORY_ACTION_TYPES.CREATING_STORY_FROM_TEMPLATE,\n        payload: true,\n      });\n\n      try {\n        const response = await apiCallbacks.createStoryFromTemplate(template);\n\n        dispatch({\n          type: STORY_ACTION_TYPES.CREATE_STORY_FROM_TEMPLATE_SUCCESS,\n        });\n\n        window.location = response.editLink;\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.CREATE_STORY_FROM_TEMPLATE_FAILURE,\n          payload: {\n            message: ERRORS.CREATE_STORY_FROM_TEMPLATE.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        dispatch({\n          type: STORY_ACTION_TYPES.CREATING_STORY_FROM_TEMPLATE,\n          payload: false,\n        });\n      }\n    },\n    [apiCallbacks]\n  );\n\n  const duplicateStory = useCallback(\n    async (story) => {\n      const trackTiming = getTimeTracker('load_duplicate_story');\n\n      try {\n        const response = await apiCallbacks.duplicateStory(story);\n\n        dispatch({\n          type: STORY_ACTION_TYPES.DUPLICATE_STORY,\n          payload: response,\n        });\n      } catch (err) {\n        dispatch({\n          type: STORY_ACTION_TYPES.DUPLICATE_STORY_FAILURE,\n          payload: {\n            message: ERRORS.DUPLICATE_STORY.MESSAGE,\n            code: err.code,\n          },\n        });\n      } finally {\n        trackTiming();\n      }\n    },\n    [apiCallbacks]\n  );\n\n  const addInitialFetchListener = useCallback(\n    (listener) => {\n      const key = Symbol();\n      initialFetchListeners.set(key, listener);\n      return () => {\n        initialFetchListeners.delete(key);\n      };\n    },\n    [initialFetchListeners]\n  );\n\n  return {\n    stories: state,\n    api: {\n      duplicateStory,\n      fetchStories,\n      createStoryFromTemplate,\n      trashStory,\n      updateStory,\n      addInitialFetchListener,\n    },\n  };\n};\n\nexport default useStoryApi;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useReducer } from '@web-stories-wp/react';\nimport { compareDesc } from '@web-stories-wp/date';\nimport getAllTemplates from '@web-stories-wp/templates';\n/**\n * Internal dependencies\n */\nimport templateReducer, {\n  defaultTemplatesState,\n  ACTION_TYPES as TEMPLATE_ACTION_TYPES,\n} from '../reducer/templates';\nimport { reshapeTemplateObject } from '../serializers';\nimport { useConfig } from '../config';\n\nconst useTemplateApi = () => {\n  const [state, dispatch] = useReducer(templateReducer, defaultTemplatesState);\n  const { cdnURL } = useConfig();\n\n  const fetchExternalTemplates = useCallback(async () => {\n    dispatch({\n      type: TEMPLATE_ACTION_TYPES.LOADING_TEMPLATES,\n      payload: true,\n    });\n\n    const templatesByTag = {};\n\n    const reshapedTemplates = (await getAllTemplates({ cdnURL }))\n      .map((template) => {\n        const reshapedTemplate = reshapeTemplateObject(template);\n\n        reshapedTemplate.tags.forEach((tag) => {\n          if (templatesByTag[tag]) {\n            templatesByTag[tag].push(reshapedTemplate.id);\n          } else {\n            templatesByTag[tag] = [reshapedTemplate.id];\n          }\n        });\n\n        return reshapedTemplate;\n      })\n      .sort((a, b) => compareDesc(a.creationDate, b.creationDate));\n    dispatch({\n      type: TEMPLATE_ACTION_TYPES.FETCH_TEMPLATES_SUCCESS,\n      payload: {\n        page: 1,\n        templates: reshapedTemplates,\n        totalPages: 1,\n        totalTemplates: reshapedTemplates.length,\n        templatesByTag,\n      },\n    });\n  }, [cdnURL]);\n\n  const fetchExternalTemplateById = useCallback(\n    (templateId) => {\n      if (state.templates[templateId]) {\n        return Promise.resolve(state.templates[templateId]);\n      }\n      return Promise.reject(new Error());\n    },\n    [state]\n  );\n\n  return {\n    templates: state,\n    api: {\n      fetchExternalTemplates,\n      fetchExternalTemplateById,\n    },\n  };\n};\n\nexport default useTemplateApi;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport { useConfig } from '../config';\n\nfunction useUsersApi() {\n  const {\n    apiCallbacks: { getAuthors },\n  } = useConfig();\n\n  return {\n    api: {\n      getAuthors,\n    },\n  };\n}\n\nexport default useUsersApi;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport Context from './context';\n\nfunction ConfigProvider({ config, children }) {\n  return <Context.Provider value={config}>{children}</Context.Provider>;\n}\n\nConfigProvider.propTypes = {\n  children: PropTypes.node,\n  config: PropTypes.object.isRequired,\n};\n\nexport default ConfigProvider;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createContext } from '@web-stories-wp/react';\n\nexport default createContext({ api: {} });\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as ConfigProvider } from './configProvider';\nexport { default as useConfig } from './useConfig';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { identity, useContextSelector } from '@web-stories-wp/react';\n/**\n * Internal dependencies\n */\nimport Context from './context';\n\nfunction useConfig(selector = identity) {\n  return useContextSelector(Context, selector);\n}\n\nexport default useConfig;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './api';\nexport * from './config';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { STORY_STATUS } from '../../constants';\n\nexport const ACTION_TYPES = {\n  CREATING_STORY_FROM_TEMPLATE: 'creating_story_from_template',\n  CREATE_STORY_FROM_TEMPLATE_SUCCESS: 'create_story_from_template_success',\n  CREATE_STORY_FROM_TEMPLATE_FAILURE: 'create_story_from_template_failure',\n  LOADING_STORIES: 'loading_stories',\n  FETCH_STORIES_SUCCESS: 'fetch_stories_success',\n  FETCH_STORIES_FAILURE: 'fetch_stories_failure',\n  UPDATE_STORY: 'update_story',\n  UPDATE_STORY_FAILURE: 'update_story_failure',\n  TRASH_STORY: 'trash_story',\n  TRASH_STORY_FAILURE: 'trash_story_failure',\n  DUPLICATE_STORY: 'duplicate_story',\n  DUPLICATE_STORY_FAILURE: 'duplicate_story_failure',\n};\n\nexport const defaultStoriesState = {\n  error: {},\n  isLoading: false,\n  stories: {},\n  storiesOrderById: [],\n  totalStoriesByStatus: {},\n  totalPages: null,\n};\n\nfunction storyReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.LOADING_STORIES:\n    case ACTION_TYPES.CREATING_STORY_FROM_TEMPLATE: {\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.CREATE_STORY_FROM_TEMPLATE_FAILURE:\n    case ACTION_TYPES.FETCH_STORIES_FAILURE:\n    case ACTION_TYPES.UPDATE_STORY_FAILURE:\n    case ACTION_TYPES.TRASH_STORY_FAILURE:\n    case ACTION_TYPES.DUPLICATE_STORY_FAILURE: {\n      return {\n        ...state,\n        error: { ...action.payload, id: Date.now() },\n      };\n    }\n\n    case ACTION_TYPES.CREATE_STORY_FROM_TEMPLATE_SUCCESS: {\n      return {\n        ...state,\n        error: {},\n      };\n    }\n\n    case ACTION_TYPES.UPDATE_STORY:\n      return {\n        ...state,\n        error: {},\n        stories: {\n          ...state.stories,\n          [action.payload.id]: action.payload,\n        },\n      };\n\n    case ACTION_TYPES.TRASH_STORY: {\n      const storyGroupStatus =\n        action.payload.storyStatus === STORY_STATUS.DRAFT\n          ? STORY_STATUS.DRAFT\n          : STORY_STATUS.PUBLISH;\n\n      return {\n        ...state,\n        error: {},\n        storiesOrderById: state.storiesOrderById.filter(\n          (id) => id !== action.payload.id\n        ),\n        totalStoriesByStatus: {\n          ...state.totalStoriesByStatus,\n          all: state.totalStoriesByStatus.all - 1,\n          [storyGroupStatus]: state.totalStoriesByStatus[storyGroupStatus] - 1,\n        },\n        stories: Object.keys(state.stories).reduce((memo, storyId) => {\n          if (parseInt(storyId) !== action.payload.id) {\n            memo[storyId] = state.stories[storyId];\n          }\n          return memo;\n        }, {}),\n      };\n    }\n\n    case ACTION_TYPES.DUPLICATE_STORY:\n      return {\n        ...state,\n        error: {},\n        storiesOrderById: [action.payload.id, ...state.storiesOrderById],\n        totalStoriesByStatus: {\n          ...state.totalStoriesByStatus,\n          all: state.totalStoriesByStatus.all + 1,\n          [action.payload.status]:\n            state.totalStoriesByStatus[action.payload.status] + 1,\n        },\n        stories: {\n          ...state.stories,\n          [action.payload.id]: action.payload,\n        },\n      };\n\n    case ACTION_TYPES.FETCH_STORIES_SUCCESS: {\n      const {\n        fetchedStoryIds,\n        totalStoriesByStatus,\n        totalPages,\n        page,\n        stories: payloadStories,\n      } = action.payload;\n      const { storiesOrderById, stories } = state;\n\n      const combinedStoryIds =\n        page === 1\n          ? fetchedStoryIds\n          : [...storiesOrderById, ...fetchedStoryIds];\n\n      const uniqueStoryIds = [...new Set(combinedStoryIds)];\n\n      return {\n        ...state,\n        error: {},\n        storiesOrderById: uniqueStoryIds,\n        stories: {\n          ...stories,\n          ...payloadStories,\n        },\n        totalPages: totalPages,\n        totalStoriesByStatus: totalStoriesByStatus,\n        allPagesFetched: page >= totalPages,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\nexport default storyReducer;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport groupBy from '../../utils/groupBy';\n\nexport const ACTION_TYPES = {\n  LOADING_TEMPLATES: 'loading_templates',\n  FETCH_TEMPLATES_SUCCESS: 'fetch_templates_success',\n  FETCH_TEMPLATES_FAILURE: 'fetch_templates_failure',\n  PLACEHOLDER: 'placeholder',\n};\n\nexport const defaultTemplatesState = {\n  allPagesFetched: false,\n  error: {},\n  isLoading: false,\n  templates: {},\n  templatesByTag: {},\n  templatesOrderById: [],\n  totalTemplates: null,\n  totalPages: null,\n};\n\nfunction templateReducer(state, action) {\n  switch (action.type) {\n    case ACTION_TYPES.LOADING_TEMPLATES: {\n      return {\n        ...state,\n        isLoading: action.payload,\n      };\n    }\n\n    case ACTION_TYPES.FETCH_TEMPLATES_FAILURE:\n      return {\n        ...state,\n        error: { ...action.payload, id: Date.now() },\n      };\n\n    case ACTION_TYPES.FETCH_TEMPLATES_SUCCESS: {\n      const fetchedTemplatesById = action.payload.templates.map(({ id }) => id);\n\n      const combinedTemplateIds =\n        action.payload.page === 1\n          ? fetchedTemplatesById\n          : [...state.templatesOrderById, ...fetchedTemplatesById];\n\n      const uniqueTemplateIds = [...new Set(combinedTemplateIds)];\n\n      return {\n        ...state,\n        error: {},\n        templatesOrderById: uniqueTemplateIds,\n        templates: {\n          ...state.templates,\n          ...groupBy(action.payload.templates, 'id'),\n        },\n        isLoading: false,\n        totalPages: action.payload.totalPages,\n        totalTemplates: action.payload.totalTemplates,\n        allPagesFetched: action.payload.page >= action.payload.totalPages,\n        templatesByTag: action.payload.templatesByTag,\n      };\n    }\n    case ACTION_TYPES.PLACEHOLDER:\n      return defaultTemplatesState;\n\n    default:\n      return state;\n  }\n}\n\nexport default templateReducer;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\n\nexport { default as RouterProvider, RouterContext } from './routerProvider';\nexport { default as useRouteHistory } from './useRouteHistory';\nexport {\n  default as Route,\n  matchPath,\n  resolveRoute,\n  resolveRelatedTemplateRoute,\n} from './route';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\n\nimport PropTypes from 'prop-types';\n/**\n * Internal dependencies\n */\nimport useRouteHistory from './useRouteHistory';\n\nexport function parentRoute() {\n  const potentialParent = window.location.hash\n    .split('/')\n    .slice(0, -1)\n    .join('/');\n  if (potentialParent.startsWith('#')) {\n    return potentialParent;\n  } else {\n    return '#/';\n  }\n}\n\nexport function resolveRelatedTemplateRoute(relatedTemplate) {\n  return (\n    window.location.hash.split('#')[1].split('?')[0] +\n    '?' +\n    relatedTemplate.centerTargetAction.split('?')[1]\n  );\n}\n\nexport function resolveRoute(route) {\n  if (\n    route.toLowerCase().startsWith('http://') ||\n    route.toLowerCase().startsWith('https://')\n  ) {\n    /**\n     * If the url starts with a protocol assume it's a full path and\n     * visit it normally.\n     */\n    return route;\n  } else if (route.startsWith('/')) {\n    /**\n     * If the url starts with a backslash visit it as a root view\n     * within the context of the dashboard app.\n     */\n    return `#${route}`;\n  } else if (route === '') {\n    /**\n     * If the url is empty visit it as a root view\n     * within the context of the dashboard app.\n     */\n    return '#/';\n  } else {\n    /**\n     * If the url has no root append it to the current route and create\n     * a nested root within the context of the dashboard app.\n     */\n    return `${window.location.hash}/${route}`;\n  }\n}\n\nexport function matchPath(currentPath, path, exact = false) {\n  const match = new RegExp(`^${path}`).exec(currentPath);\n  if (!match) {\n    return null;\n  }\n  const matchUrl = match[0];\n  const isExactMatch = currentPath === matchUrl;\n  if (exact && !isExactMatch) {\n    return null;\n  }\n  return matchUrl;\n}\n\nfunction Route({ component, path, exact }) {\n  const { state } = useRouteHistory();\n  const match = matchPath(state.currentPath, path, exact);\n  if (!match) {\n    return null;\n  }\n  return component;\n}\n\nRoute.propTypes = {\n  component: PropTypes.node.isRequired,\n  path: PropTypes.string.isRequired,\n  exact: PropTypes.bool,\n};\n\nexport default Route;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useRef,\n  useMemo,\n  useEffect,\n  useState,\n  createContext,\n} from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport { createHashHistory } from 'history';\n\nexport const RouterContext = createContext({ state: {}, actions: {} });\n\nfunction RouterProvider({ children, ...props }) {\n  const history = useRef(props.history || createHashHistory());\n  const [currentPath, setCurrentPath] = useState(\n    history.current.location.pathname\n  );\n\n  const parse = (search) => {\n    const params = new URLSearchParams(search);\n    return Object.fromEntries(params);\n  };\n\n  const [queryParams, setQueryParams] = useState(\n    parse(history.current.location.search)\n  );\n\n  useEffect(() => {\n    return history.current.listen(({ location }) => {\n      setQueryParams(parse(location.search));\n      setCurrentPath(location.pathname);\n    });\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      state: {\n        currentPath,\n        queryParams,\n      },\n      actions: {\n        push: history.current.push,\n        replace: history.current.replace,\n      },\n    }),\n    [currentPath, queryParams]\n  );\n\n  return (\n    <RouterContext.Provider value={value}>{children}</RouterContext.Provider>\n  );\n}\n\nRouterProvider.propTypes = {\n  children: PropTypes.node,\n  history: PropTypes.object,\n};\n\nexport default RouterProvider;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { identity, useContextSelector } from '@web-stories-wp/react';\n\n/**\n * Internal dependencies\n */\nimport { RouterContext } from './routerProvider';\n\nfunction useRouteHistory(selector = identity) {\n  return useContextSelector(RouterContext, selector);\n}\n\nexport default useRouteHistory;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as reshapeTemplateObject } from './templates';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { toUTCDate, toDate, getOptions } from '@web-stories-wp/date';\n/**\n * Internal dependencies\n */\nimport { APP_ROUTES } from '../../constants';\n\nexport default function reshapeTemplateObject(\n  originalTemplateData,\n  isLocal = false\n) {\n  const { id, slug, modified, creationDate } = originalTemplateData;\n  if (!id || !slug) {\n    return null;\n  }\n\n  return {\n    ...originalTemplateData,\n    id,\n    slug,\n    centerTargetAction: `${APP_ROUTES.TEMPLATE_DETAIL}?id=${id}&isLocal=${isLocal}`,\n    creationDate: toDate(creationDate, getOptions()),\n    status: 'template',\n    modified: toUTCDate(modified),\n    isLocal,\n  };\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\n\nexport const ERRORS = {\n  LOAD_STORIES: {\n    MESSAGE: __('Unable to load stories', 'web-stories'),\n  },\n  UPDATE_STORY: {\n    MESSAGE: __('Unable to update story', 'web-stories'),\n  },\n  DELETE_STORY: {\n    MESSAGE: __('Unable to delete story', 'web-stories'),\n  },\n  CREATE_STORY_FROM_TEMPLATE: {\n    MESSAGE: __('Unable to create story from template', 'web-stories'),\n  },\n  DUPLICATE_STORY: {\n    MESSAGE: __('Unable to duplicate story', 'web-stories'),\n  },\n  LOAD_TEMPLATES: {\n    DEFAULT_MESSAGE: __('Cannot connect to data source', 'web-stories'),\n    MESSAGE: __('Unable to load templates', 'web-stories'),\n  },\n  RENDER_PREVIEW: {\n    MESSAGE: __('Unable to render preview', 'web-stories'),\n  },\n  LOAD_TEMPLATE: {\n    DEFAULT_MESSAGE: __('Could not load the template', 'web-stories'),\n  },\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const TEMPLATE_META_DATA_TYPES = {\n  VERTICAL: 'VERTICAL',\n  COLOR: 'COLOR',\n  TAG: 'TAG',\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\n/**\n * Internal dependencies\n */\nimport { Gradient, Scrim, Poster } from '../../shared/grid/components';\n\n// Allows grid item contents to overlay in a set space\nexport const CardWrapper = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n\n  transition: opacity ease-in-out 300ms;\n\n  &:hover {\n    ${Gradient}, ${Scrim} {\n      opacity: 1;\n    }\n  }\n\n  ${Gradient}, ${Scrim} {\n    opacity: ${({ $isSelected }) => ($isSelected ? 1 : 0)};\n  }\n`;\n\nexport const TemplateDisplayContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n  height: 100%;\n  padding-bottom: 16px;\n\n  a,\n  button {\n    margin: auto auto 0;\n  }\n`;\n\nexport const PicturePoster = styled(Poster).attrs({ as: 'picture' })`\n  display: block;\n  & > img {\n    height: 100%;\n    width: 100%;\n    object-fit: fill;\n    border-radius: ${({ theme }) => theme.borders.radius.medium};\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useMemo } from '@web-stories-wp/react';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  Headline,\n  LoadingSpinner,\n  THEME_CONSTANTS,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { useConfig } from '../../../config';\nimport {\n  InfiniteScroller,\n  Layout,\n  StandardViewContentGutter,\n  LoadingContainer,\n} from '../../../../components';\nimport {\n  ViewPropTypes,\n  PagePropTypes,\n  SearchPropTypes,\n} from '../../../../utils/useTemplateView';\nimport { TemplatesPropType, TemplateActionsPropType } from '../../../../types';\nimport { EmptyContentMessage } from '../../shared';\nimport TemplateGridView from './templateGridView';\n\nfunction Content({\n  allPagesFetched,\n  isLoading,\n  page,\n  templates,\n  view,\n  totalTemplates,\n  search,\n  templateActions,\n}) {\n  const { newStoryURL } = useConfig();\n\n  const pageContent = useMemo(() => {\n    if (isLoading) {\n      return (\n        <LoadingContainer>\n          <LoadingSpinner />\n        </LoadingContainer>\n      );\n    }\n    return totalTemplates > 0 ? (\n      <>\n        <TemplateGridView\n          templates={templates}\n          pageSize={view.pageSize}\n          templateActions={templateActions}\n        />\n        <InfiniteScroller\n          canLoadMore={!allPagesFetched}\n          isLoading={isLoading}\n          allDataLoadedMessage={__('No more templates', 'web-stories')}\n          allDataLoadedAriaMessage={__(\n            'All templates are loaded',\n            'web-stories'\n          )}\n          loadingAriaMessage={__('Loading more templates', 'web-stories')}\n          onLoadMore={page.requestNextPage}\n        />\n      </>\n    ) : (\n      <EmptyContentMessage>\n        <Headline size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL} as=\"h3\">\n          {search?.keyword\n            ? sprintf(\n                /* translators: %s: search term. */\n                __(\n                  'Sorry, we couldn\\'t find any results matching \"%s\"',\n                  'web-stories'\n                ),\n                search.keyword\n              )\n            : __('No templates currently available.', 'web-stories')}\n        </Headline>\n        {!search?.keyword && (\n          <Button\n            type={BUTTON_TYPES.PRIMARY}\n            size={BUTTON_SIZES.MEDIUM}\n            as=\"a\"\n            href={newStoryURL}\n          >\n            {__('Create New Story', 'web-stories')}\n          </Button>\n        )}\n      </EmptyContentMessage>\n    );\n  }, [\n    allPagesFetched,\n    isLoading,\n    newStoryURL,\n    page.requestNextPage,\n    search?.keyword,\n    templateActions,\n    templates,\n    totalTemplates,\n    view.pageSize,\n  ]);\n\n  return (\n    <Layout.Scrollable>\n      <StandardViewContentGutter>{pageContent}</StandardViewContentGutter>\n    </Layout.Scrollable>\n  );\n}\n\nContent.propTypes = {\n  allPagesFetched: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  page: PagePropTypes,\n  templates: TemplatesPropType,\n  totalTemplates: PropTypes.number,\n  search: SearchPropTypes,\n  templateActions: TemplateActionsPropType,\n  view: ViewPropTypes,\n};\nexport default Content;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  noop,\n} from '@web-stories-wp/design-system';\nimport { forwardRef } from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport {\n  DEFAULT_GRID_IMG_HEIGHT,\n  DEFAULT_GRID_IMG_WIDTH,\n  TEMPLATES_GALLERY_ITEM_CENTER_ACTION_LABELS,\n} from '../../../../constants';\nimport { CardGridItem } from '../../../../components';\nimport { Container, Gradient, Scrim } from '../../shared/grid/components';\nimport {\n  TemplateDisplayContent,\n  CardWrapper,\n  PicturePoster,\n} from './components';\n\nexport const FOCUS_TEMPLATE_CLASS = 'focus_template';\n\nconst SeeDetailsButton = styled(Button).attrs({\n  type: BUTTON_TYPES.TERTIARY,\n  size: BUTTON_SIZES.SMALL,\n})`\n  background-color: ${({ theme }) => theme.colors.standard.white};\n`;\n\nconst TemplateGridItem = forwardRef(\n  (\n    {\n      detailLink,\n      onCreateStory,\n      onFocus,\n      height,\n      id,\n      isActive,\n      posterSrc,\n      slug,\n      title,\n      status,\n      onSeeDetailsClick = noop,\n    },\n    ref\n  ) => {\n    const tabIndex = isActive ? 0 : -1;\n    const posterAltText = sprintf(\n      /* translators: %s: Template title. */\n      __('First page of %s template', 'web-stories'),\n      title\n    );\n    return (\n      <CardGridItem\n        ref={ref}\n        id={`template-grid-item-${id}`}\n        className=\"templateGridItem\"\n        data-testid={`template-grid-item-${id}`}\n        $posterHeight={height}\n        onFocus={onFocus}\n      >\n        <Container>\n          <CardWrapper $isSelected={isActive}>\n            <PicturePoster>\n              <source srcSet={posterSrc?.webp} type=\"image/webp\" />\n              <source srcSet={posterSrc?.png} type=\"image/png\" />\n              <img\n                src={posterSrc?.png}\n                alt={posterAltText}\n                width={DEFAULT_GRID_IMG_WIDTH}\n                height={DEFAULT_GRID_IMG_HEIGHT}\n              />\n            </PicturePoster>\n            <Gradient />\n            <Scrim\n              data-testid=\"card-action-container\"\n              data-template-slug={slug}\n            >\n              <TemplateDisplayContent>\n                <SeeDetailsButton\n                  ariaLabel={sprintf(\n                    /* translators: %s: template title.*/\n                    __('Go to detail view of %s', 'web-stories'),\n                    title\n                  )}\n                  href={detailLink}\n                  onClick={onSeeDetailsClick}\n                  disabled={!detailLink}\n                  className={FOCUS_TEMPLATE_CLASS}\n                  tabIndex={tabIndex}\n                >\n                  {TEMPLATES_GALLERY_ITEM_CENTER_ACTION_LABELS[status]}\n                </SeeDetailsButton>\n\n                {onCreateStory && (\n                  <Button\n                    size={BUTTON_SIZES.SMALL}\n                    type={BUTTON_TYPES.PRIMARY}\n                    onClick={onCreateStory}\n                    tabIndex={tabIndex}\n                    ariaLabel={sprintf(\n                      /* translators: %s: template title.*/\n                      __('Create new story from %s', 'web-stories'),\n                      title\n                    )}\n                  >\n                    {__('Use template', 'web-stories')}\n                  </Button>\n                )}\n              </TemplateDisplayContent>\n            </Scrim>\n          </CardWrapper>\n        </Container>\n      </CardGridItem>\n    );\n  }\n);\n\nTemplateGridItem.displayName = 'TemplateGridItem';\n\nTemplateGridItem.propTypes = {\n  detailLink: PropTypes.string,\n  onCreateStory: PropTypes.func,\n  onFocus: PropTypes.func.isRequired,\n  onSeeDetailsClick: PropTypes.func,\n  height: PropTypes.number.isRequired,\n  id: PropTypes.number.isRequired,\n  isActive: PropTypes.bool,\n  posterSrc: PropTypes.shape({\n    webp: PropTypes.string.isRequired,\n    png: PropTypes.string.isRequired,\n  }),\n  slug: PropTypes.string.isRequired,\n  status: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\nexport default TemplateGridItem;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  useFocusOut,\n  useMemo,\n} from '@web-stories-wp/react';\nimport { __ } from '@web-stories-wp/i18n';\nimport { trackEvent } from '@web-stories-wp/tracking';\nimport { useGridViewKeys } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { CardGrid, useLayoutContext } from '../../../../components';\nimport {\n  PageSizePropType,\n  TemplatesPropType,\n  TemplateActionsPropType,\n} from '../../../../types';\nimport { useConfig } from '../../../config';\nimport { resolveRoute } from '../../../router';\nimport TemplateGridItem, { FOCUS_TEMPLATE_CLASS } from './templateGridItem';\n\nfunction TemplateGridView({ pageSize, templates, templateActions }) {\n  const { isRTL, apiCallbacks } = useConfig();\n  const containerRef = useRef();\n  const gridRef = useRef();\n  const itemRefs = useRef({});\n\n  const {\n    actions: { scrollToTop },\n  } = useLayoutContext();\n\n  const [activeGridItemId, setActiveGridItemId] = useState(null);\n\n  const handleUseStory = useCallback(\n    ({ id, title }) => {\n      trackEvent('use_template', {\n        name: title,\n        template_id: id,\n      });\n      templateActions.createStoryFromTemplate(id);\n    },\n    [templateActions]\n  );\n\n  useGridViewKeys({\n    containerRef,\n    gridRef,\n    itemRefs,\n    isRTL,\n    currentItemId: activeGridItemId,\n    items: templates,\n  });\n\n  // when keyboard focus changes and updated activeGridItemId\n  // immediately focus the first interactive element in the grid item\n  // for legibility, it's based on the FOCUS_TEMPLATE_CLASS\n  useEffect(() => {\n    if (activeGridItemId) {\n      itemRefs.current?.[activeGridItemId]\n        ?.querySelector(`.${FOCUS_TEMPLATE_CLASS}`)\n        ?.focus();\n    }\n  }, [activeGridItemId]);\n\n  useFocusOut(containerRef, () => setActiveGridItemId(null), []);\n\n  const memoizedTemplateItems = useMemo(\n    () =>\n      templates.map(\n        ({ id, centerTargetAction, slug, status, title, postersByPage }) => {\n          const isActive = activeGridItemId === id;\n          const posterSrc = postersByPage?.[0];\n          const canCreateStory = Boolean(apiCallbacks?.createStoryFromTemplate);\n          return (\n            <TemplateGridItem\n              detailLink={resolveRoute(centerTargetAction)}\n              onCreateStory={\n                canCreateStory ? () => handleUseStory({ id, title }) : null\n              }\n              onFocus={() => {\n                setActiveGridItemId(id);\n              }}\n              onSeeDetailsClick={scrollToTop}\n              height={pageSize.height}\n              id={id}\n              isActive={isActive}\n              key={slug}\n              posterSrc={posterSrc}\n              ref={(el) => {\n                itemRefs.current[id] = el;\n              }}\n              slug={slug}\n              status={status}\n              title={title}\n            />\n          );\n        }\n      ),\n    [\n      templates,\n      activeGridItemId,\n      pageSize.height,\n      handleUseStory,\n      scrollToTop,\n      apiCallbacks,\n    ]\n  );\n  return (\n    <div ref={containerRef}>\n      <CardGrid\n        pageSize={pageSize}\n        role=\"list\"\n        ref={gridRef}\n        ariaLabel={__('Viewing available templates', 'web-stories')}\n      >\n        {memoizedTemplateItems}\n      </CardGrid>\n    </div>\n  );\n}\n\nTemplateGridView.propTypes = {\n  pageSize: PageSizePropType,\n  templates: TemplatesPropType,\n  templateActions: TemplateActionsPropType,\n};\nexport default TemplateGridView;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\n\n/**\n * External dependencies\n */\nimport { useDebouncedCallback, useCallback } from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport { useFeature } from 'flagged';\n\n/**\n * Internal dependencies\n */\nimport {\n  DASHBOARD_VIEWS,\n  TEMPLATES_GALLERY_SORT_MENU_ITEMS,\n  TEXT_INPUT_DEBOUNCE,\n} from '../../../../constants';\nimport {\n  FilterPropTypes,\n  SortPropTypes,\n  ViewPropTypes,\n  SearchPropTypes,\n} from '../../../../utils/useTemplateView';\nimport { useDashboardResultsLabel } from '../../../../utils';\nimport { PageHeading, BodyViewOptions } from '../../shared';\n\nfunction Header({\n  filter,\n  isLoading,\n  totalTemplates,\n  sort,\n  view,\n  search,\n  searchOptions = [],\n}) {\n  const enableInProgressTemplateActions = useFeature(\n    'enableInProgressTemplateActions'\n  );\n  const enableExploreTemplatesSearch = useFeature(\n    'enableExploreTemplatesSearch'\n  );\n\n  const { setKeyword } = search;\n  const debouncedSearchChange = useDebouncedCallback((value) => {\n    setKeyword(value);\n  }, TEXT_INPUT_DEBOUNCE);\n\n  const clearSearch = useCallback(() => setKeyword(''), [setKeyword]);\n\n  const resultsLabel = useDashboardResultsLabel({\n    totalResults: totalTemplates,\n    currentFilter: filter.value,\n    view: DASHBOARD_VIEWS.TEMPLATES_GALLERY,\n  });\n\n  return (\n    <>\n      <PageHeading\n        heading={__('Explore Templates', 'web-stories')}\n        searchPlaceholder={__('Search Templates', 'web-stories')}\n        showSearch={enableExploreTemplatesSearch}\n        searchOptions={searchOptions}\n        searchValue={search.keyword}\n        handleSearchChange={debouncedSearchChange}\n        clearSearch={clearSearch}\n      />\n      <BodyViewOptions\n        resultsLabel={resultsLabel}\n        layoutStyle={view.style}\n        handleLayoutSelect={view.toggleStyle}\n        currentSort={sort.value}\n        isLoading={isLoading}\n        pageSortOptions={TEMPLATES_GALLERY_SORT_MENU_ITEMS}\n        showSortDropdown={enableInProgressTemplateActions}\n        handleSortChange={enableInProgressTemplateActions ? sort.set : () => {}}\n        sortDropdownAriaLabel={__(\n          'Choose sort option for display',\n          'web-stories'\n        )}\n      />\n    </>\n  );\n}\n\nHeader.propTypes = {\n  filter: FilterPropTypes.isRequired,\n  isLoading: PropTypes.bool,\n  sort: SortPropTypes.isRequired,\n  totalTemplates: PropTypes.number,\n  view: ViewPropTypes.isRequired,\n  search: SearchPropTypes.isRequired,\n  searchOptions: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default Header;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useMemo, useEffect, useCallback } from '@web-stories-wp/react';\nimport { trackEvent } from '@web-stories-wp/tracking';\n\n/**\n * Internal dependencies\n */\nimport { Layout, ScrollToTop } from '../../../components';\nimport { useTemplateView, uniqueEntriesByKey } from '../../../utils';\n\nimport useApi from '../../api/useApi';\nimport { getTemplateFilters, composeTemplateFilter } from '../utils';\nimport Content from './content';\nimport Header from './header';\n\nfunction ExploreTemplates() {\n  const {\n    allPagesFetched,\n    isLoading,\n    templates,\n    templatesOrderById,\n    totalPages,\n    totalTemplates,\n    createStoryFromTemplate,\n    fetchExternalTemplates,\n  } = useApi(\n    ({\n      state: {\n        templates: {\n          allPagesFetched,\n          isLoading,\n          templates,\n          templatesOrderById,\n          totalPages,\n          totalTemplates,\n        },\n      },\n      actions: {\n        storyApi: { createStoryFromTemplate },\n        templateApi: { fetchExternalTemplates },\n      },\n    }) => ({\n      allPagesFetched,\n      isLoading,\n      templates,\n      templatesOrderById,\n      totalPages,\n      totalTemplates,\n      createStoryFromTemplate,\n      fetchExternalTemplates,\n    })\n  );\n\n  const { filter, page, search, sort, view } = useTemplateView({\n    totalPages,\n  });\n\n  useEffect(() => {\n    fetchExternalTemplates();\n  }, [fetchExternalTemplates]);\n\n  // extract templateFilters from template meta data\n  const templateFilters = useMemo(\n    () => getTemplateFilters(templates),\n    [templates]\n  );\n\n  // refine templateFilters by search term\n  const selectFilters = useMemo(\n    () =>\n      search.keyword\n        ? templateFilters.filter((opt) =>\n            opt.label.toLowerCase().includes(search.keyword.toLowerCase())\n          )\n        : templateFilters,\n    [templateFilters, search.keyword]\n  );\n\n  // filter templates by the refined templateFilters\n  const orderedTemplates = useMemo(() => {\n    return templatesOrderById\n      .map((templateId) => templates[templateId])\n      .filter(composeTemplateFilter(selectFilters));\n  }, [templatesOrderById, templates, selectFilters]);\n\n  const totalVisibleTemplates = useMemo(\n    () =>\n      totalTemplates !== orderedTemplates.length\n        ? orderedTemplates.length\n        : totalTemplates,\n    [orderedTemplates, totalTemplates]\n  );\n\n  // Although we may want to filter templates based on\n  // repeat meta data of differing types, we only want\n  // the auto-complete to show unique labels\n  const searchOptions = useMemo(\n    () => uniqueEntriesByKey(selectFilters, 'label'),\n    [selectFilters]\n  );\n\n  const handleCreateStoryFromTemplate = useCallback(\n    (templateId) => {\n      const template = templates[templateId];\n      trackEvent('use_template', {\n        name: template.title,\n        template_id: template.id,\n      });\n      createStoryFromTemplate(template);\n    },\n    [createStoryFromTemplate, templates]\n  );\n\n  const templateActions = useMemo(\n    () => ({\n      createStoryFromTemplate: handleCreateStoryFromTemplate,\n    }),\n    [handleCreateStoryFromTemplate]\n  );\n\n  return (\n    <Layout.Provider>\n      <Header\n        isLoading={isLoading && !totalTemplates}\n        filter={filter}\n        sort={sort}\n        totalTemplates={totalVisibleTemplates}\n        search={search}\n        searchOptions={searchOptions}\n        view={view}\n      />\n      <Content\n        isLoading={isLoading}\n        allPagesFetched={allPagesFetched}\n        page={page}\n        templates={orderedTemplates}\n        totalTemplates={totalVisibleTemplates}\n        search={search}\n        view={view}\n        templateActions={templateActions}\n      />\n      <Layout.Fixed>\n        <ScrollToTop />\n      </Layout.Fixed>\n    </Layout.Provider>\n  );\n}\n\nexport default ExploreTemplates;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as MyStoriesView } from './myStories';\nexport { default as ExploreTemplatesView } from './exploreTemplates';\nexport { default as TemplateDetailsView } from './templateDetails';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  Headline,\n  THEME_CONSTANTS,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { resolveRoute } from '../../../router';\nimport { APP_ROUTES } from '../../../../constants';\nimport {\n  InfiniteScroller,\n  Layout,\n  StandardViewContentGutter,\n} from '../../../../components';\nimport { StoriesPropType, StoryActionsPropType } from '../../../../types';\nimport {\n  FilterPropTypes,\n  ViewPropTypes,\n  PagePropTypes,\n  SortPropTypes,\n  ShowStoriesWhileLoadingPropType,\n} from '../../../../utils/useStoryView';\nimport { EmptyContentMessage } from '../../shared';\nimport StoriesView from './storiesView';\n\nfunction Content({\n  allPagesFetched,\n  filter,\n  isLoading,\n  page,\n  search,\n  sort,\n  stories,\n  storyActions,\n  view,\n  showStoriesWhileLoading,\n}) {\n  return (\n    <Layout.Scrollable>\n      <StandardViewContentGutter>\n        {stories.length > 0 ? (\n          <>\n            <StoriesView\n              filterValue={filter.value}\n              isLoading={isLoading}\n              sort={sort}\n              storyActions={storyActions}\n              stories={stories}\n              view={view}\n              loading={{\n                isLoading,\n                showStoriesWhileLoading,\n              }}\n            />\n            <InfiniteScroller\n              canLoadMore={!allPagesFetched}\n              isLoading={isLoading}\n              allDataLoadedMessage={__('No more stories', 'web-stories')}\n              onLoadMore={page.requestNextPage}\n            />\n          </>\n        ) : (\n          <EmptyContentMessage>\n            <Headline\n              size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n              as=\"h3\"\n            >\n              {search?.keyword\n                ? sprintf(\n                    /* translators: %s: search term. */\n                    __(\n                      'Sorry, we couldn\\'t find any results matching \"%s\"',\n                      'web-stories'\n                    ),\n                    search.keyword\n                  )\n                : __('Start telling Stories.', 'web-stories')}\n            </Headline>\n            {!search?.keyword && (\n              <Button\n                type={BUTTON_TYPES.PRIMARY}\n                size={BUTTON_SIZES.MEDIUM}\n                as=\"a\"\n                href={resolveRoute(APP_ROUTES.TEMPLATES_GALLERY)}\n              >\n                {__('Explore Templates', 'web-stories')}\n              </Button>\n            )}\n          </EmptyContentMessage>\n        )}\n      </StandardViewContentGutter>\n    </Layout.Scrollable>\n  );\n}\nContent.propTypes = {\n  allPagesFetched: PropTypes.bool,\n  filter: FilterPropTypes,\n  isLoading: PropTypes.bool,\n  page: PagePropTypes,\n  search: PropTypes.object,\n  sort: SortPropTypes,\n  stories: StoriesPropType,\n  storyActions: StoryActionsPropType,\n  view: ViewPropTypes,\n  showStoriesWhileLoading: ShowStoriesWhileLoadingPropType,\n};\n\nexport default Content;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport { Text, themeHelpers } from '@web-stories-wp/design-system';\n\nconst { focusableOutlineCSS } = themeHelpers;\n\nexport const ListView = styled.div`\n  width: 100%;\n`;\n\nexport const ArrowIcon = styled.div`\n  width: 32px;\n  height: 100%;\n  display: inline-grid;\n  color: ${({ theme }) => theme.colors.fg.primary};\n  vertical-align: middle;\n\n  svg {\n    visibility: ${({ active }) => (active ? 'visible' : 'hidden')};\n    transition: transform 0.15s;\n\n    ${({ asc }) =>\n      asc &&\n      css`\n        transform: rotate(180deg);\n      `};\n  }\n`;\n\nexport const EmptyIconSpace = styled.div`\n  height: 32px;\n  width: 32px;\n`;\n\nexport const ArrowIconWithTitle = styled(ArrowIcon)`\n  display: ${({ active }) => !active && 'none'};\n  position: absolute;\n  top: 16px;\n\n  @media ${({ theme }) => theme.breakpoint.mobile} {\n    margin-left: 4px;\n  }\n`;\n\nexport const SelectableTitle = styled(Text).attrs({\n  tabIndex: 0,\n  isBold: true,\n})`\n  color: ${({ theme }) => theme.colors.blue[70]};\n  cursor: pointer;\n\n  ${({ theme }) =>\n    focusableOutlineCSS(theme.colors.border.focus, theme.colors.bg.secondary)};\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useCallback, useMemo } from '@web-stories-wp/react';\nimport { __ } from '@web-stories-wp/i18n';\nimport { Icons, Text, THEME_CONSTANTS } from '@web-stories-wp/design-system';\nimport { useFeatures } from 'flagged';\n/**\n * Internal dependencies\n */\nimport {\n  StoriesPropType,\n  RenameStoryPropType,\n  StoryMenuPropType,\n} from '../../../../../types';\nimport {\n  Table,\n  TableAuthorHeaderCell,\n  TableBody,\n  TableDateHeaderCell,\n  StickyTableHeader,\n  TablePreviewHeaderCell,\n  TableRow,\n  TableStatusHeaderCell,\n  TableTitleHeaderCell,\n} from '../../../../../components';\nimport {\n  ORDER_BY_SORT,\n  SORT_DIRECTION,\n  STORY_SORT_OPTIONS,\n  STORY_STATUS,\n} from '../../../../../constants';\nimport { useConfig } from '../../../../config';\nimport { StoryListItem } from '../storyListItem';\nimport {\n  ArrowIcon,\n  ArrowIconWithTitle,\n  EmptyIconSpace,\n  ListView,\n  SelectableTitle,\n} from './components';\n\nconst toggleSortLookup = {\n  [SORT_DIRECTION.DESC]: SORT_DIRECTION.ASC,\n  [SORT_DIRECTION.ASC]: SORT_DIRECTION.DESC,\n};\n\nexport default function StoryListView({\n  handleSortChange,\n  handleSortDirectionChange,\n  hideStoryList,\n  renameStory,\n  sortDirection,\n  stories,\n  storyMenu,\n  storySort,\n  storyStatus,\n}) {\n  const { enablePostLocking } = useFeatures();\n  const { userId } = useConfig();\n\n  const onSortTitleSelected = useCallback(\n    (newStorySort) => {\n      if (newStorySort !== storySort) {\n        handleSortChange(newStorySort);\n        handleSortDirectionChange(ORDER_BY_SORT[newStorySort]);\n      } else {\n        handleSortDirectionChange(toggleSortLookup[sortDirection]);\n      }\n    },\n    [handleSortDirectionChange, handleSortChange, storySort, sortDirection]\n  );\n\n  const onKeyDownSort = useCallback(\n    ({ key }, sortBy) => {\n      if (key === 'Enter') {\n        onSortTitleSelected(sortBy);\n      }\n    },\n    [onSortTitleSelected]\n  );\n\n  const tableContents = useMemo(() => {\n    return (\n      !hideStoryList &&\n      stories.map((story) => (\n        <StoryListItem\n          key={`story-${story.id}`}\n          story={story}\n          userId={enablePostLocking && userId}\n          renameStory={renameStory}\n          storyStatus={storyStatus}\n          storyMenu={storyMenu}\n        />\n      ))\n    );\n  }, [\n    enablePostLocking,\n    hideStoryList,\n    renameStory,\n    stories,\n    storyStatus,\n    storyMenu,\n    userId,\n  ]);\n\n  return (\n    <ListView data-testid=\"story-list-view\">\n      <Table aria-label={__('List view of created stories', 'web-stories')}>\n        <StickyTableHeader>\n          <TableRow>\n            <TablePreviewHeaderCell\n              onClick={() => onSortTitleSelected(STORY_SORT_OPTIONS.NAME)}\n              onKeyDown={(e) => onKeyDownSort(e, STORY_SORT_OPTIONS.NAME)}\n            >\n              <SelectableTitle\n                aria-label={__(\n                  'Title, select to sort table by story title',\n                  'web-stories'\n                )}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Title', 'web-stories')}\n              </SelectableTitle>\n            </TablePreviewHeaderCell>\n            <TableTitleHeaderCell\n              onClick={() => onSortTitleSelected(STORY_SORT_OPTIONS.NAME)}\n              onKeyDown={(e) => onKeyDownSort(e, STORY_SORT_OPTIONS.NAME)}\n            >\n              <SelectableTitle\n                aria-hidden\n                active={storySort === STORY_SORT_OPTIONS.NAME}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Title', 'web-stories')}\n              </SelectableTitle>\n              <ArrowIcon\n                active={storySort === STORY_SORT_OPTIONS.NAME}\n                asc={sortDirection === SORT_DIRECTION.ASC}\n              >\n                {<Icons.ArrowDown />}\n              </ArrowIcon>\n            </TableTitleHeaderCell>\n            <TableAuthorHeaderCell>\n              <SelectableTitle\n                aria-label={__(\n                  'Author, select to sort table by story author',\n                  'web-stories'\n                )}\n                onClick={() =>\n                  onSortTitleSelected(STORY_SORT_OPTIONS.CREATED_BY)\n                }\n                onKeyDown={(e) =>\n                  onKeyDownSort(e, STORY_SORT_OPTIONS.CREATED_BY)\n                }\n                active={storySort === STORY_SORT_OPTIONS.CREATED_BY}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Author', 'web-stories')}\n              </SelectableTitle>\n              <ArrowIconWithTitle\n                aria-hidden\n                active={storySort === STORY_SORT_OPTIONS.CREATED_BY}\n                asc={sortDirection === SORT_DIRECTION.ASC}\n              >\n                {storySort === STORY_SORT_OPTIONS.CREATED_BY ? (\n                  <Icons.ArrowDown />\n                ) : (\n                  <EmptyIconSpace />\n                )}\n              </ArrowIconWithTitle>\n            </TableAuthorHeaderCell>\n            <TableDateHeaderCell>\n              <SelectableTitle\n                aria-label={__(\n                  'Creation date, select to sort table by date story was created',\n                  'web-stories'\n                )}\n                onClick={() =>\n                  onSortTitleSelected(STORY_SORT_OPTIONS.DATE_CREATED)\n                }\n                onKeyDown={(e) =>\n                  onKeyDownSort(e, STORY_SORT_OPTIONS.DATE_CREATED)\n                }\n                active={storySort === STORY_SORT_OPTIONS.DATE_CREATED}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Date Created', 'web-stories')}\n              </SelectableTitle>\n              <ArrowIconWithTitle\n                aria-hidden\n                active={storySort === STORY_SORT_OPTIONS.DATE_CREATED}\n                asc={sortDirection === SORT_DIRECTION.ASC}\n              >\n                <Icons.ArrowDown />\n              </ArrowIconWithTitle>\n            </TableDateHeaderCell>\n            <TableDateHeaderCell>\n              <SelectableTitle\n                aria-label={__(\n                  'Modification date, select to sort table by date story was last modified',\n                  'web-stories'\n                )}\n                onClick={() =>\n                  onSortTitleSelected(STORY_SORT_OPTIONS.LAST_MODIFIED)\n                }\n                onKeyDown={(e) =>\n                  onKeyDownSort(e, STORY_SORT_OPTIONS.LAST_MODIFIED)\n                }\n                active={storySort === STORY_SORT_OPTIONS.LAST_MODIFIED}\n                forwardedAs=\"span\"\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                isBold\n              >\n                {__('Last Modified', 'web-stories')}\n              </SelectableTitle>\n              <ArrowIconWithTitle\n                aria-hidden\n                active={storySort === STORY_SORT_OPTIONS.LAST_MODIFIED}\n                asc={sortDirection === SORT_DIRECTION.ASC}\n              >\n                <Icons.ArrowDown />\n              </ArrowIconWithTitle>\n            </TableDateHeaderCell>\n            {storyStatus !== STORY_STATUS.DRAFT && (\n              <TableStatusHeaderCell>\n                <Text\n                  as=\"span\"\n                  isBold\n                  size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                >\n                  {__('Publish State', 'web-stories')}\n                </Text>\n              </TableStatusHeaderCell>\n            )}\n          </TableRow>\n        </StickyTableHeader>\n        <TableBody>{tableContents}</TableBody>\n      </Table>\n    </ListView>\n  );\n}\n\nStoryListView.propTypes = {\n  handleSortChange: PropTypes.func.isRequired,\n  handleSortDirectionChange: PropTypes.func.isRequired,\n  hideStoryList: PropTypes.bool,\n  renameStory: RenameStoryPropType,\n  sortDirection: PropTypes.string.isRequired,\n  storyMenu: StoryMenuPropType.isRequired,\n  storySort: PropTypes.string.isRequired,\n  storyStatus: PropTypes.oneOf(Object.values(STORY_STATUS)),\n  stories: StoriesPropType,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n  useState,\n  useCallback,\n  useMemo,\n  useEffect,\n} from '@web-stories-wp/react';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport { trackEvent } from '@web-stories-wp/tracking';\nimport {\n  LoadingSpinner,\n  useSnackbar,\n  Text,\n  THEME_CONSTANTS,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { StoriesPropType, StoryActionsPropType } from '../../../../../types';\nimport { titleFormatted } from '../../../../../utils';\nimport {\n  SortPropTypes,\n  ViewPropTypes,\n  ShowStoriesWhileLoadingPropType,\n} from '../../../../../utils/useStoryView';\nimport { Dialog, LoadingContainer } from '../../../../../components';\nimport {\n  VIEW_STYLE,\n  STORY_CONTEXT_MENU_ACTIONS,\n  STORY_CONTEXT_MENU_ITEMS,\n} from '../../../../../constants';\nimport ListView from '../listView';\nimport StoryGridView from '../storyGridView';\n\nconst ACTIVE_DIALOG_DELETE_STORY = 'DELETE_STORY';\nfunction StoriesView({\n  filterValue,\n  loading,\n  sort,\n  storyActions,\n  stories,\n  view,\n}) {\n  const [contextMenuId, setContextMenuId] = useState(-1);\n  const [titleRenameId, setTitleRenameId] = useState(-1);\n\n  const [activeDialog, setActiveDialog] = useState('');\n  const [activeStory, setActiveStory] = useState(null);\n  const [focusedStory, setFocusedStory] = useState({});\n  const [returnStoryFocusId, setReturnStoryFocusId] = useState(null);\n\n  const { showSnackbar } = useSnackbar();\n\n  const isActiveDeleteStoryDialog =\n    activeDialog === ACTIVE_DIALOG_DELETE_STORY && activeStory;\n\n  const storiesById = useMemo(() => stories.map(({ id }) => id), [stories]);\n\n  useEffect(() => {\n    // if a dialog is opened and the keyboard used we need to return the focus of the proper grid item to ease keyboard usage\n    // focusedStory is set when activeDialog is removed\n    // then we use storiesById to find the proper index of the interacted with item and use that to decide where to move focus\n    if (focusedStory.id && !returnStoryFocusId) {\n      const storyArrayIndex = storiesById.indexOf(focusedStory.id);\n      const isDeletedAdjustmentDirection = storyArrayIndex > 0 ? -1 : +1;\n      const adjustedIndex = focusedStory.isDeleted\n        ? isDeletedAdjustmentDirection\n        : 0;\n      const focusIndex = storyArrayIndex + adjustedIndex;\n      const storyIdToFocus = storiesById[focusIndex];\n      storyIdToFocus && setReturnStoryFocusId(storyIdToFocus);\n    }\n  }, [focusedStory, returnStoryFocusId, storiesById]);\n\n  useEffect(() => {\n    if (!activeDialog) {\n      setActiveStory(null);\n    }\n  }, [activeDialog, setActiveStory]);\n\n  useEffect(() => {\n    // every time the activeDialog is truthy we want to reset our state that helps determine where to send focus back to when the dialog is closed\n    if (activeDialog) {\n      setFocusedStory({});\n      setReturnStoryFocusId(null);\n    }\n  }, [activeDialog]);\n\n  const handleOnRenameStory = useCallback(\n    (story, newTitle) => {\n      setTitleRenameId(-1);\n      trackEvent('rename_story');\n      storyActions.updateStory({ ...story, title: { raw: newTitle } });\n    },\n    [storyActions]\n  );\n\n  const handleOnDeleteStory = useCallback(() => {\n    trackEvent('delete_story');\n    storyActions.trashStory(activeStory);\n    setFocusedStory({ id: activeStory.id, isDeleted: true });\n    setActiveDialog('');\n  }, [storyActions, activeStory]);\n\n  // menu item actions\n  const handleOpenStoryInEditor = useCallback(() => {\n    setContextMenuId(-1);\n    trackEvent('open_in_editor');\n  }, []);\n\n  const handleRenameStory = useCallback((story) => {\n    setContextMenuId(-1);\n    setTitleRenameId(story.id);\n  }, []);\n\n  const handleDuplicateStory = useCallback(\n    (story) => {\n      setContextMenuId(-1);\n      trackEvent('duplicate_story');\n      storyActions.duplicateStory(story);\n      setFocusedStory({ id: story.id });\n    },\n    [storyActions]\n  );\n\n  const handleDeleteStory = useCallback((story) => {\n    setContextMenuId(-1);\n    setActiveStory(story);\n    setActiveDialog(ACTIVE_DIALOG_DELETE_STORY);\n  }, []);\n\n  const handleCopyStoryLink = useCallback(\n    (story) => {\n      setContextMenuId(-1);\n      global.navigator.clipboard.writeText(story.link);\n\n      showSnackbar({\n        message: sprintf(\n          /* translators: %s: story title. */\n          __('%s has been copied to your clipboard.', 'web-stories'),\n          titleFormatted(story.title)\n        ),\n        dismissible: true,\n      });\n      setFocusedStory({ id: story.id });\n    },\n    [showSnackbar]\n  );\n\n  const storyMenu = useMemo(() => {\n    return {\n      handleMenuToggle: setContextMenuId,\n      contextMenuId,\n      menuItemActions: {\n        default: () => setContextMenuId(-1),\n        [STORY_CONTEXT_MENU_ACTIONS.COPY_STORY_LINK]: handleCopyStoryLink,\n        [STORY_CONTEXT_MENU_ACTIONS.DELETE]: handleDeleteStory,\n        [STORY_CONTEXT_MENU_ACTIONS.DUPLICATE]: handleDuplicateStory,\n        [STORY_CONTEXT_MENU_ACTIONS.OPEN_STORY_LINK]: handleOpenStoryInEditor,\n        [STORY_CONTEXT_MENU_ACTIONS.RENAME]: handleRenameStory,\n      },\n      menuItems: STORY_CONTEXT_MENU_ITEMS,\n    };\n  }, [\n    contextMenuId,\n    handleCopyStoryLink,\n    handleDeleteStory,\n    handleDuplicateStory,\n    handleOpenStoryInEditor,\n    handleRenameStory,\n    setContextMenuId,\n  ]);\n\n  const renameStory = useMemo(() => {\n    return {\n      id: titleRenameId,\n      handleOnRenameStory,\n      handleCancelRename: () => setTitleRenameId(-1),\n    };\n  }, [handleOnRenameStory, setTitleRenameId, titleRenameId]);\n\n  const ActiveView = useMemo(() => {\n    // Stories should be shown when we trigger a fetch from `InfiniteScroll`.\n    // Stories should be hidden when a filter is changed.\n    if (view.style === VIEW_STYLE.LIST) {\n      // StoryListView needs to show the table header when loading stories\n      // when filtering.\n      return (\n        <ListView\n          handleSortChange={sort.set}\n          handleSortDirectionChange={sort.setDirection}\n          hideStoryList={\n            loading?.isLoading && !loading?.showStoriesWhileLoading.current\n          }\n          pageSize={view.pageSize}\n          renameStory={renameStory}\n          sortDirection={sort.direction}\n          stories={stories}\n          storyMenu={storyMenu}\n          storySort={sort.value}\n          storyStatus={filterValue}\n        />\n      );\n    }\n\n    if (\n      !loading?.isLoading ||\n      (loading?.isLoading && loading?.showStoriesWhileLoading.current)\n    ) {\n      return (\n        <StoryGridView\n          isLoading={loading?.isLoading}\n          pageSize={view.pageSize}\n          renameStory={renameStory}\n          storyMenu={storyMenu}\n          stories={stories}\n          returnStoryFocusId={{\n            value: returnStoryFocusId,\n            set: setReturnStoryFocusId,\n          }}\n        />\n      );\n    }\n\n    // Hide all stories when filter is triggered.\n    return null;\n  }, [\n    loading,\n    filterValue,\n    renameStory,\n    returnStoryFocusId,\n    sort,\n    stories,\n    storyMenu,\n    view,\n  ]);\n\n  return (\n    <>\n      {ActiveView}\n      {loading?.isLoading && !loading?.showStoriesWhileLoading.current && (\n        <LoadingContainer>\n          <LoadingSpinner />\n        </LoadingContainer>\n      )}\n      {isActiveDeleteStoryDialog && (\n        <Dialog\n          isOpen\n          contentLabel={__('Dialog to confirm deleting a story', 'web-stories')}\n          title={__('Delete Story', 'web-stories')}\n          onClose={() => {\n            setFocusedStory({ id: activeStory.id });\n            setActiveDialog('');\n          }}\n          secondaryText={__('Cancel', 'web-stories')}\n          secondaryRest={{\n            ['aria-label']: sprintf(\n              /* translators: %s: story title. */\n              __('Cancel deleting story \"%s\"', 'web-stories'),\n              titleFormatted(activeStory.title)\n            ),\n          }}\n          primaryText={__('Delete', 'web-stories')}\n          onPrimary={handleOnDeleteStory}\n          primaryRest={{\n            ['aria-label']: sprintf(\n              /* translators: %s: story title. */\n              __('Confirm deleting story \"%s\"', 'web-stories'),\n              titleFormatted(activeStory.title)\n            ),\n          }}\n        >\n          <Text size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n            {sprintf(\n              /* translators: %s: story title. */\n              __('Are you sure you want to delete \"%s\"?', 'web-stories'),\n              titleFormatted(activeStory.title)\n            )}\n          </Text>\n        </Dialog>\n      )}\n    </>\n  );\n}\n\nStoriesView.propTypes = {\n  filterValue: PropTypes.string,\n  loading: PropTypes.shape({\n    isLoading: PropTypes.bool,\n    showStoriesWhileLoading: ShowStoriesWhileLoadingPropType,\n  }),\n  sort: SortPropTypes,\n  storyActions: StoryActionsPropType,\n  stories: StoriesPropType,\n  view: ViewPropTypes,\n};\nexport default StoriesView;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  Headline,\n  Icons,\n  THEME_CONSTANTS,\n  Text,\n} from '@web-stories-wp/design-system';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n/**\n * Internal dependencies\n */\nimport { CardGridItem } from '../../../../../components';\n\nexport const CustomCardGridItem = styled(CardGridItem)`\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: ${({ $posterHeight }) => `${$posterHeight}px auto`};\n`;\nCustomCardGridItem.propTypes = {\n  $posterHeight: PropTypes.number,\n};\n\n// Allows grid item contents to overlay in a set space\nexport const CardWrapper = styled.div`\n  position: absolute;\n  height: 100%;\n  width: 100%;\n`;\n\nexport const ScrimAnchor = styled.a`\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  border-radius: ${({ theme }) => theme.borders.radius.medium};\n\n  &:hover,\n  &:focus {\n    box-shadow: none;\n    border: ${({ theme }) => `4px solid ${theme.colors.interactiveBg.active}`};\n  }\n`;\n// Components that create the content to display on top of a poster\n// Set guidance for how content should display on top of a poster\nexport const StyledStoryDisplayContent = styled.div`\n  padding: 20px 12px 8px 12px;\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n`;\n\n// Generic row to vertically center grid item contents\nexport const Row = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: flex-end;\n  flex-wrap: wrap;\n`;\nexport const LockedRow = styled(Row)`\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\n// Interior grid for details to allow context menu space without jostling copy\nexport const CardDetailsGrid = styled.div`\n  display: grid;\n  grid-template-columns: 80% auto;\n  margin-top: 4px;\n`;\nexport const CardDetailsColumn = styled.div`\n  display: flex;\n  align-items: space-between;\n  flex-direction: column;\n  align-self: flex-end;\n`;\n\n// Story Title\n// Overriding stylelint for the sake of line clamping the title to be 3 lines.\n// This is supported by all major browsers except IE 11.\n// If it fails, max-height will catch so that really long titles\n// don't leave their designated space, just no ellipsis.\nexport const Title = styled(Headline).attrs({\n  as: 'h3',\n  size: THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL,\n})`\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ${({ theme }) => theme.colors.inverted.fg.primary};\n  margin: 0;\n  max-height: calc(1.2em * 3);\n  /* stylelint-disable-next-line */\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  /* stylelint-disable-next-line */\n  -webkit-box-orient: vertical;\n`;\n\n// All body text\nexport const DetailCopy = styled(Text).attrs({\n  forwardedAs: 'span',\n  size: THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL,\n})`\n  color: ${({ theme }) => theme.colors.inverted.fg.primary};\n  margin: 0;\n`;\n\n// specifications for exposing a locked story\nexport const LockAvatar = styled.img`\n  height: 40px;\n  width: 40px;\n  border: ${({ theme }) =>\n    `2px solid ${theme.colors.interactiveBg.brandNormal}`};\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n  z-index: 3;\n`;\n\nexport const LockIcon = styled(Icons.LockClosed)`\n  color: ${({ theme }) => theme.colors.inverted.fg.primary};\n  display: inline;\n  height: 36px;\n  width: 36px;\n  margin: -4px -4px -4px -10px;\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { VisuallyHidden } from '@web-stories-wp/design-system';\nimport { getRelativeDisplayDate } from '@web-stories-wp/date';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport { useFeatures } from 'flagged';\nimport PropTypes from 'prop-types';\nimport { useMemo, forwardRef } from '@web-stories-wp/react';\nimport { css } from 'styled-components';\n/**\n * Internal dependencies\n */\nimport { StoryMenu } from '../../../../../components';\nimport { generateStoryMenu } from '../../../../../components/popoverMenu/story-menu-generator';\nimport {\n  DEFAULT_GRID_IMG_HEIGHT,\n  DEFAULT_GRID_IMG_WIDTH,\n  STORY_STATUS,\n} from '../../../../../constants';\nimport {\n  PageSizePropType,\n  RenameStoryPropType,\n  StoryMenuPropType,\n  StoryPropType,\n} from '../../../../../types';\nimport { titleFormatted } from '../../../../../utils';\nimport { useConfig } from '../../../../config';\nimport {\n  Container,\n  Poster,\n  Gradient,\n  Scrim,\n} from '../../../shared/grid/components';\nimport { CardWrapper, CustomCardGridItem, ScrimAnchor } from './components';\nimport StoryDisplayContent from './storyDisplayContent';\n\nconst StoryGridItem = forwardRef(\n  ({ onFocus, isActive, pageSize, renameStory, story, storyMenu }, ref) => {\n    const { enablePostLocking } = useFeatures();\n    const { userId } = useConfig();\n    const tabIndex = isActive ? 0 : -1;\n    const titleRenameProps = renameStory\n      ? {\n          editMode: renameStory?.id === story?.id,\n          onEditComplete: (newTitle) =>\n            renameStory?.handleOnRenameStory(story, newTitle),\n          onEditCancel: renameStory?.handleCancelRename,\n        }\n      : {};\n\n    const isLocked = useMemo(\n      () => enablePostLocking && story?.locked && userId !== story?.lockUser.id,\n      [enablePostLocking, story, userId]\n    );\n\n    const generatedMenuItems = useMemo(\n      () =>\n        generateStoryMenu({\n          menuItemActions: storyMenu.menuItemActions,\n          menuItems: storyMenu.menuItems,\n          story,\n          isLocked,\n        }),\n      [storyMenu, story, isLocked]\n    );\n\n    const storyDate = getRelativeDisplayDate(\n      story?.status === STORY_STATUS.DRAFT\n        ? story?.modifiedGmt\n        : story?.createdGmt\n    );\n\n    const formattedTitle = titleFormatted(story.title);\n\n    const memoizedStoryMenu = useMemo(\n      () => (\n        <StoryMenu\n          menuLabel={\n            isLocked\n              ? sprintf(\n                  /* translators: 1: story title. 2: user currently editing the story. */\n                  __('Context menu for %1$s (locked by %2$s)', 'web-stories'),\n                  formattedTitle,\n                  story?.lockUser.name\n                )\n              : sprintf(\n                  /* translators: %s: story title.*/\n                  __('Context menu for %s', 'web-stories'),\n                  formattedTitle\n                )\n          }\n          itemActive={isActive}\n          tabIndex={tabIndex}\n          onMoreButtonSelected={storyMenu.handleMenuToggle}\n          contextMenuId={storyMenu.contextMenuId}\n          storyId={story.id}\n          isInverted\n          menuItems={generatedMenuItems}\n          menuStyleOverrides={css`\n            /* force menu position to bottom corner */\n            margin: 0 0 0 auto;\n          `}\n        />\n      ),\n      [\n        isLocked,\n        formattedTitle,\n        story?.lockUser?.name,\n        story.id,\n        isActive,\n        tabIndex,\n        storyMenu,\n        generatedMenuItems,\n      ]\n    );\n\n    return (\n      <CustomCardGridItem\n        data-testid={`story-grid-item-${story.id}`}\n        onFocus={onFocus}\n        $posterHeight={pageSize.height}\n        ref={ref}\n        aria-label={sprintf(\n          /* translators: %s: story title.*/\n          __('Details about %s', 'web-stories'),\n          formattedTitle\n        )}\n      >\n        <Container>\n          <CardWrapper>\n            <Poster\n              {...(story.featuredMediaUrl\n                ? {\n                    alt: sprintf(\n                      /* translators: %s: Story title. */\n                      __('%s Poster image', 'web-stories'),\n                      formattedTitle\n                    ),\n                    as: 'img',\n                    src: story.featuredMediaUrl,\n                  }\n                : null)}\n              width={DEFAULT_GRID_IMG_WIDTH}\n              height={DEFAULT_GRID_IMG_HEIGHT}\n            />\n            <Gradient />\n            <Scrim>\n              {story?.capabilities?.hasEditAction && (\n                <ScrimAnchor\n                  className=\"grid-item-anchor\"\n                  data-testid=\"story-editor-grid-link\"\n                  tabIndex={tabIndex}\n                  href={story.editStoryLink}\n                >\n                  <VisuallyHidden>\n                    {sprintf(\n                      /* translators: %s: Story title. */\n                      __('Open %s in Editor', 'web-stories'),\n                      formattedTitle\n                    )}\n                  </VisuallyHidden>\n                </ScrimAnchor>\n              )}\n              <StoryDisplayContent\n                author={story.author}\n                contextMenu={memoizedStoryMenu}\n                displayDate={storyDate}\n                formattedTitle={formattedTitle}\n                id={story.id}\n                isLocked={isLocked}\n                lockUser={story?.lockUser}\n                status={story?.status}\n                title={story.title}\n                {...titleRenameProps}\n              />\n            </Scrim>\n          </CardWrapper>\n        </Container>\n      </CustomCardGridItem>\n    );\n  }\n);\n\nStoryGridItem.displayName = 'StoryGridItem';\n\nStoryGridItem.propTypes = {\n  onFocus: PropTypes.func,\n  isActive: PropTypes.bool,\n  pageSize: PageSizePropType,\n  renameStory: RenameStoryPropType,\n  storyMenu: StoryMenuPropType,\n  story: StoryPropType,\n};\n\nexport default StoryGridItem;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useMemo } from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport { Tooltip, TOOLTIP_PLACEMENT } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { STORY_STATUS } from '../../../../../constants';\nimport { InlineInputForm } from '../../../../../components';\nimport { DashboardStatusesPropType } from '../../../../../types';\nimport {\n  StyledStoryDisplayContent,\n  CardDetailsGrid,\n  CardDetailsColumn,\n  Row,\n  Title,\n  DetailCopy,\n  LockAvatar,\n  LockedRow,\n  LockIcon,\n} from './components';\n\nconst StoryDisplayContent = ({\n  author,\n  contextMenu,\n  displayDate,\n  editMode,\n  formattedTitle,\n  id,\n  isLocked,\n  lockUser = {},\n  onEditComplete,\n  onEditCancel,\n  status,\n  title,\n}) => {\n  const displayDateText = useMemo(() => {\n    if (!displayDate) {\n      return null;\n    }\n\n    switch (status) {\n      case STORY_STATUS.PUBLISH:\n        return sprintf(\n          /* translators: %s: published date */\n          __('Published %s', 'web-stories'),\n          displayDate\n        );\n      case STORY_STATUS.FUTURE:\n        return sprintf(\n          /* translators: %s: future publish date */\n          __('Scheduled %s', 'web-stories'),\n          displayDate\n        );\n\n      default:\n        return sprintf(\n          /* translators: %s: last modified date */\n          __('Modified %s', 'web-stories'),\n          displayDate\n        );\n    }\n  }, [status, displayDate]);\n\n  const { name, avatar } = lockUser;\n\n  const storyLockedTitle = isLocked && (\n    <LockedRow>\n      <Tooltip\n        position={TOOLTIP_PLACEMENT.BOTTOM_START}\n        title={\n          name &&\n          sprintf(\n            /* translators: %s: user name */\n            __('%s is currently editing this story', 'web-stories'),\n            name\n          )\n        }\n      >\n        {avatar && (\n          <LockAvatar\n            src={avatar}\n            alt={name}\n            height={24}\n            width={24}\n            data-test-id=\"lock-user-avatar\"\n          />\n        )}\n      </Tooltip>\n    </LockedRow>\n  );\n  return (\n    <StyledStoryDisplayContent>\n      {storyLockedTitle}\n      {editMode ? (\n        <InlineInputForm\n          onEditComplete={onEditComplete}\n          onEditCancel={onEditCancel}\n          value={title}\n          id={id}\n          label={__('Rename story', 'web-stories')}\n          isInverted\n        />\n      ) : (\n        <Row>\n          {isLocked && <LockIcon />}\n          <Title>{formattedTitle}</Title>\n        </Row>\n      )}\n      <CardDetailsGrid>\n        <CardDetailsColumn>\n          {status === STORY_STATUS.DRAFT && (\n            <DetailCopy isBold>{__('Draft', 'web-stories')}</DetailCopy>\n          )}\n          {status === STORY_STATUS.PENDING && (\n            <DetailCopy isBold>{__('Pending', 'web-stories')}</DetailCopy>\n          )}\n          {author?.name && <DetailCopy>{author?.name}</DetailCopy>}\n          <DetailCopy className=\"dashboard-grid-item-date\">\n            {displayDateText}\n          </DetailCopy>\n        </CardDetailsColumn>\n        <CardDetailsColumn>{contextMenu}</CardDetailsColumn>\n      </CardDetailsGrid>\n    </StyledStoryDisplayContent>\n  );\n};\n\nStoryDisplayContent.propTypes = {\n  author: PropTypes.object,\n  contextMenu: PropTypes.node,\n  displayDate: PropTypes.string,\n  editMode: PropTypes.bool,\n  formattedTitle: PropTypes.string.isRequired,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  isLocked: PropTypes.bool,\n  lockUser: PropTypes.object,\n  onEditComplete: PropTypes.func,\n  onEditCancel: PropTypes.func,\n  title: PropTypes.string.isRequired,\n  status: DashboardStatusesPropType,\n};\n\nexport default StoryDisplayContent;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  useRef,\n  useEffect,\n  useState,\n  useMemo,\n  useCallback,\n  useFocusOut,\n} from '@web-stories-wp/react';\nimport { useGridViewKeys } from '@web-stories-wp/design-system';\n/**\n * Internal dependencies\n */\nimport { CardGrid } from '../../../../../components';\nimport {\n  StoriesPropType,\n  StoryMenuPropType,\n  PageSizePropType,\n  RenameStoryPropType,\n} from '../../../../../types';\nimport {\n  PAGE_WRAPPER,\n  STORY_CONTEXT_MENU_ACTIONS,\n} from '../../../../../constants';\nimport { useConfig } from '../../../../config';\nimport StoryGridItem from '../storyGridItem';\n\nconst StoryGrid = styled(CardGrid)`\n  width: calc(100% - ${PAGE_WRAPPER.GUTTER}px);\n`;\n\nconst StoryGridView = ({\n  stories,\n  pageSize,\n  storyMenu,\n  renameStory,\n  returnStoryFocusId,\n}) => {\n  const { isRTL } = useConfig();\n  const containerRef = useRef();\n  const gridRef = useRef();\n  const itemRefs = useRef({});\n  const [activeGridItemId, setActiveGridItemId] = useState();\n  const activeGridItemIdRef = useRef();\n  const gridItemIds = useMemo(() => stories.map(({ id }) => id), [stories]);\n\n  useGridViewKeys({\n    containerRef,\n    gridRef,\n    itemRefs,\n    isRTL,\n    currentItemId: activeGridItemId,\n    items: stories,\n  });\n\n  // We only want to force focus when returning to the grid from a dialog\n  // By checking to see if the active grid item no longer exists\n  // in tandem with the returnStoryFocusId being present from the parent\n  // AND that the activeGridItemIdRef.current is null we know that\n  // the user is coming from a dialog not just moving grid items\n  useEffect(() => {\n    if (\n      !activeGridItemId &&\n      returnStoryFocusId?.value &&\n      !activeGridItemIdRef.current\n    ) {\n      const newFocusId = returnStoryFocusId?.value;\n      setActiveGridItemId(newFocusId);\n      // grab the menu button and refocus\n      const firstFocusableElement = itemRefs.current?.[\n        newFocusId\n      ]?.querySelectorAll(['button', 'a'])?.[0];\n\n      firstFocusableElement?.focus();\n    }\n  }, [activeGridItemId, returnStoryFocusId]);\n\n  // when keyboard focus changes through FocusableGridItem\n  // immediately focus the edit preview layer on top of preview\n  useEffect(() => {\n    if (activeGridItemId) {\n      activeGridItemIdRef.current = activeGridItemId;\n    }\n  }, [activeGridItemId]);\n\n  // Additional functionality needed when closing context menus to maintain grid item focus\n  const handleMenuToggle = useCallback(\n    (evt, id) => {\n      storyMenu.handleMenuToggle(id);\n      // Conditionally return the focus to the grid when menu is closed using `tab`\n      if (id < 0 && evt?.keyCode === 9) {\n        // Menu is closing.\n        const isNext = !evt?.shiftKey;\n        const idToFocus = isNext\n          ? gridItemIds[gridItemIds.indexOf(activeGridItemId) + 1]\n          : activeGridItemId;\n        returnStoryFocusId.set(idToFocus);\n        activeGridItemIdRef.current = null;\n        setActiveGridItemId(null);\n      }\n    },\n    [activeGridItemId, gridItemIds, returnStoryFocusId, storyMenu]\n  );\n\n  // if keyboard is used instead of mouse the useFocusOut doesn't get triggered\n  // that is where we are setting active grid item ID to null\n  // by doing this here as well we are ensuring consistent functionality\n  const manuallySetFocusOut = useCallback(() => {\n    activeGridItemIdRef.current = null;\n    setActiveGridItemId(null);\n    returnStoryFocusId.set(null);\n  }, [returnStoryFocusId]);\n\n  useFocusOut(containerRef, () => setActiveGridItemId(null), []);\n\n  const modifiedStoryMenu = useMemo(() => {\n    return {\n      ...storyMenu,\n      handleMenuToggle,\n      menuItemActions: {\n        ...storyMenu.menuItemActions,\n        [STORY_CONTEXT_MENU_ACTIONS.DELETE]: (story) => {\n          manuallySetFocusOut();\n          storyMenu.menuItemActions[STORY_CONTEXT_MENU_ACTIONS.DELETE](story);\n        },\n        [STORY_CONTEXT_MENU_ACTIONS.DUPLICATE]: (story) => {\n          manuallySetFocusOut();\n          storyMenu.menuItemActions[STORY_CONTEXT_MENU_ACTIONS.DUPLICATE](\n            story\n          );\n        },\n        [STORY_CONTEXT_MENU_ACTIONS.COPY_STORY_LINK]: (story) => {\n          manuallySetFocusOut();\n          storyMenu.menuItemActions[STORY_CONTEXT_MENU_ACTIONS.COPY_STORY_LINK](\n            story\n          );\n        },\n      },\n    };\n  }, [handleMenuToggle, manuallySetFocusOut, storyMenu]);\n\n  const memoizedStoryGrid = useMemo(\n    () =>\n      stories.map((story) => {\n        return (\n          <StoryGridItem\n            onFocus={() => setActiveGridItemId(story.id)}\n            isActive={activeGridItemId === story.id}\n            ref={(el) => {\n              itemRefs.current[story.id] = el;\n            }}\n            key={story.id}\n            pageSize={pageSize}\n            renameStory={renameStory}\n            story={story}\n            storyMenu={modifiedStoryMenu}\n          />\n        );\n      }),\n    [activeGridItemId, modifiedStoryMenu, pageSize, renameStory, stories]\n  );\n\n  return (\n    <div ref={containerRef}>\n      <StoryGrid\n        pageSize={pageSize}\n        ref={gridRef}\n        role=\"list\"\n        ariaLabel={__('Viewing stories', 'web-stories')}\n      >\n        {memoizedStoryGrid}\n      </StoryGrid>\n    </div>\n  );\n};\n\nStoryGridView.propTypes = {\n  stories: StoriesPropType,\n  pageSize: PageSizePropType.isRequired,\n  storyMenu: StoryMenuPropType,\n  renameStory: RenameStoryPropType,\n  returnStoryFocusId: PropTypes.shape({\n    value: PropTypes.number,\n    set: PropTypes.func,\n  }),\n};\n\nexport default StoryGridView;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { Icons } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  STORY_PREVIEW_WIDTH,\n  VIEWPORT_BREAKPOINT,\n} from '../../../../../constants';\nimport { TableRow, MoreVerticalButton } from '../../../../../components';\n\nexport const PreviewImage = styled.div`\n  display: inline-block;\n  background: ${({ theme }) => theme.colors.gradient.placeholder};\n  width: ${STORY_PREVIEW_WIDTH[VIEWPORT_BREAKPOINT.THUMBNAIL]}px;\n  height: ${STORY_PREVIEW_WIDTH[VIEWPORT_BREAKPOINT.THUMBNAIL] / (3 / 4)}px;\n  object-fit: contain;\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n`;\nexport const PreviewWrapper = styled.div`\n  position: relative;\n`;\n\nexport const LockIcon = styled(Icons.LockClosed)`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 24px;\n  display: block;\n  margin: auto;\n  background-color: ${({ theme }) => theme.colors.interactiveBg.brandNormal};\n  color: ${({ theme }) => theme.colors.standard.white};\n  border-radius: ${({ theme }) => theme.borders.radius.round};\n`;\n\nexport const StyledTableRow = styled(TableRow)`\n  &:hover ${MoreVerticalButton}, &:focus-within ${MoreVerticalButton} {\n    opacity: 1;\n  }\n`;\n\nexport const TitleTableCellContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n\n  ${MoreVerticalButton} {\n    margin: 10px auto;\n  }\n\n  &:hover ${MoreVerticalButton}, &:active ${MoreVerticalButton} {\n    opacity: 1;\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useMemo } from '@web-stories-wp/react';\nimport { getRelativeDisplayDate } from '@web-stories-wp/date';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport {\n  Headline,\n  Text,\n  THEME_CONSTANTS,\n  Tooltip,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  InlineInputForm,\n  StoryMenu,\n  TableCell,\n  TablePreviewCell,\n  TableStatusCell,\n} from '../../../../../components';\nimport { generateStoryMenu } from '../../../../../components/popoverMenu/story-menu-generator';\nimport { DISPLAY_STATUS, STORY_STATUS } from '../../../../../constants';\nimport {\n  RenameStoryPropType,\n  StoryMenuPropType,\n  StoryPropType,\n} from '../../../../../types';\nimport { titleFormatted } from '../../../../../utils';\n\nimport {\n  LockIcon,\n  PreviewWrapper,\n  PreviewImage,\n  StyledTableRow,\n  TitleTableCellContainer,\n} from './components';\n\nfunction onFocusSelectAll(e) {\n  window.getSelection().selectAllChildren(e.target);\n}\n\nfunction onBlurDeselectAll() {\n  window.getSelection().removeAllRanges();\n}\n\nexport const StoryListItem = ({\n  story,\n  renameStory,\n  userId,\n  storyMenu,\n  storyStatus,\n}) => {\n  const isLocked = useMemo(\n    () => story?.locked && userId !== story?.lockUser.id,\n    [story, userId]\n  );\n\n  const formattedTitle = titleFormatted(story.title);\n\n  const memoizedStoryMenu = useMemo(\n    () => (\n      <StoryMenu\n        menuLabel={sprintf(\n          /* translators: %s: story title.*/\n          __('Context menu for %s', 'web-stories'),\n          formattedTitle\n        )}\n        onMoreButtonSelected={(_, id) => storyMenu.handleMenuToggle(id)}\n        contextMenuId={storyMenu.contextMenuId}\n        storyId={story.id}\n        menuItems={generateStoryMenu({\n          menuItemActions: storyMenu.menuItemActions,\n          menuItems: storyMenu.menuItems,\n          story,\n          isLocked,\n        })}\n        verticalAlign=\"center\"\n      />\n    ),\n    [isLocked, formattedTitle, storyMenu, story]\n  );\n\n  return (\n    <StyledTableRow data-testid={`story-list-item-${story.id}`}>\n      <TablePreviewCell>\n        <Tooltip\n          title={\n            isLocked && story?.lockUser.name\n              ? sprintf(\n                  /* translators: %s: user name */\n                  __('%s is currently editing this story', 'web-stories'),\n                  story?.lockUser.name\n                )\n              : ''\n          }\n        >\n          <PreviewWrapper>\n            <PreviewImage\n              {...(story.featuredMediaUrl\n                ? {\n                    src: story.featuredMediaUrl,\n                    alt: formattedTitle,\n                    as: 'img',\n                  }\n                : null)}\n            />\n            {isLocked && <LockIcon />}\n          </PreviewWrapper>\n        </Tooltip>\n      </TablePreviewCell>\n      <TableCell>\n        <TitleTableCellContainer>\n          {renameStory.id === story.id ? (\n            <InlineInputForm\n              onEditComplete={(newTitle) =>\n                renameStory.handleOnRenameStory(story, newTitle)\n              }\n              onEditCancel={renameStory.handleCancelRename}\n              value={story.title}\n              id={story.id}\n              label={__('Rename story', 'web-stories')}\n            />\n          ) : (\n            <>\n              <Headline\n                tabIndex={0}\n                onFocus={onFocusSelectAll}\n                onBlur={onBlurDeselectAll}\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.XXX_SMALL}\n                as=\"h3\"\n                aria-label={\n                  isLocked\n                    ? sprintf(\n                        /* translators: 1: story title. 2: user currently editing the story. */\n                        __('%1$s (locked by %2$s)', 'web-stories'),\n                        formattedTitle,\n                        story?.lockUser.name\n                      )\n                    : formattedTitle\n                }\n              >\n                {formattedTitle}\n              </Headline>\n              {memoizedStoryMenu}\n            </>\n          )}\n        </TitleTableCellContainer>\n      </TableCell>\n      <TableCell>\n        <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {story.author?.name || '—'}\n        </Text>\n      </TableCell>\n      <TableCell>\n        <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {getRelativeDisplayDate(story.createdGmt)}\n        </Text>\n      </TableCell>\n      <TableCell>\n        <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {getRelativeDisplayDate(story.modifiedGmt)}\n        </Text>\n      </TableCell>\n      {storyStatus !== STORY_STATUS.DRAFT && (\n        <TableStatusCell>\n          <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n            {DISPLAY_STATUS[story?.status]}\n          </Text>\n        </TableStatusCell>\n      )}\n    </StyledTableRow>\n  );\n};\n\nStoryListItem.propTypes = {\n  story: StoryPropType.isRequired,\n  renameStory: RenameStoryPropType,\n  userId: PropTypes.oneOfType([PropTypes.number, PropTypes.bool]),\n  storyMenu: StoryMenuPropType.isRequired,\n  storyStatus: PropTypes.string,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useMemo,\n  memo,\n  useCallback,\n  useDebouncedCallback,\n} from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport { trackEvent } from '@web-stories-wp/tracking';\nimport styled from 'styled-components';\nimport { Pill } from '@web-stories-wp/design-system';\n/**\n * Internal dependencies\n */\nimport { useLayoutContext } from '../../../../components';\nimport {\n  DASHBOARD_VIEWS,\n  STORY_STATUSES,\n  STORY_SORT_MENU_ITEMS,\n  TEXT_INPUT_DEBOUNCE,\n} from '../../../../constants';\nimport {\n  StoriesPropType,\n  TotalStoriesByStatusPropType,\n} from '../../../../types';\nimport {\n  FilterPropTypes,\n  SearchPropTypes,\n  SortPropTypes,\n  ViewPropTypes,\n  AuthorPropTypes,\n} from '../../../../utils/useStoryView';\nimport { useDashboardResultsLabel } from '../../../../utils';\nimport { BodyViewOptions, PageHeading } from '../../shared';\nimport { getSearchOptions } from '../../utils';\n\nconst StyledPill = styled(Pill)`\n  margin: 0 2px;\n  white-space: nowrap;\n\n  & > span {\n    padding-left: 8px;\n    color: ${({ theme }) => theme.colors.fg.tertiary};\n  }\n`;\nfunction Header({\n  filter,\n  isLoading,\n  search,\n  sort,\n  stories,\n  totalStoriesByStatus,\n  view,\n  author,\n  queryAuthorsBySearch,\n  showAuthorDropdown,\n}) {\n  const {\n    actions: { scrollToTop },\n  } = useLayoutContext();\n\n  const { setKeyword } = search;\n\n  const searchOptions = useMemo(() => getSearchOptions(stories), [stories]);\n\n  const resultsLabel = useDashboardResultsLabel({\n    currentFilter: filter.value,\n    isActiveSearch: Boolean(search.keyword),\n    totalResults: (filter.value.split(',') || []).reduce(\n      (totalResults, filterKey) =>\n        (totalResults += totalStoriesByStatus[filterKey] || 0),\n      0\n    ),\n    view: DASHBOARD_VIEWS.DASHBOARD,\n  });\n\n  const handleClick = useCallback(\n    (filterValue) => {\n      filter.set(filterValue);\n      scrollToTop();\n    },\n    [filter, scrollToTop]\n  );\n\n  const HeaderToggleButtons = useMemo(() => {\n    if (\n      totalStoriesByStatus &&\n      Object.keys(totalStoriesByStatus).length === 0\n    ) {\n      return null;\n    }\n\n    return (\n      <>\n        {STORY_STATUSES.map((storyStatus) => {\n          const { label, status, value } = storyStatus;\n          if (!(status in totalStoriesByStatus)) {\n            return null;\n          }\n\n          const count = totalStoriesByStatus[status];\n          if (count === 0) {\n            return null;\n          }\n\n          const ariaLabel = sprintf(\n            /* translators: %s is story status */\n            __('Filter stories by %s', 'web-stories'),\n            label\n          );\n          return (\n            <StyledPill\n              key={value}\n              onClick={() => handleClick(value)}\n              isActive={filter.value === value}\n              disabled={count <= 0}\n              aria-label={ariaLabel}\n            >\n              {label}\n              {count && <span>{count}</span>}\n            </StyledPill>\n          );\n        }).filter(Boolean)}\n      </>\n    );\n  }, [totalStoriesByStatus, filter.value, handleClick]);\n\n  const onSortChange = useCallback(\n    (newSort) => {\n      sort.set(newSort);\n      scrollToTop();\n    },\n    [scrollToTop, sort]\n  );\n\n  const debouncedSearchChange = useDebouncedCallback(async (value) => {\n    await trackEvent('search', {\n      search_type: 'dashboard',\n      search_term: value,\n    });\n    setKeyword(value);\n  }, TEXT_INPUT_DEBOUNCE);\n\n  const clearSearch = useCallback(() => setKeyword(''), [setKeyword]);\n\n  return (\n    <>\n      <PageHeading\n        heading={__('Dashboard', 'web-stories')}\n        searchPlaceholder={__('Search Stories', 'web-stories')}\n        searchOptions={searchOptions}\n        handleSearchChange={debouncedSearchChange}\n        showSearch\n        searchValue={search.keyword}\n        clearSearch={clearSearch}\n      >\n        {HeaderToggleButtons}\n      </PageHeading>\n\n      <BodyViewOptions\n        showGridToggle\n        showSortDropdown\n        showAuthorDropdown={showAuthorDropdown}\n        resultsLabel={resultsLabel}\n        layoutStyle={view.style}\n        isLoading={isLoading}\n        handleLayoutSelect={view.toggleStyle}\n        currentSort={sort.value}\n        pageSortOptions={STORY_SORT_MENU_ITEMS}\n        handleSortChange={onSortChange}\n        author={author}\n        queryAuthorsBySearch={queryAuthorsBySearch}\n        sortDropdownAriaLabel={__(\n          'Choose sort option for display',\n          'web-stories'\n        )}\n      />\n    </>\n  );\n}\n\nHeader.propTypes = {\n  filter: FilterPropTypes.isRequired,\n  isLoading: PropTypes.bool,\n  search: SearchPropTypes.isRequired,\n  sort: SortPropTypes.isRequired,\n  stories: StoriesPropType,\n  totalStoriesByStatus: TotalStoriesByStatusPropType,\n  view: ViewPropTypes.isRequired,\n  author: AuthorPropTypes,\n  queryAuthorsBySearch: PropTypes.func,\n  showAuthorDropdown: PropTypes.bool,\n};\n\nexport default memo(Header);\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useEffect, useMemo, useCallback } from '@web-stories-wp/react';\nimport { noop } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { ScrollToTop, Layout } from '../../../components';\nimport { STORY_STATUSES } from '../../../constants';\nimport { useStoryView } from '../../../utils';\nimport useApi from '../../api/useApi';\nimport { useConfig } from '../../config';\nimport Content from './content';\nimport Header from './header';\n\nfunction MyStories() {\n  const {\n    duplicateStory,\n    fetchStories,\n    trashStory,\n    updateStory,\n    allPagesFetched,\n    isLoading,\n    stories,\n    storiesOrderById,\n    totalPages,\n    totalStoriesByStatus,\n    getAuthors,\n  } = useApi(\n    ({\n      actions: {\n        storyApi: { duplicateStory, fetchStories, trashStory, updateStory },\n        usersApi: { getAuthors },\n      },\n      state: {\n        stories: {\n          allPagesFetched,\n          isLoading,\n          stories,\n          storiesOrderById,\n          totalPages,\n          totalStoriesByStatus,\n        },\n      },\n    }) => ({\n      duplicateStory,\n      fetchStories,\n      trashStory,\n      updateStory,\n      allPagesFetched,\n      isLoading,\n      stories,\n      storiesOrderById,\n      totalPages,\n      totalStoriesByStatus,\n      getAuthors,\n    })\n  );\n  const { apiCallbacks } = useConfig();\n\n  const { filter, page, search, sort, view, showStoriesWhileLoading, author } =\n    useStoryView({\n      filters: STORY_STATUSES,\n      isLoading,\n      totalPages,\n    });\n\n  const { setQueriedAuthors } = author;\n  let queryAuthorsBySearch = useCallback(\n    (authorSearchTerm) => {\n      return getAuthors(authorSearchTerm).then((data) => {\n        const userData = data.map(({ id, name }) => ({\n          id,\n          name,\n        }));\n        setQueriedAuthors((exisitingUsers) => {\n          const exisitingUsersIds = exisitingUsers.map(({ id }) => id);\n          const newUsers = userData.filter(\n            (newUser) => !exisitingUsersIds.includes(newUser.id)\n          );\n          return [...exisitingUsers, ...newUsers];\n        });\n      });\n    },\n    [getAuthors, setQueriedAuthors]\n  );\n\n  if (!getAuthors) {\n    queryAuthorsBySearch = noop;\n  }\n\n  useEffect(() => {\n    queryAuthorsBySearch();\n  }, [queryAuthorsBySearch]);\n\n  useEffect(() => {\n    fetchStories({\n      page: page.value,\n      searchTerm: search.keyword,\n      sortDirection: sort.direction,\n      sortOption: sort.value,\n      status: filter.value,\n      author: author.filterId,\n    });\n  }, [\n    fetchStories,\n    filter.value,\n    page.value,\n    search.keyword,\n    sort.direction,\n    sort.value,\n    author.filterId,\n    apiCallbacks,\n  ]);\n\n  const orderedStories = useMemo(() => {\n    return storiesOrderById.map((storyId) => {\n      return stories[storyId];\n    });\n  }, [stories, storiesOrderById]);\n\n  const showAuthorDropdown = typeof getAuthors === 'function';\n\n  return (\n    <Layout.Provider>\n      <Header\n        isLoading={isLoading && !orderedStories.length}\n        filter={filter}\n        search={search}\n        sort={sort}\n        stories={orderedStories}\n        totalStoriesByStatus={totalStoriesByStatus}\n        view={view}\n        author={author}\n        queryAuthorsBySearch={queryAuthorsBySearch}\n        showAuthorDropdown={showAuthorDropdown}\n      />\n\n      <Content\n        allPagesFetched={allPagesFetched}\n        filter={filter}\n        isLoading={isLoading}\n        page={page}\n        search={search}\n        sort={sort}\n        stories={orderedStories}\n        storyActions={{\n          duplicateStory,\n          trashStory,\n          updateStory,\n        }}\n        view={view}\n        showStoriesWhileLoading={showStoriesWhileLoading}\n      />\n\n      <Layout.Fixed>\n        <ScrollToTop />\n      </Layout.Fixed>\n    </Layout.Provider>\n  );\n}\n\nexport default MyStories;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { TranslateWithMarkup, __ } from '@web-stories-wp/i18n';\nimport {\n  Text,\n  THEME_CONSTANTS,\n  DropDown,\n  Datalist,\n  noop,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { AuthorPropTypes } from '../../../utils/useStoryView.js';\nimport { StandardViewContentGutter, ViewStyleBar } from '../../../components';\nimport { DROPDOWN_TYPES, VIEW_STYLE } from '../../../constants';\n\nconst DisplayFormatContainer = styled.div`\n  height: 76px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: -10px;\n`;\n\nconst StorySortDropdownContainer = styled.div`\n  margin: auto 8px;\n  align-self: flex-end;\n`;\n\nconst ControlsContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst StyledDropDown = styled(DropDown)`\n  width: 210px;\n`;\n\nconst BodyViewOptionsHeader = styled.div``;\nconst StyledDatalist = styled(Datalist.DropDown)`\n  width: 150px;\n`;\n\nconst defaultAuthor = {\n  filterId: null,\n  toggleFilterId: noop,\n  queriedAuthors: [],\n};\n\nexport default function BodyViewOptions({\n  currentSort,\n  handleLayoutSelect,\n  handleSortChange,\n  resultsLabel,\n  layoutStyle,\n  pageSortOptions = [],\n  showGridToggle,\n  showSortDropdown,\n  sortDropdownAriaLabel,\n  showAuthorDropdown = false,\n  author = defaultAuthor,\n  queryAuthorsBySearch = noop,\n}) {\n  return (\n    <StandardViewContentGutter>\n      <BodyViewOptionsHeader id=\"body-view-options-header\" />\n      <DisplayFormatContainer>\n        <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          <TranslateWithMarkup>{resultsLabel}</TranslateWithMarkup>\n        </Text>\n        <ControlsContainer>\n          {layoutStyle === VIEW_STYLE.GRID && showAuthorDropdown && (\n            <StorySortDropdownContainer>\n              <StyledDatalist\n                hasSearch\n                hasDropDownBorder\n                searchResultsLabel={__('Search results', 'web-stories')}\n                aria-label={__('Filter stories by author', 'web-stories')}\n                onChange={author.toggleFilterId}\n                getOptionsByQuery={queryAuthorsBySearch}\n                selectedId={author.filterId}\n                placeholder={__('Author', 'web-stories')}\n                primaryOptions={author.queriedAuthors}\n                options={author.queriedAuthors}\n              />\n            </StorySortDropdownContainer>\n          )}\n          {layoutStyle === VIEW_STYLE.GRID && showSortDropdown && (\n            <StorySortDropdownContainer>\n              <StyledDropDown\n                ariaLabel={sortDropdownAriaLabel}\n                options={pageSortOptions}\n                type={DROPDOWN_TYPES.MENU}\n                selectedValue={currentSort}\n                onMenuItemClick={(_, newSort) => handleSortChange(newSort)}\n              />\n            </StorySortDropdownContainer>\n          )}\n          {showGridToggle && (\n            <ControlsContainer>\n              <ViewStyleBar\n                layoutStyle={layoutStyle}\n                onPress={handleLayoutSelect}\n              />\n            </ControlsContainer>\n          )}\n        </ControlsContainer>\n      </DisplayFormatContainer>\n    </StandardViewContentGutter>\n  );\n}\n\nBodyViewOptions.propTypes = {\n  currentSort: PropTypes.string.isRequired,\n  handleLayoutSelect: PropTypes.func,\n  handleSortChange: PropTypes.func,\n  layoutStyle: PropTypes.string.isRequired,\n  resultsLabel: PropTypes.string.isRequired,\n  pageSortOptions: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.string,\n      label: PropTypes.string,\n    })\n  ),\n  showGridToggle: PropTypes.bool,\n  showSortDropdown: PropTypes.bool,\n  sortDropdownAriaLabel: PropTypes.string.isRequired,\n  showAuthorDropdown: PropTypes.bool,\n  author: AuthorPropTypes,\n  queryAuthorsBySearch: PropTypes.func,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { DesertColor } from '@web-stories-wp/design-system';\n\nconst Message = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 400px;\n  margin: 20vh auto;\n\n  & > * {\n    text-align: center;\n    margin: 0 auto;\n  }\n\n  /* Sometimes children will contain button or anchor as cta. */\n  button,\n  a {\n    margin-top: 48px;\n  }\n`;\n\nconst EmptyImage = styled(DesertColor)`\n  margin-bottom: 48px;\n`;\nfunction EmptyContentMessage({ children }) {\n  return (\n    <Message>\n      <EmptyImage aria-hidden width={274} height={118} />\n      {children}\n    </Message>\n  );\n}\n\nEmptyContentMessage.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default EmptyContentMessage;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\n\n// Foundational styled components that are\n// shared by grid instances to create\n// the final presentation of grid items\n\n// Gradient overlays the grid item poster\nexport const Gradient = styled.div`\n  position: absolute;\n  bottom: 0;\n  height: 67%;\n  width: 100%;\n  border-radius: ${({ theme }) => theme.borders.radius.medium};\n  background: ${({ theme }) => theme.colors.gradient.posterOverlay};\n`;\n\n// Holds grid item content\nexport const Scrim = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  border-radius: ${({ theme }) => theme.borders.radius.medium};\n  background: ${({ theme }) => theme.colors.opacity.black3};\n`;\n\n// Keeps grid item position contained\nexport const Container = styled.div`\n  position: relative;\n`;\n\n// Displays grid item image if available\n// as background of grid item area\nexport const Poster = styled.div`\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n  border-radius: ${({ theme }) => theme.borders.radius.medium};\n  background: ${({ theme }) => theme.colors.gradient.placeholder};\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as BodyViewOptions } from './bodyViewOptions';\nexport { default as EmptyContentMessage } from './emptyContentMessage';\nexport { default as PageHeading } from './pageHeading';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { useCallback } from '@web-stories-wp/react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { __ } from '@web-stories-wp/i18n';\nimport {\n  Display,\n  Search,\n  THEME_CONSTANTS,\n  noop,\n} from '@web-stories-wp/design-system';\n/**\n * Internal dependencies\n */\nimport { NavMenuButton, StandardViewContentGutter } from '../../../components';\n\nconst HeadingContainer = styled(StandardViewContentGutter)`\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  padding-top: 48px;\n  border-bottom: 1px solid ${({ theme }) => theme.colors.divider.secondary};\n`;\n\nconst StyledHeadline = styled(Display)`\n  display: flex;\n  align-items: center;\n  margin-right: 28px;\n  padding-bottom: 24px;\n  white-space: nowrap;\n`;\n\nconst HeadlineFilters = styled.div`\n  display: flex;\n  align-items: center;\n  margin: auto 0 auto 0;\n  padding-bottom: 24px;\n`;\n\nconst HeaderSearch = styled.div`\n  width: 208px;\n  max-width: 208px;\n  min-width: 208px;\n  margin: auto 0;\n  padding-bottom: 24px;\n`;\n\nconst PageHeading = ({\n  children,\n  heading,\n  searchPlaceholder,\n  searchOptions = [],\n  showSearch,\n  handleSearchChange,\n  searchValue = '',\n  clearSearch = noop,\n}) => {\n  const handleClearSearch = useCallback(\n    (evt) => {\n      // evt is null when user presses the clear button\n      if (evt === null) {\n        clearSearch();\n      }\n    },\n    [clearSearch]\n  );\n\n  return (\n    <HeadingContainer>\n      <StyledHeadline\n        as=\"h2\"\n        size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n      >\n        <NavMenuButton showOnlyOnSmallViewport />\n        {heading}\n      </StyledHeadline>\n      {children && <HeadlineFilters>{children}</HeadlineFilters>}\n      {showSearch && (\n        <HeaderSearch>\n          <Search\n            placeholder={searchPlaceholder}\n            selectedValue={{ label: searchValue, value: searchValue }}\n            options={searchOptions}\n            handleSearchValueChange={handleSearchChange}\n            onMenuItemClick={handleClearSearch}\n            emptyText={__('No options available', 'web-stories')}\n          />\n        </HeaderSearch>\n      )}\n    </HeadingContainer>\n  );\n};\n\nPageHeading.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]),\n  heading: PropTypes.string.isRequired,\n  searchPlaceholder: PropTypes.string,\n  searchOptions: PropTypes.arrayOf(PropTypes.object),\n  showSearch: PropTypes.bool,\n  handleSearchChange: PropTypes.func,\n  clearSearch: PropTypes.func,\n  searchValue: PropTypes.string,\n};\n\nexport default PageHeading;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { __ } from '@web-stories-wp/i18n';\n\nexport const Panel = styled.section`\n  padding: 16vh 0 14vh 0;\n`;\n\nexport const Container = styled.div`\n  position: relative;\n  width: 76%;\n  max-width: ${0.76 * 1920}px;\n  margin: 0 auto;\n`;\n\nexport const Inner = styled.div`\n  display: flex;\n  align-items: start;\n`;\n\nexport const DetailContainer = styled.section.attrs({\n  'aria-label': __('Template Details', 'web-stories'),\n})`\n  padding: 0 0 0 60px;\n  margin-right: auto;\n`;\n\nexport const TemplateDetails = styled.div`\n  position: relative;\n  display: flex;\n  width: 500px;\n`;\n\nexport const RowContainer = styled.section.attrs({\n  'aria-label': __('Related Templates', 'web-stories'),\n})`\n  display: flex;\n  flex-wrap: wrap;\n  padding-bottom: 40px;\n  margin: 0 80px 0;\n  & > h3 {\n    padding-bottom: 32px;\n  }\n  & > div {\n    width: 100%;\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useMemo } from '@web-stories-wp/react';\nimport { sprintf, __ } from '@web-stories-wp/i18n';\nimport styled, { css } from 'styled-components';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  BUTTON_VARIANTS,\n  Chip,\n  Display,\n  Icons,\n  Text,\n  THEME_CONSTANTS,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { CardGallery, ColorList } from '../../../../../components';\nimport { TemplatePropType } from '../../../../../types';\nimport {\n  Container,\n  Panel,\n  DetailContainer,\n  TemplateDetails,\n  Inner,\n} from '../../components';\n\nconst ByLineText = styled(Text)`\n  color: ${({ theme }) => theme.colors.fg.tertiary};\n  margin: 8px 0 24px;\n`;\nconst DescriptionText = styled(Text)`\n  margin-bottom: 24px;\n`;\n\nconst PaginationContainer = styled.div`\n  position: absolute;\n  top: ${470 / 2}px;\n  ${({ alignLeft }) =>\n    alignLeft\n      ? css`\n          left: 0;\n          transform: translate(-187.5%, -50%);\n        `\n      : css`\n          right: 0;\n          transform: translate(187.5%, -50%);\n        `}\n`;\n\nconst TemplateTag = styled(Chip)`\n  margin-right: 12px;\n  margin-bottom: 12px;\n  > span {\n    color: ${({ theme }) => theme.colors.fg.primary} !important;\n  }\n`;\n\nconst MetadataContainer = styled.div`\n  margin-bottom: 24px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n`;\n\nfunction DetailsGallery({\n  activeTemplateIndex,\n  isRTL,\n  orderedTemplatesLength,\n  switchToTemplateByOffset,\n  template,\n}) {\n  const galleryPosters = useMemo(\n    () =>\n      Object.values(template.postersByPage).map((poster, index) => ({\n        id: index,\n        ...poster,\n      })),\n    [template.postersByPage]\n  );\n\n  const { NextButton, PrevButton } = useMemo(() => {\n    const Previous = (\n      <Button\n        type={BUTTON_TYPES.TERTIARY}\n        size={BUTTON_SIZES.SMALL}\n        variant={BUTTON_VARIANTS.CIRCLE}\n        aria-label={__('View previous template', 'web-stories')}\n        onClick={() => {\n          switchToTemplateByOffset(-1);\n        }}\n        disabled={!orderedTemplatesLength || activeTemplateIndex === 0}\n      >\n        <Icons.ArrowLeftLarge height={32} width={32} />\n      </Button>\n    );\n\n    const Next = (\n      <Button\n        type={BUTTON_TYPES.TERTIARY}\n        size={BUTTON_SIZES.SMALL}\n        variant={BUTTON_VARIANTS.CIRCLE}\n        aria-label={__('View next template', 'web-stories')}\n        onClick={() => {\n          switchToTemplateByOffset(1);\n        }}\n        disabled={\n          !orderedTemplatesLength ||\n          activeTemplateIndex === orderedTemplatesLength - 1\n        }\n      >\n        <Icons.ArrowRightLarge height={32} width={32} />\n      </Button>\n    );\n\n    return isRTL\n      ? {\n          NextButton: Previous,\n          PrevButton: Next,\n        }\n      : {\n          NextButton: Next,\n          PrevButton: Previous,\n        };\n  }, [\n    orderedTemplatesLength,\n    activeTemplateIndex,\n    isRTL,\n    switchToTemplateByOffset,\n  ]);\n\n  const byLine = template\n    ? sprintf(\n        /* translators: byline. %s: author name. */\n        __('By %s', 'web-stories'),\n        template.createdBy\n      )\n    : null;\n\n  return (\n    <Panel>\n      <Container>\n        <PaginationContainer alignLeft>{PrevButton}</PaginationContainer>\n        <Inner>\n          <CardGallery\n            galleryPosters={galleryPosters}\n            isRTL={isRTL}\n            galleryLabel={__('Template details by page', 'web-stories')}\n          />\n          <TemplateDetails>\n            <DetailContainer>\n              <Display\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM}\n                as=\"h3\"\n                data-testid=\"template-details-title\"\n              >\n                {template.title}\n              </Display>\n              <ByLineText size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM}>\n                {byLine}\n              </ByLineText>\n              <DescriptionText\n                size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM}\n              >\n                {template.description}\n              </DescriptionText>\n\n              <MetadataContainer>\n                {template.tags.map((tag) => (\n                  <TemplateTag key={tag} disabled>\n                    {tag}\n                  </TemplateTag>\n                ))}\n              </MetadataContainer>\n              <MetadataContainer>\n                <ColorList colors={template.colors} size={32} />\n              </MetadataContainer>\n            </DetailContainer>\n          </TemplateDetails>\n        </Inner>\n        <PaginationContainer>{NextButton}</PaginationContainer>\n      </Container>\n    </Panel>\n  );\n}\n\nDetailsGallery.propTypes = {\n  activeTemplateIndex: PropTypes.number,\n  isRTL: PropTypes.bool,\n  orderedTemplatesLength: PropTypes.number,\n  switchToTemplateByOffset: PropTypes.func,\n  template: TemplatePropType,\n};\n\nexport default DetailsGallery;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport {\n  TemplateActionsPropType,\n  TemplatesPropType,\n  PageSizePropType,\n  TemplatePropType,\n} from '../../../../types';\nimport { Layout } from '../../../../components';\nimport DetailsGallery from './detailsGallery';\nimport RelatedGrid from './relatedGrid';\n\nfunction Content({\n  activeTemplateIndex,\n  isRTL,\n  orderedTemplatesLength,\n  pageSize,\n  relatedTemplates,\n  switchToTemplateByOffset,\n  template,\n  templateActions,\n}) {\n  if (!template) {\n    return null;\n  }\n\n  return (\n    <Layout.Scrollable>\n      <DetailsGallery\n        activeTemplateIndex={activeTemplateIndex}\n        isRTL={isRTL}\n        orderedTemplatesLength={orderedTemplatesLength}\n        switchToTemplateByOffset={switchToTemplateByOffset}\n        template={template}\n      />\n      <RelatedGrid\n        relatedTemplates={relatedTemplates}\n        pageSize={pageSize}\n        templateActions={templateActions}\n      />\n    </Layout.Scrollable>\n  );\n}\n\nContent.propTypes = {\n  activeTemplateIndex: PropTypes.number,\n  isRTL: PropTypes.bool,\n  orderedTemplatesLength: PropTypes.number,\n  pageSize: PageSizePropType,\n  relatedTemplates: TemplatesPropType,\n  switchToTemplateByOffset: PropTypes.func,\n  template: TemplatePropType,\n  templateActions: TemplateActionsPropType,\n};\n\nexport default Content;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\nimport { UnitsProvider } from '@web-stories-wp/units';\nimport { Headline, THEME_CONSTANTS } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  PageSizePropType,\n  TemplatesPropType,\n  TemplateActionsPropType,\n} from '../../../../../types';\nimport TemplateGridView from '../../../exploreTemplates/content/templateGridView';\nimport { RowContainer } from '../../components';\n\nfunction RelatedGrid({ pageSize, relatedTemplates, templateActions }) {\n  if (relatedTemplates.length === 0) {\n    return null;\n  }\n\n  return (\n    <RowContainer>\n      <Headline size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL} as=\"h3\">\n        {__('Related Templates', 'web-stories')}\n      </Headline>\n\n      <UnitsProvider\n        pageSize={{\n          width: pageSize.width,\n          height: pageSize.height,\n        }}\n      >\n        <TemplateGridView\n          templates={relatedTemplates}\n          pageSize={pageSize}\n          templateActions={templateActions}\n        />\n      </UnitsProvider>\n    </RowContainer>\n  );\n}\n\nRelatedGrid.propTypes = {\n  pageSize: PageSizePropType,\n  relatedTemplates: TemplatesPropType,\n  templateActions: TemplateActionsPropType,\n};\n\nexport default RelatedGrid;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport styled from 'styled-components';\nimport {\n  Button,\n  BUTTON_TYPES,\n  BUTTON_SIZES,\n  BUTTON_VARIANTS,\n  Icons,\n  themeHelpers,\n} from '@web-stories-wp/design-system';\n/**\n * Internal dependencies\n */\nimport { Layout } from '../../../../components';\nimport { APP_ROUTES, ROUTE_TITLES } from '../../../../constants';\nimport { parentRoute } from '../../../router/route';\n\nconst Nav = styled.nav`\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n  margin: 48px 0 84px;\n  padding: 0 88px;\n`;\n\nconst HiddenHeading = styled.h2`\n  ${themeHelpers.visuallyHidden};\n`;\nfunction Header({ onHandleCtaClick, templateTitle }) {\n  return (\n    <Layout.Fixed>\n      <Nav>\n        <HiddenHeading>\n          {sprintf(\n            /* translators: %s: template title */\n            __('Template Details for %s', 'web-stories'),\n            templateTitle\n          )}\n        </HiddenHeading>\n        <Button\n          type={BUTTON_TYPES.TERTIARY}\n          variant={BUTTON_VARIANTS.CIRCLE}\n          size={BUTTON_SIZES.SMALL}\n          as=\"a\"\n          aria-label={sprintf(\n            /* translators: %s: page title of link */\n            __('Go to %s', 'web-stories'),\n            ROUTE_TITLES[APP_ROUTES.TEMPLATES_GALLERY]\n          )}\n          href={parentRoute()}\n        >\n          <Icons.CrossLarge />\n        </Button>\n        {onHandleCtaClick && (\n          <Button\n            onClick={onHandleCtaClick}\n            type={BUTTON_TYPES.PRIMARY}\n            size={BUTTON_SIZES.SMALL}\n            aria-label={sprintf(\n              /* translators: %s: template title */\n              __('Use %s template to create new story', 'web-stories'),\n              templateTitle\n            )}\n          >\n            {__('Use template', 'web-stories')}\n          </Button>\n        )}\n      </Nav>\n    </Layout.Fixed>\n  );\n}\n\nHeader.propTypes = {\n  onHandleCtaClick: PropTypes.func,\n  templateTitle: PropTypes.string,\n};\n\nexport default Header;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from '@web-stories-wp/react';\nimport { trackEvent } from '@web-stories-wp/tracking';\nimport { useSnackbar } from '@web-stories-wp/design-system';\n/**\n * Internal dependencies\n */\nimport { Layout } from '../../../components';\nimport { usePagePreviewSize, clamp } from '../../../utils';\nimport useApi from '../../api/useApi';\nimport { useConfig } from '../../config';\nimport { resolveRelatedTemplateRoute } from '../../router';\nimport useRouteHistory from '../../router/useRouteHistory';\nimport { ERRORS } from '../../textContent';\nimport Header from './header';\nimport Content from './content';\nimport { getRelatedTemplatesIds } from './utils';\n\nfunction TemplateDetails() {\n  const [template, setTemplate] = useState(null);\n  const [relatedTemplates, setRelatedTemplates] = useState([]);\n  const { apiCallbacks } = useConfig();\n\n  const {\n    state: {\n      queryParams: { id: templateId, isLocal },\n    },\n    actions,\n  } = useRouteHistory();\n\n  const { showSnackbar } = useSnackbar();\n\n  const {\n    isLoading,\n    templates,\n    templatesByTag,\n    templatesOrderById,\n    createStoryFromTemplate,\n    fetchExternalTemplates,\n    fetchExternalTemplateById,\n  } = useApi(\n    ({\n      state: {\n        templates: {\n          templates,\n          templatesByTag,\n          templatesOrderById,\n          totalPages,\n          isLoading,\n        },\n      },\n      actions: {\n        storyApi: { createStoryFromTemplate },\n        templateApi: { fetchExternalTemplates, fetchExternalTemplateById },\n      },\n    }) => ({\n      isLoading,\n      templates,\n      templatesByTag,\n      templatesOrderById,\n      totalPages,\n      createStoryFromTemplate,\n      fetchExternalTemplates,\n      fetchExternalTemplateById,\n    })\n  );\n  const { isRTL } = useConfig();\n  const { pageSize } = usePagePreviewSize({ isGrid: true });\n\n  useEffect(() => {\n    if (!templateId) {\n      return;\n    }\n\n    if ((!templates || Object.values(templates).length === 0) && !isLoading) {\n      fetchExternalTemplates();\n      return;\n    }\n\n    if (isLoading) {\n      return;\n    }\n\n    const id = parseInt(templateId);\n\n    fetchExternalTemplateById(id)\n      .then(setTemplate)\n      .catch(() => {\n        showSnackbar({\n          message: ERRORS.LOAD_TEMPLATES.DEFAULT_MESSAGE,\n          dismissible: true,\n        });\n      });\n  }, [\n    isLoading,\n    fetchExternalTemplates,\n    fetchExternalTemplateById,\n    isLocal,\n    templateId,\n    templates,\n    showSnackbar,\n  ]);\n\n  const templatedId = template?.id;\n\n  useEffect(() => {\n    if (!template || !templateId) {\n      return;\n    }\n\n    const allRelatedTemplates = getRelatedTemplatesIds(\n      template,\n      templatesByTag\n    );\n\n    const randomRelatedTemplates = allRelatedTemplates\n      .sort(() => 0.5 - Math.random()) // Randomly sort the array of ids;\n      .slice(0, 6); // Get first 6 templates\n\n    setRelatedTemplates(\n      randomRelatedTemplates.map((id) => ({\n        ...templates[id],\n        centerTargetAction: resolveRelatedTemplateRoute(templates[id]),\n      }))\n    );\n  }, [template, templates, templatesByTag, templatesOrderById, templateId]);\n\n  const activeTemplateIndex = useMemo(() => {\n    if (templatesOrderById.length <= 0) {\n      return 0;\n    }\n\n    return templatesOrderById.findIndex((id) => id === templatedId);\n  }, [templatesOrderById, templatedId]);\n\n  const switchToTemplateByOffset = useCallback(\n    (offset) => {\n      const index = clamp(activeTemplateIndex + offset, [\n        0,\n        templatesOrderById.length - 1,\n      ]);\n      const selectedTemplateId = templatesOrderById[index];\n      const selectedTemplate = templates[selectedTemplateId];\n\n      actions.push(\n        `?id=${selectedTemplate.id}&isLocal=${selectedTemplate.isLocal}`\n      );\n    },\n    [activeTemplateIndex, templatesOrderById, actions, templates]\n  );\n\n  const handleCreateStoryFromTemplate = useCallback(() => {\n    trackEvent('use_template', {\n      name: template.title,\n      template_id: template.id,\n    });\n    createStoryFromTemplate(template);\n  }, [createStoryFromTemplate, template]);\n\n  const canCreateStory = Boolean(apiCallbacks?.createStoryFromTemplate);\n\n  return (\n    <Layout.Provider>\n      <Header\n        templateTitle={template?.title}\n        onHandleCtaClick={canCreateStory ? handleCreateStoryFromTemplate : null}\n      />\n      <Content\n        activeTemplateIndex={activeTemplateIndex}\n        isRTL={isRTL}\n        orderedTemplatesLength={templatesOrderById.length}\n        pageSize={pageSize}\n        switchToTemplateByOffset={switchToTemplateByOffset}\n        template={template}\n        relatedTemplates={relatedTemplates}\n        templateActions={{\n          createStoryFromTemplate,\n        }}\n      />\n    </Layout.Provider>\n  );\n}\n\nexport default TemplateDetails;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Get templates related to the currently selected template.\n *\n * @param {Object} template The selected template.\n * @param {Object} taggedTemplatesDictionary Object of template ids keyed by tag type.\n * @return {Array} Array of template ids related to the selected template.\n */\nexport const getRelatedTemplatesIds = (template, taggedTemplatesDictionary) => {\n  if (!taggedTemplatesDictionary || !template.tags) {\n    return [];\n  }\n\n  const allRelatedTemplates = template.tags.flatMap(\n    (tag) => taggedTemplatesDictionary[tag]\n  );\n\n  // Remove duplicates\n  const uniqueRelatedTemplates = [...new Set(allRelatedTemplates)];\n\n  return uniqueRelatedTemplates.filter((id) => id !== template.id);\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport { TEMPLATE_META_DATA_TYPES } from '../constants';\n\n/**\n * Takes an array of template meta data filter entries\n * and composes them into a function that takes a template\n * and returns true if the template satisfies any of the\n * meta data filters.\n *\n * @param {Array} filters filter entries to compose\n * @return {Function} function that takes a template and returns true or false\n */\nfunction composeTemplateFilter(filters) {\n  return (template) => {\n    return (\n      !filters ||\n      filters.some((filter) => {\n        switch (filter?.type) {\n          case TEMPLATE_META_DATA_TYPES.TAG:\n            return template.tags\n              .map((tag) => tag.toLowerCase())\n              .includes(filter.value.toLowerCase());\n\n          case TEMPLATE_META_DATA_TYPES.COLOR:\n            return template.colors\n              .map((color) => color.label.toLowerCase())\n              .includes(filter.value.toLowerCase());\n\n          case TEMPLATE_META_DATA_TYPES.VERTICAL:\n            return template.vertical\n              .toLowerCase()\n              .includes(filter.value.toLowerCase());\n\n          default:\n            return true;\n        }\n      })\n    );\n  };\n}\n\nexport default composeTemplateFilter;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nfunction getSearchOptions(options) {\n  return options.reduce((acc, option) => {\n    if (!option.title || option?.title.trim().length <= 0) {\n      return acc;\n    }\n    return [\n      ...acc,\n      {\n        label: option.title,\n        value: option.title,\n      },\n    ];\n  }, []);\n}\n\nexport default getSearchOptions;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport { uniqueEntriesByKey } from '../../../utils';\nimport { TEMPLATE_META_DATA_TYPES } from '../constants';\n\n/**\n * Takes an dictionary of templates and extracts their metadata\n * to return an array of meta data entries compatible with the\n * dashboard header search options\n *\n * @param {Object} templates templates dictionary keyed by id\n * @return {Array<Object>} array of entries\n */\nfunction getTemplateFilters(templates) {\n  const templatesArr = Object.values(templates);\n\n  const colors = templatesArr\n    .flatMap((t) => t.colors)\n    .map((c) => ({\n      label: c.family,\n      value: c.family,\n      type: TEMPLATE_META_DATA_TYPES.COLOR,\n    }));\n\n  const tags = templatesArr\n    .flatMap((t) => t.tags)\n    .map((tag) => ({\n      label: tag,\n      value: tag,\n      type: TEMPLATE_META_DATA_TYPES.TAG,\n    }));\n\n  const verticals = templatesArr\n    .map((t) => t.vertical)\n    .map((vertical) => ({\n      label: vertical,\n      value: vertical,\n      type: TEMPLATE_META_DATA_TYPES.VERTICAL,\n    }));\n\n  return [\n    ...uniqueEntriesByKey(tags, 'label'),\n    ...uniqueEntriesByKey(colors, 'label'),\n    ...uniqueEntriesByKey(verticals, 'label'),\n  ];\n}\n\nexport default getTemplateFilters;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as getSearchOptions } from './getSearchOptions';\nexport { default as getTemplateFilters } from './getTemplateFilters';\nexport { default as composeTemplateFilter } from './composeTemplateFilter';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Button, BUTTON_TYPES } from '@web-stories-wp/design-system';\n\nconst pictureCss = css`\n  picture {\n    display: block;\n    & > img {\n      display: block;\n      height: 100%;\n      width: 100%;\n      object-fit: fill;\n      border-radius: ${({ theme }) => theme.borders.radius.medium};\n      border: ${({ theme }) =>\n        `1px solid ${theme.colors.border.defaultNormal}`};\n    }\n  }\n`;\nexport const GalleryContainer = styled.div`\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: start;\n`;\n\nexport const DisplayPage = styled.div`\n  overflow: hidden;\n  width: 38.6%;\n  margin-left: 2.1%;\n\n  ${pictureCss}\n\n  @media screen and (min-width: 1600px) {\n    width: 45.2%;\n    margin-left: 2.4%;\n  }\n`;\n\nDisplayPage.propTypes = {\n  $isThreeRows: PropTypes.bool,\n};\n\nexport const Thumbnails = styled.div`\n  position: relative;\n  display: grid;\n  width: 52.3%;\n  grid-template-columns: repeat(3, 1fr);\n  column-gap: 8px;\n  row-gap: 16px;\n  margin-right: 16px;\n\n  @media screen and (min-width: 1600px) {\n    width: 59.3%;\n    grid-template-columns: repeat(4, 1fr);\n  }\n`;\n\nexport const ThumbnailButton = styled(Button).attrs({\n  type: BUTTON_TYPES.PLAIN,\n})`\n  display: block;\n  height: 100%;\n  padding: 0;\n  border: none;\n  background-color: transparent;\n  position: relative;\n  &:active {\n    background-color: transparent;\n  }\n  ${({ $isSelected, theme }) =>\n    $isSelected &&\n    css`\n      &:after {\n        content: '';\n        position: absolute;\n        box-sizing: border-box;\n        width: 100%;\n        height: 100%;\n        display: block;\n        top: 0;\n        right: 0;\n        border-radius: ${theme.borders.radius.medium};\n        border: 4px solid ${theme.colors.interactiveBg.active};\n      }\n    `}\n  ${pictureCss};\n`;\nThumbnailButton.propTypes = {\n  $isSelected: PropTypes.bool,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from '@web-stories-wp/react';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport { useGridViewKeys } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  DEFAULT_GRID_IMG_HEIGHT,\n  DEFAULT_GRID_IMG_WIDTH,\n} from '../../constants';\nimport {\n  GalleryContainer,\n  ThumbnailButton,\n  Thumbnails,\n  DisplayPage,\n} from './components';\n\nfunction getPosterAltCopy(pageNumber) {\n  return sprintf(\n    /* translators: %s: page number. */\n    __('Poster of template page %s', 'web-stories'),\n    pageNumber\n  );\n}\n\nfunction CardGallery({ galleryPosters, isRTL, galleryLabel }) {\n  const [selectedGridItemIndex, setSelectedGridItemIndex] = useState(0);\n  const [focusedGridItemIndex, setFocusedGridItemIndex] = useState();\n  const containerRef = useRef();\n  const gridRef = useRef();\n  const posterRefs = useRef({});\n\n  const handleMiniCardClick = useCallback((index) => {\n    setSelectedGridItemIndex(index);\n    setFocusedGridItemIndex(index);\n  }, []);\n\n  const handleGalleryItemFocus = useCallback((index) => {\n    setFocusedGridItemIndex(index);\n  }, []);\n\n  useEffect(() => {\n    // Reset state when posters update\n    if (galleryPosters) {\n      setSelectedGridItemIndex(0);\n      setFocusedGridItemIndex();\n    }\n  }, [galleryPosters]);\n\n  useGridViewKeys({\n    containerRef,\n    gridRef,\n    itemRefs: posterRefs,\n    isRTL,\n    currentItemId: focusedGridItemIndex,\n    items: galleryPosters,\n  });\n\n  const GalleryItems = useMemo(() => {\n    return galleryPosters.map((poster, index) => {\n      const key = `gallery_item_${index}`;\n      const pageNumber = index + 1;\n      // If there's not a focused index we want to fall back to the selected grid item\n      const isFocusIndex = focusedGridItemIndex\n        ? focusedGridItemIndex === index\n        : selectedGridItemIndex === index;\n\n      return (\n        <div\n          key={key}\n          ref={(el) => {\n            posterRefs.current[index] = el;\n          }}\n          onFocus={() => handleGalleryItemFocus(index)}\n        >\n          <ThumbnailButton\n            $isSelected={selectedGridItemIndex === index}\n            tabIndex={isFocusIndex ? 0 : -1}\n            onClick={() => handleMiniCardClick(index)}\n            aria-label={\n              selectedGridItemIndex === index\n                ? sprintf(\n                    /* translators: %s: page number. */\n                    __('Page %s (current page)', 'web-stories'),\n                    pageNumber\n                  )\n                : sprintf(\n                    /* translators: %s: page number. */\n                    __('Page %s', 'web-stories'),\n                    pageNumber\n                  )\n            }\n          >\n            <picture>\n              <source srcSet={poster.webp} type=\"image/webp\" />\n              <source srcSet={poster.png} type=\"image/png\" />\n              <img\n                src={poster.png}\n                alt={getPosterAltCopy(pageNumber)}\n                width={DEFAULT_GRID_IMG_WIDTH}\n                height={DEFAULT_GRID_IMG_HEIGHT}\n              />\n            </picture>\n          </ThumbnailButton>\n        </div>\n      );\n    });\n  }, [\n    galleryPosters,\n    selectedGridItemIndex,\n    focusedGridItemIndex,\n    handleGalleryItemFocus,\n    handleMiniCardClick,\n  ]);\n\n  return (\n    <GalleryContainer ref={containerRef}>\n      <Thumbnails\n        ref={gridRef}\n        aria-label={galleryLabel}\n        data-testid=\"mini-cards-container\"\n      >\n        {GalleryItems}\n      </Thumbnails>\n      <DisplayPage\n        aria-label={sprintf(\n          /* translators: %s: active preview page number */\n          __('Active Page Preview - Page %s', 'web-stories'),\n          selectedGridItemIndex + 1\n        )}\n      >\n        {galleryPosters[selectedGridItemIndex] && (\n          <picture>\n            <source\n              srcSet={galleryPosters[selectedGridItemIndex].webp}\n              type=\"image/webp\"\n            />\n            <source\n              srcSet={galleryPosters[selectedGridItemIndex].png}\n              type=\"image/png\"\n            />\n            <img\n              src={galleryPosters[selectedGridItemIndex].png}\n              alt={getPosterAltCopy(selectedGridItemIndex + 1)}\n              width={DEFAULT_GRID_IMG_WIDTH}\n              height={DEFAULT_GRID_IMG_HEIGHT}\n            />\n          </picture>\n        )}\n      </DisplayPage>\n    </GalleryContainer>\n  );\n}\n\nCardGallery.propTypes = {\n  galleryPosters: PropTypes.arrayOf(\n    PropTypes.shape({\n      png: PropTypes.string,\n      webp: PropTypes.string,\n      id: PropTypes.number,\n    })\n  ).isRequired,\n  isRTL: PropTypes.bool,\n  galleryLabel: PropTypes.string.isRequired,\n};\n\nexport default CardGallery;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\nimport { forwardRef } from '@web-stories-wp/react';\nimport { ThemeGlobals, themeHelpers } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { PageSizePropType } from '../../types';\nimport { GRID_SPACING } from '../../constants';\n\nconst DashboardGrid = styled.div`\n  display: grid;\n  width: 100%;\n  grid-column-gap: ${GRID_SPACING.COLUMN_GAP}px;\n  grid-row-gap: ${GRID_SPACING.ROW_GAP}px;\n  grid-template-columns: ${({ columnWidth }) => `\n    repeat(auto-fill, ${columnWidth}px)`};\n  grid-template-rows: ${({ columnHeight }) =>\n    `minmax(${columnHeight}px, auto)`};\n  scroll-margin-top: 30vh;\n\n  ${({ theme }) => css`\n    &.${ThemeGlobals.FOCUS_VISIBLE_SELECTOR} {\n      ${themeHelpers.focusCSS(theme.colors.border.focus)};\n    }\n  `};\n`;\nDashboardGrid.propTypes = {\n  columnHeight: PropTypes.number,\n  columnWidth: PropTypes.number,\n};\n\nconst CardGrid = forwardRef(function CardGrid(\n  { ariaLabel, children, pageSize },\n  ref\n) {\n  return (\n    <DashboardGrid\n      ref={ref}\n      role=\"list\"\n      data-testid={'dashboard-grid-list'}\n      // Disable Reason: We need to focus this div to engage with `useGridViewKeys`\n      // which is critical to avoiding focus traps for keyboard users.\n      // eslint-disable-next-line styled-components-a11y/no-noninteractive-tabindex\n      tabIndex={0}\n      aria-label={ariaLabel}\n      columnWidth={pageSize.width}\n      columnHeight={pageSize.height}\n    >\n      {children}\n    </DashboardGrid>\n  );\n});\n\nCardGrid.propTypes = {\n  ariaLabel: PropTypes.string,\n  children: PropTypes.node.isRequired,\n  pageSize: PageSizePropType.isRequired,\n};\n\nexport default CardGrid;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { MoreVerticalButton } from '../storyMenu';\n\nconst CardGridItem = styled.div.attrs({ role: 'listitem' })`\n  margin: 0;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 100%;\n  grid-template-rows: ${({ $posterHeight }) => `${$posterHeight}px auto`};\n\n  ${MoreVerticalButton} {\n    margin: 12px 0;\n  }\n  &:hover\n    ${MoreVerticalButton},\n    &:active\n    ${MoreVerticalButton},\n    &:focus-within\n    ${MoreVerticalButton} {\n    opacity: 1;\n  }\n  &:hover .card_buttons,\n  &:active .card_buttons,\n  &:focus-within .card_buttons {\n    opacity: 1;\n  }\n`;\nCardGridItem.propTypes = {\n  $posterHeight: PropTypes.number,\n};\n\nexport default CardGridItem;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createSolidFromString } from '@web-stories-wp/patterns';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport { ColorType } from '../types';\n\nconst borderLookup = (color) => ({\n  '#fff': `border: solid 1px ${color}`,\n  '#ffffff': `border: solid 1px ${color}`,\n  white: `border: solid 1px ${color}`,\n  '#fef9f1': `border: solid 1px ${color}`,\n  '#fff8f2': `border: solid 1px ${color}`,\n  '#f9f9f9': `border: solid 1px ${color}`,\n  '#fcfcfc': `border: solid 1px ${color}`,\n});\n\nconst ColorContainer = styled.div`\n  display: flex;\n`;\n\nconst Color = styled.div`\n  ${({ theme, $backgroundColor, color, size, spacing }) => `\n    width: ${size}px;\n    height: ${size}px;\n    border-radius: 50%;\n    background-color: rgb(${$backgroundColor});\n    ${borderLookup(theme.colors.border.defaultNormal)[color] || ''};\n\n    & + & {\n      margin-left: ${spacing || 10}px;\n    }\n  `}\n`;\n\nfunction ColorList({ colors, size, spacing }) {\n  return (\n    <ColorContainer>\n      {colors.map(({ label, color }) => {\n        const { r, g, b } = createSolidFromString(color).color;\n        const backgroundColor = `${r}, ${g}, ${b}`;\n        return (\n          <Color\n            key={color}\n            size={size}\n            spacing={spacing}\n            color={color}\n            $backgroundColor={backgroundColor}\n            title={label}\n            ariaLabel={label}\n            data-testid=\"detail-template-color\"\n          />\n        );\n      })}\n    </ColorContainer>\n  );\n}\n\nColorList.propTypes = {\n  colors: PropTypes.arrayOf(ColorType).isRequired,\n  size: PropTypes.number.isRequired,\n  spacing: PropTypes.number,\n};\n\nexport default ColorList;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport { PAGE_WRAPPER } from '../../constants';\n\nexport const StandardViewContentGutter = styled.div`\n  margin: 0 ${PAGE_WRAPPER.GUTTER}px;\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { useMemo } from '@web-stories-wp/react';\nimport { ThemeProvider } from 'styled-components';\nimport {\n  Dialog as StyledDialog,\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  theme,\n} from '@web-stories-wp/design-system';\n\n/**\n * Dialog is wrapped in a ThemeProvider so that colors can be inverted.\n *\n * @param {boolean} isOpen When true, dialog will be visible - passed to dialog directly\n * @param {Function} onClose Action taken on 'x'/clicking outside of dialog. Default secondary action.\n * @param {Function} onSecondary Action taken on secondary button click when specified.\n * @param {Function} onPrimary Action taken on primary button click.\n * @param {string} primaryText When present, primary button will render.\n * @param {string} secondaryText When present, secondary button will render.\n * @param {Object} primaryRest Unique props needed on primary button, spread on button.\n * @param {Object} secondaryRest Unique props needed on secondary button, spread on button.\n * @param {Object} actions Custom actions object for when the API restrictions of primary and secondary structure are too much.\n * @param {Node} children Contents of dialog\n */\n\nconst Dialog = ({\n  onClose,\n  onSecondary,\n  onPrimary,\n  primaryText,\n  secondaryText,\n  primaryRest,\n  secondaryRest,\n  actions,\n  children,\n  ...rest\n}) => {\n  const _PrimaryButton = useMemo(\n    () =>\n      primaryText && (\n        <Button\n          type={BUTTON_TYPES.PRIMARY}\n          size={BUTTON_SIZES.SMALL}\n          onClick={() => onPrimary?.()}\n          {...primaryRest}\n        >\n          {primaryText}\n        </Button>\n      ),\n    [primaryText, primaryRest, onPrimary]\n  );\n\n  const _SecondaryButton = useMemo(\n    () =>\n      secondaryText && (\n        <Button\n          type={BUTTON_TYPES.TERTIARY}\n          size={BUTTON_SIZES.SMALL}\n          onClick={() => onSecondary?.() || onClose()}\n          {...secondaryRest}\n        >\n          {secondaryText}\n        </Button>\n      ),\n    [secondaryText, secondaryRest, onSecondary, onClose]\n  );\n\n  return (\n    <ThemeProvider theme={theme}>\n      <StyledDialog\n        onClose={onClose}\n        {...rest}\n        actions={\n          actions || (\n            <>\n              {_SecondaryButton}\n              {_PrimaryButton}\n            </>\n          )\n        }\n      >\n        {children}\n      </StyledDialog>\n    </ThemeProvider>\n  );\n};\n\nDialog.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  onPrimary: PropTypes.func,\n  onSecondary: PropTypes.func,\n  primaryText: PropTypes.string,\n  primaryRest: PropTypes.object,\n  secondaryText: PropTypes.string,\n  secondaryRest: PropTypes.object,\n  actions: PropTypes.object,\n  children: PropTypes.node,\n};\n\nexport default Dialog;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default } from './dialog';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useState,\n  useRef,\n} from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { __ } from '@web-stories-wp/i18n';\nimport {\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  Button,\n  Text,\n  themeHelpers,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { DEFAULT_FILE_UPLOAD_TYPES } from '../../constants';\n\nconst StyledButton = styled(Button)`\n  :focus-within {\n    ${({ theme }) => themeHelpers.focusCSS(theme.colors.border.focus)}\n  }\n`;\n\nconst Input = styled.input(themeHelpers.visuallyHidden);\n\nconst UploadFormArea = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n  justify-content: flex-end;\n  width: 100%;\n  min-height: 153px;\n  padding: 40px 0;\n  border-radius: 4px;\n  border: 1px dashed\n    ${({ isDragging, theme }) =>\n      isDragging\n        ? theme.colors.border.focus\n        : theme.colors.border.defaultNormal};\n\n  transition: border-color 300ms ease-in;\n`;\n\nconst UploadHelperText = styled(Text)`\n  margin: 0 auto 16px;\n  padding: 0 20%;\n  text-align: center;\n  color: ${({ theme }) => theme.colors.fg.tertiary};\n`;\n\nconst LoadingIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ${({ theme }) => theme.colors.standard.white};\n  opacity: ${({ isLoading }) => (isLoading ? 0.6 : 0)};\n  z-index: ${({ isLoading }) => (isLoading ? '100' : '0')};\n  pointer-events: none;\n\n  transition: opacity ease-in-out 300ms;\n\n  p {\n    font-style: italic;\n  }\n`;\n\nfunction disableDefaults(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nconst FileUpload = ({\n  id,\n  label,\n  onSubmit,\n  isLoading,\n  isMultiple,\n  ariaLabel,\n  instructionalText = __('You can also drag your file here', 'web-stories'),\n  acceptableFormats = DEFAULT_FILE_UPLOAD_TYPES,\n}) => {\n  const uploadFileContainer = useRef(null);\n  const fileInputRef = useRef(null);\n  const [isDragging, setDragging] = useState(false);\n\n  const handleUploadFile = useCallback(\n    (files) => {\n      onSubmit(Object.values(files));\n    },\n    [onSubmit]\n  );\n\n  const handleChange = useCallback(\n    (e) => {\n      disableDefaults(e);\n      handleUploadFile(e.target.files);\n      fileInputRef.current.value = null;\n    },\n    [handleUploadFile]\n  );\n\n  const handleDragDrop = useCallback(\n    (e) => {\n      disableDefaults(e);\n      const files = e.dataTransfer.files;\n      if (files) {\n        handleUploadFile(files);\n      }\n      setDragging(false);\n    },\n    [handleUploadFile]\n  );\n\n  const handleDrag = useCallback(\n    (e) => {\n      disableDefaults(e);\n      setDragging((prevIsDragging) => !prevIsDragging);\n\n      if (isDragging) {\n        e.dataTransfer.clearData();\n      }\n    },\n    [isDragging]\n  );\n\n  useEffect(() => {\n    if (!fileInputRef?.current) {\n      return () => {};\n    }\n\n    const input = fileInputRef.current;\n\n    input.addEventListener('change', handleChange);\n    return () => {\n      input.removeEventListener('change', handleChange);\n    };\n  }, [handleChange]);\n\n  return (\n    <UploadFormArea\n      ref={uploadFileContainer}\n      isDragging={isDragging}\n      onDrop={handleDragDrop}\n      onDragEnter={handleDrag}\n      onDragLeave={handleDrag}\n      onDragOver={disableDefaults}\n      data-testid=\"file-upload-drop-area\"\n    >\n      <LoadingIndicator isLoading={isLoading}>\n        <p>{__('Loading…', 'web-stories')}</p>\n      </LoadingIndicator>\n      <UploadHelperText>{instructionalText}</UploadHelperText>\n\n      <StyledButton\n        forwardedAs=\"label\"\n        htmlFor={id}\n        aria-label={ariaLabel}\n        type={BUTTON_TYPES.PRIMARY}\n        size={BUTTON_SIZES.SMALL}\n      >\n        {label}\n        <Input\n          ref={fileInputRef}\n          type=\"file\"\n          id={id}\n          data-testid=\"upload-file-input\"\n          accept={acceptableFormats.join(',')}\n          multiple={isMultiple}\n          disabled={isLoading}\n          aria-live=\"polite\"\n          aria-busy={isLoading}\n        />\n      </StyledButton>\n    </UploadFormArea>\n  );\n};\n\nFileUpload.propTypes = {\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  label: PropTypes.string.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool,\n  isMultiple: PropTypes.bool,\n  ariaLabel: PropTypes.string,\n  acceptableFormats: PropTypes.arrayOf(PropTypes.string),\n  instructionalText: PropTypes.string,\n};\n\nexport default FileUpload;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as CardGallery } from './cardGallery';\nexport { default as CardGrid } from './cardGrid';\nexport { default as CardGridItem } from './cardGridItem';\nexport { default as ColorList } from './colorList';\nexport { StandardViewContentGutter } from './contentGutter';\nexport { default as Dialog } from './dialog';\nexport { default as FileUpload } from './fileUpload';\nexport { default as InfiniteScroller } from './infiniteScroller';\nexport { default as InlineInputForm } from './inlineInputForm';\nexport { default as Layout, useLayoutContext } from './layout';\nexport {\n  AppFrame,\n  LeftRail,\n  LoadingContainer,\n  PageContent,\n  NavMenuButton,\n} from './pageStructure';\nexport { default as NavProvider, useNavContext } from './navProvider';\nexport { default as ScrollToTop } from './scrollToTop';\nexport {\n  default as StoryMenu,\n  MoreVerticalButton,\n  CONTEXT_MENU_BUTTON_CLASS,\n} from './storyMenu';\nexport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHeader,\n  StickyTableHeader,\n  TableHeaderCell,\n  TablePreviewCell,\n  TablePreviewHeaderCell,\n  TableTitleCell,\n  TableContentCell,\n  TableContentHeaderCell,\n  TableRow,\n  TableTitleHeaderCell,\n  TableAuthorHeaderCell,\n  TableDateHeaderCell,\n  TableStatusHeaderCell,\n  TableStatusCell,\n} from './table';\nexport { Tooltip } from './tooltip';\nexport { default as ViewStyleBar } from './viewStyleBar';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\nimport { useEffect, useRef, useReducer, useMemo } from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  LoadingSpinner,\n  Text,\n  THEME_CONSTANTS,\n  themeHelpers,\n} from '@web-stories-wp/design-system';\n\nconst ScrollMessage = styled.div`\n  width: 100%;\n  padding: 140px 0 40px;\n  margin: -100px auto 0;\n  text-align: center;\n\n  p {\n    color: ${({ theme }) => theme.colors.fg.tertiary};\n  }\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nconst AriaOnlyAlert = styled.span(themeHelpers.visuallyHidden);\n\nconst STATE = {\n  loadable: 'loadable',\n  loading_internal: 'loading_internal',\n  loading_external: 'loading_external',\n  complete: 'complete',\n};\n\nconst ACTION = {\n  ON_INTERNAL_LOAD: 'internal on load',\n  ON_EXTERNAL_LOAD: 'external on load',\n  ON_ALL_LOADED: 'all loaded',\n  ON_LOAD_SUCCESS: 'load success',\n  ON_CAN_LOAD_MORE: 'can load more',\n};\n\nconst machine = {\n  [STATE.loadable]: {\n    [ACTION.ON_INTERNAL_LOAD]: STATE.loading_internal,\n    [ACTION.ON_EXTERNAL_LOAD]: STATE.loading_external,\n  },\n  [STATE.loading_internal]: {\n    [ACTION.ON_ALL_LOADED]: STATE.complete,\n    [ACTION.ON_LOAD_SUCCESS]: STATE.loadable,\n  },\n  [STATE.loading_external]: {\n    [ACTION.ON_ALL_LOADED]: STATE.complete,\n    [ACTION.ON_LOAD_SUCCESS]: STATE.loadable,\n  },\n  [STATE.complete]: {\n    [ACTION.ON_CAN_LOAD_MORE]: STATE.loadable,\n  },\n};\n\nconst loadReducer = (state, action) => {\n  return machine[state][action] || state;\n};\n\nconst InfiniteScroller = ({\n  allDataLoadedMessage = __('No more stories', 'web-stories'),\n  allDataLoadedAriaMessage = __('All stories are loaded', 'web-stories'),\n  onLoadMore,\n  canLoadMore,\n  isLoading,\n  loadingAriaMessage = __('Loading more stories', 'web-stories'),\n}) => {\n  const loadingRef = useRef(null);\n  const onLoadMoreRef = useRef(onLoadMore);\n  onLoadMoreRef.current = onLoadMore;\n\n  const [loadState, dispatch] = useReducer(loadReducer, STATE.loadable);\n\n  const loadingAlert = useMemo(() => {\n    if (loadState === STATE.loading_internal) {\n      return loadingAriaMessage;\n    } else if (loadState !== STATE.loading_external && !canLoadMore) {\n      return allDataLoadedAriaMessage;\n    }\n    return null;\n  }, [allDataLoadedAriaMessage, loadingAriaMessage, loadState, canLoadMore]);\n\n  useEffect(() => {\n    if (loadState === STATE.loading_internal) {\n      onLoadMoreRef.current();\n    }\n  }, [loadState]);\n\n  useEffect(() => {\n    if (isLoading) {\n      dispatch(ACTION.ON_EXTERNAL_LOAD);\n    }\n  }, [isLoading]);\n\n  useEffect(() => {\n    if (!isLoading) {\n      dispatch(canLoadMore ? ACTION.ON_LOAD_SUCCESS : ACTION.ON_ALL_LOADED);\n    }\n  }, [isLoading, canLoadMore]);\n\n  useEffect(() => {\n    if (canLoadMore) {\n      dispatch(ACTION.ON_CAN_LOAD_MORE);\n    }\n  }, [canLoadMore]);\n\n  useEffect(() => {\n    if (!loadingRef.current) {\n      return () => {};\n    }\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            dispatch(ACTION.ON_INTERNAL_LOAD);\n          }\n        });\n      },\n      {\n        rootMargin: '0px',\n        threshold: 0,\n      }\n    );\n\n    const triggerEl = loadingRef.current;\n    observer.observe(triggerEl);\n    return () => {\n      observer.unobserve(triggerEl);\n    };\n  }, []);\n\n  const loadingContent = useMemo(() => {\n    if (loadState === STATE.loading_external) {\n      return null;\n    }\n\n    if (!canLoadMore) {\n      return (\n        <Text size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n          {allDataLoadedMessage}\n        </Text>\n      );\n    }\n\n    return (\n      <LoadingContainer>\n        <LoadingSpinner animationSize={50} circleSize={6} />\n      </LoadingContainer>\n    );\n  }, [allDataLoadedMessage, canLoadMore, loadState]);\n\n  return (\n    <ScrollMessage data-testid=\"load-more-on-scroll\" ref={loadingRef}>\n      {loadingAlert && (\n        <AriaOnlyAlert role=\"status\">{loadingAlert}</AriaOnlyAlert>\n      )}\n      {loadingContent}\n    </ScrollMessage>\n  );\n};\n\nInfiniteScroller.propTypes = {\n  isLoading: PropTypes.bool,\n  onLoadMore: PropTypes.func.isRequired,\n  allDataLoadedMessage: PropTypes.string,\n  allDataLoadedAriaMessage: PropTypes.string,\n  canLoadMore: PropTypes.bool,\n  loadingAriaMessage: PropTypes.string,\n};\nexport default InfiniteScroller;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n  useFocusOut,\n} from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport styled, { css } from 'styled-components';\nimport { Input } from '@web-stories-wp/design-system';\n\nconst StyledInput = styled(Input)`\n  div {\n    height: auto;\n  }\n  ${({ $isInverted, theme }) =>\n    $isInverted &&\n    css`\n      input {\n        color: ${theme.colors.inverted.fg.primary};\n      }\n    `}\n`;\n\nconst InlineInputForm = ({\n  noAutoFocus,\n  error,\n  id,\n  isInverted,\n  label,\n  onEditCancel,\n  onEditComplete,\n  placeholder,\n  value,\n}) => {\n  const inputContainerRef = useRef(null);\n  const [newValue, setNewValue] = useState(value);\n\n  useEffect(() => {\n    // update internal value when `value` prop updates\n    setNewValue(value);\n  }, [value]);\n\n  useFocusOut(\n    inputContainerRef,\n    () => {\n      // cancel changes when user focuses away from input\n      onEditCancel();\n    },\n    [onEditCancel]\n  );\n\n  useEffect(() => {\n    if (!noAutoFocus && inputContainerRef.current) {\n      inputContainerRef.current.querySelector('input')?.focus();\n    }\n  }, [noAutoFocus]);\n\n  const handleChange = useCallback(\n    ({ target }) => {\n      setNewValue(target.value);\n    },\n    [setNewValue]\n  );\n\n  const handleKeyPress = useCallback(\n    ({ nativeEvent }) => {\n      if (nativeEvent.keyCode === 13) {\n        onEditComplete(newValue);\n      } else if (nativeEvent.keyCode === 27) {\n        onEditCancel();\n      }\n    },\n    [newValue, onEditComplete, onEditCancel]\n  );\n  return (\n    <div ref={inputContainerRef}>\n      <StyledInput\n        aria-label={label}\n        id={`${id}`}\n        data-testid=\"inline-input-form\"\n        value={newValue}\n        onKeyDown={handleKeyPress}\n        onChange={handleChange}\n        placeholder={placeholder}\n        hasError={Boolean(error)}\n        hint={error}\n        $isInverted={isInverted}\n      />\n    </div>\n  );\n};\n\nInlineInputForm.propTypes = {\n  error: PropTypes.string,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  isInverted: PropTypes.bool,\n  label: PropTypes.string.isRequired,\n  noAutoFocus: PropTypes.bool,\n  onEditCancel: PropTypes.func.isRequired,\n  onEditComplete: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n};\n\nexport default InlineInputForm;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useMemo,\n  usePrevious,\n  useRef,\n  useState,\n} from '@web-stories-wp/react';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport { trackScreenView } from '@web-stories-wp/tracking';\nimport { Snackbar, useSnackbar } from '@web-stories-wp/design-system';\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport {\n  ExploreTemplatesView,\n  MyStoriesView,\n  TemplateDetailsView,\n} from '../../app/views';\nimport {\n  ADMIN_TITLE,\n  APP_ROUTES,\n  NESTED_APP_ROUTES,\n  ROUTE_TITLES,\n} from '../../constants';\nimport { matchPath, Route, useRouteHistory } from '../../app/router';\nimport { AppFrame, LeftRail, PageContent } from '../pageStructure';\nimport useApiAlerts from '../../app/api/useApiAlerts';\nimport useApi from '../../app/api/useApi';\n\nconst InterfaceSkeleton = ({ additionalRoutes }) => {\n  const {\n    state: {\n      currentPath,\n      queryParams: { id: templateId },\n    },\n    actions: { push },\n  } = useRouteHistory();\n  const { currentTemplate, addInitialFetchListener } = useApi(\n    ({\n      actions: {\n        storyApi: { addInitialFetchListener },\n      },\n      state: {\n        templates: { templates },\n      },\n    }) => ({\n      currentTemplate:\n        templateId !== undefined ? templates[templateId]?.title : undefined,\n      addInitialFetchListener,\n    })\n  );\n  const isFirstLoadOnMyStories = useRef(currentPath === APP_ROUTES.DASHBOARD);\n  const [isRedirectComplete, setIsRedirectComplete] = useState(\n    !isFirstLoadOnMyStories.current\n  );\n\n  // Direct user to templates on first load if they\n  // have no stories created.\n  useEffect(() => {\n    return addInitialFetchListener?.((storyStatuses) => {\n      if (storyStatuses?.all <= 0 && isFirstLoadOnMyStories.current) {\n        push(APP_ROUTES.TEMPLATES_GALLERY);\n      }\n      setIsRedirectComplete(true);\n    });\n  }, [addInitialFetchListener, push, currentPath]);\n\n  const fullPath = useMemo(() => {\n    return currentPath.includes(APP_ROUTES.TEMPLATE_DETAIL) &&\n      templateId &&\n      currentTemplate\n      ? `${currentPath}/${templateId}`\n      : currentPath;\n    // Disable reason: avoid sending duplicate tracking events.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentPath, currentTemplate]);\n\n  useEffect(() => {\n    if (!isRedirectComplete) {\n      return;\n    }\n\n    if (currentPath.includes(APP_ROUTES.TEMPLATE_DETAIL) && !currentTemplate) {\n      return;\n    }\n\n    let dynamicPageTitle = ROUTE_TITLES[currentPath] || ROUTE_TITLES.DEFAULT;\n    if (currentPath.includes(APP_ROUTES.TEMPLATE_DETAIL)) {\n      dynamicPageTitle = sprintf(\n        /* translators: %s: Template name. */\n        __('Template: %s', 'web-stories'),\n        currentTemplate\n      );\n    }\n\n    document.title = sprintf(\n      /* translators: Admin screen title. 1: Admin screen name, 2: Network or site name. */\n      __('%1$s \\u2039 %2$s \\u2212 WordPress', 'web-stories'),\n      dynamicPageTitle,\n      ADMIN_TITLE\n    );\n\n    trackScreenView(dynamicPageTitle);\n\n    // Disable reason: avoid sending duplicate tracking events.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fullPath, isRedirectComplete]);\n\n  const hideLeftRail = matchPath(\n    currentPath,\n    NESTED_APP_ROUTES.TEMPLATES_GALLERY_DETAIL\n  );\n\n  useApiAlerts();\n  const { clearSnackbar, removeSnack, placement, currentSnacks } =\n    useSnackbar();\n\n  // if the current path changes clear the snackbar\n  const prevPath = usePrevious(currentPath);\n\n  useEffect(() => {\n    if (currentPath !== prevPath) {\n      clearSnackbar();\n    }\n  }, [clearSnackbar, currentPath, prevPath]);\n\n  return (\n    <>\n      <AppFrame>\n        {!hideLeftRail && <LeftRail />}\n        <PageContent fullWidth={hideLeftRail}>\n          <Route\n            exact\n            path={APP_ROUTES.DASHBOARD}\n            component={<MyStoriesView />}\n          />\n          <Route\n            exact\n            path={APP_ROUTES.TEMPLATES_GALLERY}\n            component={<ExploreTemplatesView />}\n          />\n          <Route\n            path={NESTED_APP_ROUTES.TEMPLATES_GALLERY_DETAIL}\n            component={<TemplateDetailsView />}\n          />\n          {additionalRoutes &&\n            additionalRoutes.map((routeProps) => (\n              <Route key={routeProps.path} {...routeProps} />\n            ))}\n        </PageContent>\n      </AppFrame>\n      <Snackbar.Container\n        notifications={currentSnacks}\n        onRemove={removeSnack}\n        placement={placement}\n        max={1}\n      />\n    </>\n  );\n};\n\nInterfaceSkeleton.propTypes = {\n  additionalRoutes: PropTypes.array,\n};\n\nexport default InterfaceSkeleton;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n/**\n * Internal dependencies\n */\nimport { Z_INDEX } from '../../constants';\n\nconst FixedContent = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ${Z_INDEX.LAYOUT_FIXED};\n  overflow: hidden;\n\n  /**\n   * This is an absolute positioned full size\n   * overlay over the scrollable content. being\n   * such, we don't want it to block pointer\n   * events to the scrollable and squishable\n   * content.\n   */\n  pointer-events: none;\n\n  /**\n   * Not sure how much I like this because\n   * it will be a higher specificity than a\n   * styled declaration, but I don't want\n   * devs to have to declare this on every\n   * component in this view.\n   */\n  & > * {\n    pointer-events: auto;\n  }\n`;\n\nconst Fixed = ({ children }) => <FixedContent>{children}</FixedContent>;\n\nFixed.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Fixed;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport Provider from './provider';\nimport Scrollable from './scrollable';\nimport Fixed from './fixed';\n\nconst Layout = {\n  Provider,\n  Scrollable,\n  Fixed,\n};\n\nexport default Layout;\nexport { default as useLayoutContext } from './useLayoutContext';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useMemo,\n  useRef,\n  useCallback,\n  createContext,\n} from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\n\nexport const LayoutContext = createContext(null);\n\nconst Provider = ({ children }) => {\n  const firstFocusableContentRef = useRef();\n  const scrollFrameRef = useRef(null);\n\n  // Get the first focusable content in the dashboard\n  // so we can send focus there without having to\n  // tab through the whole WordPress dashboard to get back.\n  useEffect(() => {\n    firstFocusableContentRef.current = document\n      ?.getElementById('web-stories-dashboard')\n      ?.querySelector(['button', 'a']);\n  }, []);\n\n  const scrollToTop = useCallback(() => {\n    document.documentElement?.scrollTo?.({\n      top: 0,\n      behavior: 'smooth',\n    });\n    firstFocusableContentRef.current?.focus();\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      state: {\n        scrollFrameRef,\n      },\n      actions: {\n        scrollToTop,\n      },\n    }),\n    [scrollToTop]\n  );\n\n  return (\n    <LayoutContext.Provider value={value}>{children}</LayoutContext.Provider>\n  );\n};\n\nProvider.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Provider;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport useLayoutContext from './useLayoutContext';\n\nconst ScrollContent = styled.div``;\n\nconst Scrollable = ({ children }) => {\n  const {\n    state: { scrollFrameRef },\n  } = useLayoutContext();\n  return <ScrollContent ref={scrollFrameRef}>{children}</ScrollContent>;\n};\n\nScrollable.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Scrollable;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useContext } from '@web-stories-wp/react';\n/**\n * Internal dependencies\n */\nimport { LayoutContext } from './provider';\n\nconst useLayoutContext = () => {\n  const context = useContext(LayoutContext);\n  if (!context) {\n    throw new Error(\n      'useLayoutContext() must be used within a <Layout.Provider />'\n    );\n  }\n  return context;\n};\n\nexport default useLayoutContext;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useMemo,\n  useState,\n  createContext,\n  useContextSelector,\n  identity,\n} from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\n\nexport const NavContext = createContext({ actions: {}, state: {} });\n\nexport function useNavContext(selector = identity) {\n  return useContextSelector(NavContext, selector);\n}\n\nexport default function NavProvider({ children }) {\n  const [sideBarVisible, setSideBarVisible] = useState(false);\n  const [numNewTemplates, setNumNewTemplates] = useState(0);\n\n  const toggleSideBar = useCallback(() => {\n    setSideBarVisible(!sideBarVisible);\n  }, [sideBarVisible]);\n\n  const updateNumNewTemplates = useCallback((newNum) => {\n    setNumNewTemplates(newNum);\n  }, []);\n\n  const value = useMemo(\n    () => ({\n      actions: { toggleSideBar, updateNumNewTemplates },\n      state: { sideBarVisible, numNewTemplates },\n    }),\n    [numNewTemplates, sideBarVisible, toggleSideBar, updateNumNewTemplates]\n  );\n\n  return <NavContext.Provider value={value}>{children}</NavContext.Provider>;\n}\n\nNavProvider.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n  ]).isRequired,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport * from './pageStructureComponents';\nexport { default as LeftRail } from './leftRail';\nexport { default as NavMenuButton } from './menuButton';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useFocusOut,\n  useLayoutEffect,\n  useRef,\n} from '@web-stories-wp/react';\nimport { trackClick, trackEvent } from '@web-stories-wp/tracking';\nimport { getTemplateMetaData } from '@web-stories-wp/templates';\nimport { __, sprintf } from '@web-stories-wp/i18n';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  LogoWithTypeCircleColor,\n  NotificationBubble,\n  Text,\n  THEME_CONSTANTS,\n} from '@web-stories-wp/design-system';\nimport styled from 'styled-components';\nimport { differenceInDays, getOptions, toDate } from '@web-stories-wp/date';\n\n/**\n * Internal dependencies\n */\nimport { resolveRoute, useRouteHistory } from '../../app/router';\nimport { useNavContext } from '../navProvider';\nimport { useConfig } from '../../app';\nimport { APP_ROUTES, PRIMARY_PATHS } from '../../constants';\nimport {\n  AppInfo,\n  Content,\n  Header,\n  NavLink,\n  NavList,\n  NavListItem,\n  PathName,\n} from './navigationComponents';\nimport { LeftRailContainer } from './pageStructureComponents';\n\nconst StyledNotificationBubble = styled(NotificationBubble)`\n  position: absolute;\n  top: 0;\n  left: 11px;\n  transform: translateY(-50%);\n\n  /* prevent active color from applying to bubble inner text */\n  && > span,\n  &&:hover > span {\n    color: ${({ theme }) => theme.colors.bg.primary};\n  }\n`;\n\nconst IconWrap = styled.div`\n  position: relative;\n`;\n\nconst NEW_TEMPLATE_THRESHOLD_IN_DAYS = 60;\n\nfunction getNewTemplatesMetaData(metaDataEntries, days) {\n  const currentDate = toDate(new Date(), getOptions());\n  return metaDataEntries.filter((metaData) => {\n    const creationDate = toDate(metaData.creationDate, getOptions());\n    const deltaDays = differenceInDays(currentDate, creationDate);\n    return deltaDays < days;\n  });\n}\n\nfunction LeftRail() {\n  const { state } = useRouteHistory();\n  const { newStoryURL, version, leftRailSecondaryNavigation } = useConfig();\n  const leftRailRef = useRef(null);\n  const upperContentRef = useRef(null);\n\n  const {\n    state: { sideBarVisible, numNewTemplates },\n    actions: { toggleSideBar, updateNumNewTemplates },\n  } = useNavContext();\n\n  const onContainerClickCapture = useCallback(\n    ({ target }) => {\n      if (\n        target === leftRailRef.current ||\n        target === upperContentRef.current\n      ) {\n        return;\n      }\n      toggleSideBar();\n    },\n    [toggleSideBar, leftRailRef, upperContentRef]\n  );\n\n  const handleSideBarClose = useCallback(() => {\n    if (sideBarVisible) {\n      toggleSideBar();\n    }\n  }, [toggleSideBar, sideBarVisible]);\n\n  useFocusOut(leftRailRef, handleSideBarClose, [sideBarVisible]);\n\n  useLayoutEffect(() => {\n    if (sideBarVisible && leftRailRef.current) {\n      leftRailRef.current.focus();\n    }\n  }, [sideBarVisible]);\n\n  const onCreateNewStoryClick = useCallback(() => {\n    trackEvent('create_new_story');\n  }, []);\n\n  const onExternalLinkClick = useCallback((evt, path) => {\n    trackClick(evt, path.trackingEvent);\n  }, []);\n\n  // See how many templates are new based on the current date\n  useEffect(() => {\n    let mounted = true;\n\n    async function refreshNewTemplateCount() {\n      const metaData = await getTemplateMetaData();\n      if (metaData) {\n        const newTemplates = getNewTemplatesMetaData(\n          metaData,\n          NEW_TEMPLATE_THRESHOLD_IN_DAYS\n        );\n        if (mounted) {\n          updateNumNewTemplates(newTemplates.length);\n        }\n      }\n    }\n\n    refreshNewTemplateCount();\n\n    return () => {\n      mounted = false;\n    };\n  }, [updateNumNewTemplates]);\n\n  return (\n    <LeftRailContainer\n      onClickCapture={onContainerClickCapture}\n      ref={leftRailRef}\n      isOpen={sideBarVisible}\n      role=\"navigation\"\n      aria-label={__('Main dashboard navigation', 'web-stories')}\n    >\n      <div ref={upperContentRef}>\n        <Header forwardedAs=\"h2\">\n          <LogoWithTypeCircleColor\n            title={__('Web Stories Dashboard', 'web-stories')}\n          />\n        </Header>\n        <Content>\n          <Button\n            type={BUTTON_TYPES.QUATERNARY}\n            size={BUTTON_SIZES.SMALL}\n            href={newStoryURL}\n            onClick={onCreateNewStoryClick}\n          >\n            {__('Create New Story', 'web-stories')}\n          </Button>\n        </Content>\n        <Content>\n          <NavList>\n            {PRIMARY_PATHS.map(({ Icon, ...path }) => {\n              const isNotificationBubbleEnabled =\n                path.value === APP_ROUTES.TEMPLATES_GALLERY &&\n                state.currentPath !== APP_ROUTES.TEMPLATES_GALLERY;\n              const appendNewBadgeToLable = (label) =>\n                isNotificationBubbleEnabled\n                  ? sprintf(\n                      /* translators: 1: current page. 2: number of new templates. */\n                      __('%1$s (%2$s new)', 'web-stories'),\n                      label,\n                      numNewTemplates\n                    )\n                  : label;\n              return (\n                <NavListItem key={path.value}>\n                  <NavLink\n                    active={path.value === state.currentPath}\n                    href={resolveRoute(path.value)}\n                    size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                    isBold\n                    isIconLink={Boolean(Icon)}\n                    aria-label={appendNewBadgeToLable(\n                      path.value === state.currentPath\n                        ? sprintf(\n                            /* translators: %s: the current page, for example \"Dashboard\". */\n                            __('%s (active view)', 'web-stories'),\n                            path.label\n                          )\n                        : path.label\n                    )}\n                    {...(path.isExternal && {\n                      rel: 'noreferrer',\n                      target: '_blank',\n                      onClick: (evt) => onExternalLinkClick(evt, path),\n                    })}\n                  >\n                    <IconWrap>\n                      {Icon && <Icon width=\"22px\" />}\n                      {isNotificationBubbleEnabled && numNewTemplates > 0 && (\n                        <StyledNotificationBubble\n                          notificationCount={numNewTemplates}\n                          isSmall\n                        />\n                      )}\n                    </IconWrap>\n\n                    <PathName as=\"span\" isBold>\n                      {path.label}\n                    </PathName>\n                  </NavLink>\n                </NavListItem>\n              );\n            })}\n          </NavList>\n        </Content>\n      </div>\n      <Content>\n        {leftRailSecondaryNavigation && (\n          <NavList>\n            {leftRailSecondaryNavigation.map((path) => (\n              <NavListItem key={path.value}>\n                <NavLink\n                  active={path.value === state.currentPath}\n                  href={resolveRoute(path.value)}\n                  size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                  aria-label={\n                    path.value === state.currentPath\n                      ? sprintf(\n                          /* translators: %s: the current page, for example \"Dashboard\". */\n                          __('%s (active view)', 'web-stories'),\n                          path.label\n                        )\n                      : path.label\n                  }\n                  {...(path.isExternal && {\n                    rel: 'noreferrer',\n                    target: '_blank',\n                    onClick: (evt) => onExternalLinkClick(evt, path),\n                  })}\n                >\n                  <Text\n                    as=\"span\"\n                    size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}\n                    isBold\n                  >\n                    {path.label}\n                  </Text>\n                </NavLink>\n              </NavListItem>\n            ))}\n          </NavList>\n        )}\n        <AppInfo size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}>\n          {sprintf(\n            /* translators: 1: Current Year, 2: App Version */\n            __('\\u00A9 %1$s Google Version %2$s', 'web-stories'),\n            new Date().getFullYear(),\n            version\n          )}\n        </AppInfo>\n      </Content>\n    </LeftRailContainer>\n  );\n}\n\nexport default LeftRail;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { __ } from '@web-stories-wp/i18n';\nimport { themeHelpers } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { MIN_DASHBOARD_WIDTH } from '../../constants';\nimport { Menu as MenuSvg } from '../../icons';\nimport { useNavContext } from '../navProvider';\n\nconst MenuIcon = styled(MenuSvg).attrs({ width: 24, height: 24 })`\n  display: block;\n  color: ${({ theme }) => theme.colors.interactiveFg.brandNormal};\n`;\n\nconst TransparentButton = styled.button`\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 24px;\n  height: 24px;\n  padding: 0;\n  margin-right: 16px;\n  background: transparent;\n  border: 0;\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n  ${themeHelpers.focusableOutlineCSS}\n\n  ${({ showOnlyOnSmallViewport }) =>\n    showOnlyOnSmallViewport &&\n    css`\n      display: none;\n      @media screen and (max-width: ${MIN_DASHBOARD_WIDTH}px) {\n        display: inline-block;\n      }\n    `}\n`;\n\nfunction NavMenuButton({ showOnlyOnSmallViewport }) {\n  const { actions } = useNavContext();\n  return (\n    <TransparentButton\n      onClick={actions.toggleSideBar}\n      showOnlyOnSmallViewport={showOnlyOnSmallViewport}\n      aria-label={__('Toggle main navigation', 'web-stories')}\n    >\n      <MenuIcon aria-hidden />\n    </TransparentButton>\n  );\n}\n\nNavMenuButton.propTypes = {\n  showOnlyOnSmallViewport: PropTypes.bool,\n};\n\nexport default NavMenuButton;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled, { css } from 'styled-components';\nimport { Headline, Link, Text } from '@web-stories-wp/design-system';\n\nexport const Content = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 20px 0;\n  > * {\n    margin: 20px 28px;\n  }\n`;\n\nexport const Header = styled(Headline)`\n  margin: 42px 0px 72px;\n\n  & > svg {\n    margin: 0 28px;\n    height: 64px;\n  }\n`;\n\nexport const NavList = styled.ul`\n  margin: 0;\n  padding: 0;\n`;\n\nexport const NavListItem = styled.li`\n  margin: 10px 28px;\n  padding: 0;\n  list-style-type: none;\n`;\n\nconst activeLinkCss = css`\n  span {\n    color: ${({ theme }) => theme.colors.interactiveFg.brandPress};\n  }\n\n  svg path {\n    stroke: ${({ theme }) => theme.colors.interactiveFg.brandPress};\n  }\n`;\n\nexport const NavLink = styled(Link)(\n  ({ active, theme, isIconLink }) => css`\n    ${isIconLink &&\n    css`\n      display: grid;\n      grid-template-columns: 1fr 4fr;\n      grid-template-areas: 'icon link link link link';\n    `}\n    color: ${theme.colors.fg.secondary};\n\n    * {\n      transition: color 0.25s linear, stroke 0.25s linear;\n    }\n\n    ${active && activeLinkCss};\n\n    :hover {\n      ${activeLinkCss};\n    }\n  `\n);\n\nexport const PathName = styled(Text)`\n  grid-area: link;\n`;\n\nexport const AppInfo = styled(Text)(\n  ({ theme }) => css`\n    color: ${theme.colors.fg.secondary};\n  `\n);\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { BEZIER, THEME_CONSTANTS } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport {\n  Z_INDEX,\n  DASHBOARD_LEFT_NAV_WIDTH,\n  MIN_DASHBOARD_WIDTH,\n} from '../../constants';\n\nexport const AppFrame = styled.div`\n  width: 100%;\n  @media screen and (max-width: ${MIN_DASHBOARD_WIDTH}px) {\n    width: ${MIN_DASHBOARD_WIDTH}px;\n  }\n`;\n\nexport const PageContent = styled.div`\n  position: relative;\n  padding-top: 10px;\n  width: ${({ fullWidth }) =>\n    fullWidth ? '100%' : `calc(100% - ${DASHBOARD_LEFT_NAV_WIDTH}px)`};\n  left: ${({ fullWidth }) =>\n    fullWidth ? '0' : `${DASHBOARD_LEFT_NAV_WIDTH}px`};\n\n  @media screen and (max-width: ${MIN_DASHBOARD_WIDTH}px) {\n    left: 0;\n    width: 100%;\n  }\n`;\n\nexport const LeftRailContainer = styled.nav.attrs({\n  ['data-testid']: 'dashboard-left-rail',\n})`\n  position: fixed;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  top: ${THEME_CONSTANTS.WP_ADMIN.TOOLBAR_HEIGHT}px;\n  bottom: 0;\n  width: ${DASHBOARD_LEFT_NAV_WIDTH}px;\n  background: ${({ theme }) => theme.colors.bg.primary};\n  z-index: ${Z_INDEX.LAYOUT_FIXED};\n  transition: transform 0.25s ${BEZIER.outCubic}, opacity 0.25s linear;\n\n  @media screen and (max-width: ${MIN_DASHBOARD_WIDTH}px) {\n    padding-left: 0;\n    opacity: ${({ isOpen }) => (isOpen ? 1 : 0)};\n    visibility: ${({ isOpen }) => (isOpen ? 'visible' : 'hidden')};\n    transform: translateX(${({ isOpen }) => (isOpen ? 'none' : `-100%`)});\n  }\n`;\n\nexport const LoadingContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 550px;\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { noop } from '@web-stories-wp/design-system';\n/**\n * Internal dependencies\n */\nimport { STORY_CONTEXT_MENU_ACTIONS } from '../../constants';\n\n/**\n * Generate story enu.\n *\n * For menuItemActions, The `key` is any property in `STORY_CONTEXT_MENU_ACTIONS` found in {@module packages/dashboard/src/types.js}.\n *\n * @param {Object} arguments The arguments\n * @param {Object.<string, Function>} arguments.menuItemActions An object of actions that could be added as event handlers.\n * @param {Array} arguments.menuItems The menu items to build out\n * @param {Object} arguments.story The story used to generate the menu items\n * @param {boolean} arguments.isLocked Communicates if the story is locked by another user so we can disable any actions necessary\n * @return {Array} Array of menu items\n */\nexport const generateStoryMenu = ({\n  menuItemActions = {},\n  menuItems,\n  story,\n  isLocked,\n}) => {\n  const defaultFn = menuItemActions.default\n    ? () => menuItemActions.default(story)\n    : noop;\n\n  const menuItemsFiltered = menuItems.filter(\n    (item) => !item?.capability || story?.capabilities?.[item?.capability]\n  );\n\n  return menuItemsFiltered.map(({ value, ...menuItem }) => {\n    const extraProperties = {\n      onClick: menuItemActions[value]\n        ? () => menuItemActions[value](story)\n        : defaultFn,\n    };\n\n    switch (value) {\n      case STORY_CONTEXT_MENU_ACTIONS.OPEN_IN_EDITOR:\n        extraProperties.href = story.bottomTargetAction;\n        extraProperties.newTab = false;\n        break;\n      case STORY_CONTEXT_MENU_ACTIONS.OPEN_STORY_LINK:\n        extraProperties.href = story.previewLink;\n        extraProperties.newTab = true;\n        break;\n      case STORY_CONTEXT_MENU_ACTIONS.RENAME:\n        extraProperties.disabled = isLocked;\n        break;\n      default:\n        break;\n    }\n\n    return {\n      ...menuItem,\n      ...extraProperties,\n    };\n  });\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useState,\n  useDebouncedCallback,\n} from '@web-stories-wp/react';\nimport styled, { css } from 'styled-components';\nimport { __ } from '@web-stories-wp/i18n';\nimport { Button, BUTTON_VARIANTS, Icons } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { useLayoutContext } from '../layout';\n\nconst StyledButton = styled(Button)(\n  ({ $isVisible, theme }) => css`\n    position: fixed;\n    right: 40px;\n    bottom: 40px;\n    height: 50px;\n    width: 50px;\n    display: flex;\n    align-self: center;\n    justify-content: space-around;\n    align-items: center;\n    contain: content;\n    padding: 8px;\n    background-color: ${theme.colors.opacity.white64};\n    pointer-events: ${$isVisible ? 'auto' : 'none'};\n    box-shadow: 0px 4px 14px rgba(0, 0, 0, 0.25);\n    opacity: ${Number($isVisible)};\n    transition: opacity 300ms ease-in-out;\n  `\n);\n\nconst DropUpArrowIcon = styled(Icons.ChevronUp)`\n  position: relative;\n  transform: scale(2.4);\n`;\n\nconst ScrollToTop = () => {\n  const [isVisible, setIsVisible] = useState(false);\n  const {\n    actions: { scrollToTop },\n  } = useLayoutContext();\n\n  const handleScroll = useDebouncedCallback(\n    () => setIsVisible(window.scrollY > 0),\n    100\n  );\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    return function () {\n      window.removeEventListener('scroll', handleScroll, { passive: true });\n    };\n  }, [handleScroll]);\n\n  return (\n    <StyledButton\n      disabled={!isVisible}\n      aria-label={__('Scroll back to top', 'web-stories')}\n      data-testid=\"scroll-to-top-button\"\n      $isVisible={isVisible}\n      onClick={scrollToTop}\n      variant={BUTTON_VARIANTS.CIRCLE}\n    >\n      <DropUpArrowIcon aria-hidden />\n    </StyledButton>\n  );\n};\n\nexport default ScrollToTop;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { useCallback } from '@web-stories-wp/react';\nimport {\n  ContextMenu,\n  MenuItemProps,\n  themeHelpers,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { MoreVertical as MoreVerticalSvg } from '../../icons';\n\nexport const CONTEXT_MENU_BUTTON_CLASS = 'context-menu-button';\n\nexport const MoreVerticalButton = styled.button`\n  display: flex;\n  background: transparent;\n  padding: 0 8px;\n  opacity: ${({ menuOpen, isVisible }) => (menuOpen || isVisible ? 1 : 0)};\n  transition: opacity ease-in-out 300ms;\n  cursor: pointer;\n  color: ${({ theme, $isInverted }) =>\n    $isInverted\n      ? theme.colors.inverted.fg.primary\n      : theme.colors.interactiveFg.brandNormal};\n  & > svg {\n    width: 4px;\n    max-height: 100%;\n  }\n\n  border: 0;\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n\n  ${({ theme, $isInverted }) =>\n    themeHelpers.focusableOutlineCSS(\n      false,\n      $isInverted ? theme.colors.standard.black : false\n    )};\n`;\n\nMoreVerticalButton.propTypes = {\n  menuOpen: PropTypes.bool,\n};\n\nconst MenuContainer = styled.div`\n  position: relative;\n  align-self: ${({ verticalAlign = 'flex-start' }) => verticalAlign};\n  text-align: right;\n  ${({ $menuStyleOverrides }) => $menuStyleOverrides}\n\n  & > div {\n    margin: 0; /* 0 out margin that is needed by default on other instances of popover menus */\n  }\n`;\n\nMenuContainer.propTypes = {\n  verticalAlign: PropTypes.oneOf(['center', 'flex-start', 'flex-end']),\n};\n\nexport default function StoryMenu({\n  contextMenuId,\n  onMoreButtonSelected,\n  storyId,\n  verticalAlign,\n  menuItems,\n  itemActive,\n  tabIndex,\n  menuStyleOverrides,\n  menuLabel,\n  isInverted,\n}) {\n  const isPopoverMenuOpen = contextMenuId === storyId;\n\n  const handleDismiss = useCallback(\n    (evt) => onMoreButtonSelected(evt, -1),\n    [onMoreButtonSelected]\n  );\n\n  return (\n    <MenuContainer\n      verticalAlign={verticalAlign}\n      data-testid={`story-context-menu-${storyId}`}\n      $menuStyleOverrides={menuStyleOverrides}\n    >\n      <MoreVerticalButton\n        data-testid={`story-context-button-${storyId}`}\n        tabIndex={tabIndex}\n        menuOpen={isPopoverMenuOpen}\n        isVisible={itemActive}\n        aria-label={menuLabel || __('More Options', 'web-stories')}\n        onClick={(evt) =>\n          onMoreButtonSelected(evt, isPopoverMenuOpen ? -1 : storyId)\n        }\n        className={CONTEXT_MENU_BUTTON_CLASS}\n        $isInverted={isInverted}\n      >\n        <MoreVerticalSvg />\n      </MoreVerticalButton>\n      <ContextMenu\n        animate\n        isOpen={isPopoverMenuOpen}\n        items={menuItems}\n        onDismiss={handleDismiss}\n      />\n    </MenuContainer>\n  );\n}\n\nStoryMenu.propTypes = {\n  isInverted: PropTypes.bool,\n  itemActive: PropTypes.bool,\n  tabIndex: PropTypes.number,\n  storyId: PropTypes.number,\n  onMoreButtonSelected: PropTypes.func.isRequired,\n  contextMenuId: PropTypes.number.isRequired,\n  menuItems: PropTypes.arrayOf(PropTypes.shape(MenuItemProps)).isRequired,\n  menuLabel: PropTypes.string,\n  menuStyleOverrides: PropTypes.array,\n  verticalAlign: PropTypes.oneOf(['center', 'flex-start', 'flex-end']),\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { themeHelpers, THEME_CONSTANTS } from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { STORY_PREVIEW_WIDTH, VIEWPORT_BREAKPOINT } from '../../constants';\n\nconst CELL_PADDING = 16;\n\nexport const Table = styled.table`\n  ${themeHelpers.expandTextPreset(\n    ({ paragraph }, { SMALL }) => paragraph[SMALL]\n  )}\n  border-collapse: collapse;\n  width: inherit;\n`;\n\nexport const TableBody = styled.tbody``;\n\nexport const TableHeader = styled.thead`\n  background: ${({ theme }) => theme.colors.bg.secondary};\n`;\n\nexport const StickyTableHeader = styled(TableHeader)`\n  width: 100%;\n  border-top: 0;\n  border-bottom: 0;\n\n  th {\n    height: 100%;\n    background: ${({ theme }) => theme.colors.bg.secondary};\n    position: sticky;\n    z-index: 2;\n    top: ${THEME_CONSTANTS.WP_ADMIN.TOOLBAR_HEIGHT}px;\n\n    :first-child {\n      border-top-left-radius: ${({ theme }) => theme.borders.radius.small};\n      border-bottom-left-radius: ${({ theme }) => theme.borders.radius.small};\n    }\n\n    :last-child {\n      border-top-right-radius: ${({ theme }) => theme.borders.radius.small};\n      border-bottom-right-radius: ${({ theme }) => theme.borders.radius.small};\n    }\n  }\n`;\n\nexport const TableHeaderCell = styled.th`\n  padding: 16px;\n  text-align: left;\n  white-space: nowrap;\n`;\n\nexport const TablePreviewHeaderCell = styled(TableHeaderCell)`\n  padding-right: 0;\n`;\n\nexport const TableDateHeaderCell = styled(TableHeaderCell)`\n  min-width: 160px;\n`;\n\nexport const TableStatusHeaderCell = styled(TableHeaderCell)`\n  display: table-cell;\n  min-width: 100px;\n\n  @media ${({ theme }) => theme.breakpoint.tabletMax} {\n    display: none;\n  }\n`;\n\nexport const TableAuthorHeaderCell = styled(TableHeaderCell)`\n  min-width: 110px;\n`;\n\nexport const TableTitleHeaderCell = styled(TableHeaderCell)`\n  padding-left: 0;\n  width: 30%;\n  min-width: 135px;\n\n  span {\n    display: none;\n    margin-right: 5px;\n  }\n`;\n\nexport const TableContentHeaderCell = styled(TableHeaderCell)`\n  width: 17.5%;\n  min-width: 150px;\n`;\n\nexport const TableRow = styled.tr`\n  min-width: 1250px;\n\n  @media ${({ theme }) => theme.breakpoint.tabletMax} {\n    min-width: 0;\n  }\n`;\n\nexport const TableCell = styled.td`\n  padding: ${CELL_PADDING}px;\n  font-weight: normal;\n  word-break: break-word;\n  height: ${CELL_PADDING * 2 + 50}px;\n  vertical-align: middle;\n\n  span {\n    color: ${({ theme }) => theme.colors.standard.black};\n    line-height: 20px;\n  }\n`;\n\nexport const TableStatusCell = styled(TableCell)`\n  display: table-cell;\n\n  span {\n    color: ${({ theme }) => theme.colors.fg.secondary};\n  }\n\n  @media ${({ theme }) => theme.breakpoint.tabletMax} {\n    display: none;\n  }\n`;\n\nexport const TableTitleCell = styled(TableCell)`\n  width: 30%;\n  word-wrap: break-word;\n`;\n\nexport const TableContentCell = styled(TableCell)`\n  width: 17.5%;\n  min-width: 150px;\n  word-wrap: break-word;\n`;\n\nexport const TablePreviewCell = styled(TableCell)`\n  width: ${STORY_PREVIEW_WIDTH[VIEWPORT_BREAKPOINT.THUMBNAIL]}px;\n`;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as Tooltip } from './tooltip';\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  TOOLTIP_RTL_PLACEMENT,\n  Tooltip as BaseTooltip,\n  TooltipPropTypes,\n  TOOLTIP_PLACEMENT,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { useConfig } from '../../app/config';\n\nexport default function Tooltip({\n  placement = TOOLTIP_PLACEMENT.BOTTOM,\n  ...props\n}) {\n  const { isRTL } = useConfig();\n  const derivedPlacement = isRTL ? TOOLTIP_RTL_PLACEMENT[placement] : placement;\n\n  return (\n    <BaseTooltip placement={derivedPlacement} isMirrored={isRTL} {...props} />\n  );\n}\nTooltip.propTypes = TooltipPropTypes;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\nexport const ColorType = PropTypes.shape({\n  label: PropTypes.string.isRequired,\n  color: PropTypes.string.isRequired,\n});\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport {\n  Icons,\n  themeHelpers,\n  TOOLTIP_PLACEMENT,\n} from '@web-stories-wp/design-system';\n\n/**\n * Internal dependencies\n */\nimport { VIEW_STYLE, VIEW_STYLE_LABELS } from '../../constants';\nimport { Tooltip } from '../tooltip';\n\nconst Container = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\nconst ToggleButton = styled.button`\n  border: none;\n  border-radius: ${({ theme }) => theme.borders.radius.small};\n  ${themeHelpers.focusableOutlineCSS}\n  padding: 0;\n  background: transparent;\n  cursor: pointer;\n\n  &:hover svg {\n    color: ${({ theme }) => theme.colors.interactiveFg.hover};\n  }\n  &:active svg {\n    color: ${({ theme }) => theme.colors.interactiveFg.active};\n  }\n`;\n\nexport default function ViewStyleBar({ onPress, layoutStyle }) {\n  return (\n    <Container>\n      <Tooltip\n        title={VIEW_STYLE_LABELS[layoutStyle]}\n        placement={TOOLTIP_PLACEMENT.BOTTOM_END}\n        hasTail\n      >\n        <ToggleButton\n          aria-label={VIEW_STYLE_LABELS[layoutStyle]}\n          onClick={onPress}\n        >\n          {layoutStyle === VIEW_STYLE.GRID && (\n            <Icons.Table height=\"32px\" width=\"32px\" data-testid=\"list-icon\" />\n          )}\n          {layoutStyle === VIEW_STYLE.LIST && (\n            <Icons.Box4 height=\"32px\" width=\"32px\" data-testid=\"grid-icon\" />\n          )}\n        </ToggleButton>\n      </Tooltip>\n    </Container>\n  );\n}\n\nViewStyleBar.propTypes = {\n  onPress: PropTypes.func,\n  layoutStyle: PropTypes.oneOf([VIEW_STYLE.GRID, VIEW_STYLE.LIST]).isRequired,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport const PILL_LABEL_TYPES = {\n  FLOATING: 'floating',\n  SWATCH: 'swatch',\n  DEFAULT: 'default',\n};\n\nexport const PILL_INPUT_TYPES = {\n  CHECKBOX: 'checkbox',\n  RADIO: 'radio',\n};\n\nexport const BUTTON_TYPES = {\n  CTA: 'cta',\n  DEFAULT: 'default',\n  PRIMARY: 'primary',\n  SECONDARY: 'secondary',\n};\n\nexport const CHIP_TYPES = {\n  STANDARD: 'standard',\n  SMALL: 'small',\n};\n\nexport const DROPDOWN_TYPES = {\n  MENU: 'menu',\n  PANEL: 'panel',\n  COLOR_PANEL: 'color_panel',\n};\n\nexport const KEYS = {\n  ENTER: 'Enter',\n  ESC: 'Escape',\n  UP: 'ArrowUp',\n  DOWN: 'ArrowDown',\n};\n\nexport const ALERT_SEVERITY = {\n  ERROR: 'error',\n  WARNING: 'warning',\n  INFO: 'info',\n  SUCCESS: 'success',\n  DEFAULT: 'default',\n};\n\nexport const AUTO_REMOVE_ALERT_TIME_INTERVAL = 10000;\n\nexport const DEFAULT_FILE_UPLOAD_TYPES = ['.jpg', '.jpeg', '.png', '.gif'];\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\n/**\n * Internal dependencies\n */\nimport { Compass, HomeWithHeart } from '../icons';\nimport { STORY_VIEWING_LABELS } from './stories';\nimport { TEMPLATES_GALLERY_VIEWING_LABELS } from './templates';\n\nexport const KEYBOARD_USER_CLASS = `useskeyboard`;\n\nexport const Z_INDEX = {\n  LAYOUT_SQUISHABLE: 3,\n  LAYOUT_FIXED: 5,\n  STICKY_TABLE: 2,\n  POPOVER_MENU: 10,\n  POPOVER_PANEL: 10,\n};\n\nexport const APP_ROUTES = {\n  DASHBOARD: '/',\n  TEMPLATES_GALLERY: '/templates-gallery',\n  TEMPLATE_DETAIL: 'template-detail',\n};\n\nexport const NESTED_APP_ROUTES = {\n  TEMPLATES_GALLERY_DETAIL: `${APP_ROUTES.TEMPLATES_GALLERY}/${APP_ROUTES.TEMPLATE_DETAIL}`,\n};\n\nexport const ADMIN_TITLE = __('Web Stories', 'web-stories');\n\nexport const ROUTE_TITLES = {\n  [APP_ROUTES.DASHBOARD]: __('Dashboard', 'web-stories'),\n  [APP_ROUTES.TEMPLATES_GALLERY]: __('Explore Templates', 'web-stories'),\n  [`${APP_ROUTES.TEMPLATES_GALLERY}/${APP_ROUTES.TEMPLATE_DETAIL}`]: __(\n    'Template Details',\n    'web-stories'\n  ),\n  DEFAULT: __('Dashboard', 'web-stories'),\n};\n\nexport const PRIMARY_PATHS = [\n  {\n    value: APP_ROUTES.DASHBOARD,\n    label: ROUTE_TITLES[APP_ROUTES.DASHBOARD],\n    Icon: HomeWithHeart,\n  },\n  {\n    value: APP_ROUTES.TEMPLATES_GALLERY,\n    label: ROUTE_TITLES[APP_ROUTES.TEMPLATES_GALLERY],\n    Icon: Compass,\n  },\n];\n\nexport const VIEW_STYLE = {\n  GRID: 'grid',\n  LIST: 'list',\n};\n\nexport const VIEW_STYLE_LABELS = {\n  [VIEW_STYLE.GRID]: __('Switch to List View', 'web-stories'),\n  [VIEW_STYLE.LIST]: __('Switch to Grid View', 'web-stories'),\n};\n\nexport const DASHBOARD_VIEWS = {\n  DASHBOARD: 'DASHBOARD',\n  TEMPLATES_GALLERY: 'TEMPLATES_GALLERY',\n};\nexport const RESULT_LABELS = {\n  [DASHBOARD_VIEWS.DASHBOARD]: { ...STORY_VIEWING_LABELS },\n  [DASHBOARD_VIEWS.TEMPLATES_GALLERY]: { ...TEMPLATES_GALLERY_VIEWING_LABELS },\n};\n\n// API Query Constants\nexport const STORIES_PER_REQUEST = 24;\n\nexport const TEXT_INPUT_DEBOUNCE = 300;\n\nexport const MIN_IMG_HEIGHT = 96;\nexport const MIN_IMG_WIDTH = 96;\n\nexport const DEFAULT_GRID_IMG_HEIGHT = 853;\nexport const DEFAULT_GRID_IMG_WIDTH = 640;\n\nexport * from './components';\nexport * from './pageStructure';\nexport * from './stories';\nexport * from './templates';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { PAGE_RATIO, PAGE_WIDTH, PAGE_HEIGHT } from '@web-stories-wp/units';\n\nexport const WPBODY_ID = 'wpbody';\n\nexport const DASHBOARD_LEFT_NAV_WIDTH = 288;\n\nexport const MIN_DASHBOARD_WIDTH = 1098;\n\nexport const VIEWPORT_BREAKPOINT = {\n  TABLET: 'tablet',\n  DESKTOP: 'desktop',\n  THUMBNAIL: 'thumbnail',\n};\n\nexport const STORY_PREVIEW_WIDTH = {\n  [VIEWPORT_BREAKPOINT.TABLET]: 200,\n  [VIEWPORT_BREAKPOINT.DESKTOP]: 232,\n  [VIEWPORT_BREAKPOINT.THUMBNAIL]: 33,\n};\n\nexport const GRID_SPACING = {\n  COLUMN_GAP: 24,\n  ROW_GAP: 32,\n};\n\nexport const PAGE_WRAPPER = {\n  GUTTER: 52,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __, sprintf, _n } from '@web-stories-wp/i18n';\n\nexport const STORY_CONTEXT_MENU_ACTIONS = {\n  OPEN_IN_EDITOR: 'open-in-editor-action',\n  RENAME: 'rename-action',\n  DUPLICATE: 'duplicate-action',\n  DELETE: 'delete-story-action',\n  COPY_STORY_LINK: 'copy-story-link',\n  OPEN_STORY_LINK: 'open-story-link',\n  CLOSE: 'close-menu',\n};\n\nexport const STORY_CONTEXT_MENU_ITEMS = [\n  {\n    label: __('Open in editor', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.OPEN_IN_EDITOR,\n    capability: 'hasEditAction',\n  },\n  {\n    label: __('Open in new tab', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.OPEN_STORY_LINK,\n  },\n  {\n    label: __('Copy Story URL', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.COPY_STORY_LINK,\n  },\n  {\n    label: __('Rename', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.RENAME,\n    separator: 'top',\n    capability: 'hasEditAction',\n  },\n  {\n    label: __('Duplicate', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.DUPLICATE,\n    capability: 'hasEditAction',\n  },\n  {\n    label: __('Delete Story', 'web-stories'),\n    value: STORY_CONTEXT_MENU_ACTIONS.DELETE,\n    separator: 'top',\n    capability: 'hasDeleteAction',\n  },\n];\n\nexport const SORT_DIRECTION = {\n  ASC: 'asc',\n  DESC: 'desc',\n};\n\nexport const STORY_SORT_OPTIONS = {\n  NAME: 'title',\n  DATE_CREATED: 'date',\n  LAST_MODIFIED: 'modified',\n  CREATED_BY: 'story_author',\n};\n\nexport const ORDER_BY_SORT = {\n  [STORY_SORT_OPTIONS.NAME]: SORT_DIRECTION.ASC,\n  [STORY_SORT_OPTIONS.DATE_CREATED]: SORT_DIRECTION.DESC,\n  [STORY_SORT_OPTIONS.LAST_MODIFIED]: SORT_DIRECTION.DESC,\n  [STORY_SORT_OPTIONS.CREATED_BY]: SORT_DIRECTION.ASC,\n};\n\nexport const STORY_SORT_MENU_ITEMS = [\n  {\n    label: __('Name', 'web-stories'),\n    value: STORY_SORT_OPTIONS.NAME,\n  },\n  {\n    label: __('Date Created', 'web-stories'),\n    value: STORY_SORT_OPTIONS.DATE_CREATED,\n  },\n  {\n    label: __('Last Modified', 'web-stories'), // default\n    value: STORY_SORT_OPTIONS.LAST_MODIFIED,\n  },\n  {\n    label: __('Created By', 'web-stories'),\n    value: STORY_SORT_OPTIONS.CREATED_BY,\n  },\n];\n\n/**\n * All possible story statuses.\n */\nconst BASE_STATUSES = {\n  DRAFT: 'draft',\n  FUTURE: 'future',\n  PENDING: 'pending',\n  PUBLISH: 'publish',\n  PRIVATE: 'private',\n};\n\nexport const STORY_STATUS = {\n  ALL: Object.values(BASE_STATUSES).join(','),\n  PUBLISHED_AND_FUTURE: [BASE_STATUSES.PUBLISH, BASE_STATUSES.FUTURE].join(','),\n  ...BASE_STATUSES,\n};\n\nexport const DISPLAY_STATUS = {\n  [STORY_STATUS.PUBLISH]: __('Published', 'web-stories'),\n  [STORY_STATUS.PENDING]: __('Pending', 'web-stories'),\n  [STORY_STATUS.FUTURE]: __('Scheduled', 'web-stories'),\n  [STORY_STATUS.DRAFT]: __('Draft', 'web-stories'),\n  [STORY_STATUS.PRIVATE]: __('Private', 'web-stories'),\n};\n\nexport const STORY_STATUSES = [\n  {\n    label: __('All Stories', 'web-stories'),\n    value: STORY_STATUS.ALL,\n    status: 'all',\n  },\n  {\n    label: __('Drafts', 'web-stories'),\n    value: STORY_STATUS.DRAFT,\n    status: STORY_STATUS.DRAFT,\n  },\n  {\n    label: __('Pending', 'web-stories'),\n    value: STORY_STATUS.PENDING,\n    status: STORY_STATUS.PENDING,\n  },\n  {\n    label: __('Published', 'web-stories'),\n    value: STORY_STATUS.PUBLISH,\n    status: STORY_STATUS.PUBLISH,\n  },\n  {\n    label: __('Scheduled', 'web-stories'),\n    value: STORY_STATUS.FUTURE,\n    status: STORY_STATUS.FUTURE,\n  },\n  {\n    label: __('Private', 'web-stories'),\n    value: STORY_STATUS.PRIVATE,\n    status: STORY_STATUS.PRIVATE,\n  },\n];\n\nexport const STORY_VIEWING_LABELS = {\n  [STORY_STATUS.ALL]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories in view */\n      _n(\n        'Viewing <strong>%d</strong> story',\n        'Viewing all <strong>%d</strong> stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.DRAFT]: (n) =>\n    sprintf(\n      /* translators: %d: number of draft stories in view */\n      _n(\n        'Viewing <strong>%d</strong> draft',\n        'Viewing <strong>%d</strong> drafts',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.PUBLISH]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories */\n      _n(\n        'Viewing <strong>%d</strong> published story',\n        'Viewing <strong>%d</strong> published stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.FUTURE]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories */\n      _n(\n        'Viewing <strong>%d</strong> scheduled story',\n        'Viewing <strong>%d</strong> scheduled stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.PENDING]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories */\n      _n(\n        'Viewing <strong>%d</strong> pending story',\n        'Viewing <strong>%d</strong> pending stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n  [STORY_STATUS.PRIVATE]: (n) =>\n    sprintf(\n      /* translators: %d: number of stories */\n      _n(\n        'Viewing <strong>%d</strong> private story',\n        'Viewing <strong>%d</strong> private stories',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n};\n\nexport const STORY_ANIMATION_STATE = {\n  RESET: 'reset',\n  PAUSED: 'paused',\n  SCRUBBING: 'scrubbing',\n  PLAYING: 'playing',\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __, _x, sprintf, _n } from '@web-stories-wp/i18n';\n\nexport const TEMPLATE_CATEGORIES = {\n  DIY_CRAFTS: 'diy_crafts',\n  MOVIES_TV: 'movies_tv',\n  BEAUTY_STYLE: 'beauty_style',\n  FITNESS_WELLBEING: 'fitness_wellbeing',\n  FOOD: 'food',\n  TRAVEL: 'travel',\n  MUSIC: 'music',\n  SPORTS: 'sports',\n};\n\nexport const TEMPLATE_CATEGORY_ITEMS = [\n  {\n    label: _x('DIY & Crafts', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.DIY_CRAFTS,\n  },\n  {\n    label: _x('Movies & TV', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.MOVIES_TV,\n  },\n  {\n    label: _x('Beauty & Style', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.BEAUTY_STYLE,\n  },\n  {\n    label: _x('Fitness & Wellbeing', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.FITNESS_WELLBEING,\n  },\n  {\n    label: _x('Food', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.FOOD,\n  },\n  {\n    label: _x('Travel', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.TRAVEL,\n  },\n  {\n    label: _x('Music', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.MUSIC,\n  },\n  {\n    label: _x('Sports', 'template vertical', 'web-stories'),\n    value: TEMPLATE_CATEGORIES.SPORTS,\n  },\n];\n\nexport const TEMPLATE_COLORS = {\n  WHITE: 'white',\n  BLACK: 'black',\n  GRAY: 'gray',\n  BROWN: 'brown',\n  RED: 'red',\n  ORANGE: 'orange',\n  YELLOW: 'yellow',\n  GREEN: 'green',\n  BLUE: 'blue',\n  PINK: 'pink',\n  PURPLE: 'purple',\n};\n\nexport const TEMPLATE_COLOR_ITEMS = [\n  {\n    label: _x('White', 'color', 'web-stories'),\n    hex: '#FFFFFF',\n    value: TEMPLATE_COLORS.WHITE,\n  },\n  {\n    label: _x('Black', 'color', 'web-stories'),\n    hex: '#1A1D1F',\n    value: TEMPLATE_COLORS.BLACK,\n  },\n  {\n    label: _x('Gray', 'color', 'web-stories'),\n    hex: '#9AA1A9',\n    value: TEMPLATE_COLORS.GRAY,\n  },\n  {\n    label: _x('Brown', 'color', 'web-stories'),\n    hex: '#974A04',\n    value: TEMPLATE_COLORS.BROWN,\n  },\n  {\n    label: _x('Red', 'color', 'web-stories'),\n    hex: '#EB5757',\n    value: TEMPLATE_COLORS.RED,\n  },\n  {\n    label: _x('Orange', 'color', 'web-stories'),\n    hex: '#FA902E',\n    value: TEMPLATE_COLORS.ORANGE,\n  },\n  {\n    label: _x('Yellow', 'color', 'web-stories'),\n    hex: '#FAE84C',\n    value: TEMPLATE_COLORS.YELLOW,\n  },\n  {\n    label: _x('Green', 'color', 'web-stories'),\n    hex: '#6AE86F',\n    value: TEMPLATE_COLORS.GREEN,\n  },\n  {\n    label: _x('Blue', 'color', 'web-stories'),\n    hex: '#1374FA',\n    value: TEMPLATE_COLORS.BLUE,\n  },\n  {\n    label: _x('Pink', 'color', 'web-stories'),\n    hex: '#F078F2',\n    value: TEMPLATE_COLORS.PINK,\n  },\n  {\n    label: _x('Purple', 'color', 'web-stories'),\n    hex: '#AA6FE1',\n    value: TEMPLATE_COLORS.PURPLE,\n  },\n];\n\nexport const TEMPLATES_GALLERY_STATUS = {\n  ALL: 'template',\n};\n\nexport const TEMPLATES_GALLERY_VIEWING_LABELS = {\n  [TEMPLATES_GALLERY_STATUS.ALL]: (n) =>\n    sprintf(\n      /* translators: %d: number of templates in view */\n      _n(\n        'Viewing <strong>%d</strong> template',\n        'Viewing all <strong>%d</strong> templates',\n        n,\n        'web-stories'\n      ),\n      n\n    ),\n};\nexport const TEMPLATES_GALLERY_SORT_OPTIONS = {\n  POPULAR: 'popular',\n  RECENT: 'recent',\n};\n\nexport const TEMPLATES_GALLERY_SORT_MENU_ITEMS = [\n  {\n    label: __('Popular', 'web-stories'),\n    value: TEMPLATES_GALLERY_SORT_OPTIONS.POPULAR,\n  },\n  {\n    label: __('Recent', 'web-stories'),\n    value: TEMPLATES_GALLERY_SORT_OPTIONS.RECENT,\n  },\n];\n\nexport const TEMPLATES_GALLERY_ITEM_CENTER_ACTION_LABELS = {\n  template: __('See details', 'web-stories'),\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  lightMode,\n  ModalGlobalStyle,\n  SnackbarProvider,\n  theme as externalDesignSystemTheme,\n  ThemeGlobals,\n  deepMerge,\n} from '@web-stories-wp/design-system';\nimport { StyleSheetManager, ThemeProvider } from 'styled-components';\nimport stylisRTLPlugin from 'stylis-plugin-rtl';\nimport PropTypes from 'prop-types';\nimport { FlagsProvider } from 'flagged';\nimport { useMemo } from '@web-stories-wp/react';\n\n/**\n * Internal dependencies\n */\nimport { ConfigProvider } from './app/config';\nimport ApiProvider from './app/api/apiProvider';\nimport { NavProvider } from './components';\nimport { RouterProvider } from './app/router';\nimport { GlobalStyle } from './theme';\nimport { KeyboardOnlyOutline } from './utils';\nimport defaultConfig from './defaultConfig';\nfunction Dashboard({ config, children }) {\n  const _config = useMemo(() => deepMerge(defaultConfig, config), [config]);\n  const { isRTL, flags } = _config;\n  const activeTheme = {\n    ...externalDesignSystemTheme,\n    colors: lightMode,\n  };\n  return (\n    <FlagsProvider features={flags}>\n      <StyleSheetManager stylisPlugins={isRTL ? [stylisRTLPlugin] : []}>\n        <ThemeProvider theme={activeTheme}>\n          <ThemeGlobals.Styles />\n          <ModalGlobalStyle />\n          <ConfigProvider config={_config}>\n            <ApiProvider>\n              <NavProvider>\n                <RouterProvider>\n                  <SnackbarProvider>\n                    <GlobalStyle />\n                    <KeyboardOnlyOutline />\n                    {children}\n                  </SnackbarProvider>\n                </RouterProvider>\n              </NavProvider>\n            </ApiProvider>\n          </ConfigProvider>\n        </ThemeProvider>\n      </StyleSheetManager>\n    </FlagsProvider>\n  );\n}\n\nDashboard.propTypes = {\n  config: PropTypes.object.isRequired,\n  children: PropTypes.node,\n};\n\nexport default Dashboard;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst defaultConfig = {\n  isRTL: false,\n  userId: 1,\n  locale: {\n    locale: 'en-US',\n    dateFormat: 'F j, Y',\n    timeFormat: 'g:i a',\n    gmtOffset: '0',\n    timezone: '',\n    months: [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n    ],\n    monthsShort: [\n      'Jan',\n      'Feb',\n      'Mar',\n      'Apr',\n      'May',\n      'Jun',\n      'Jul',\n      'Aug',\n      'Sep',\n      'Oct',\n      'Nov',\n      'Dec',\n    ],\n    weekdays: [\n      'Sunday',\n      'Monday',\n      'Tuesday',\n      'Wednesday',\n      'Thursday',\n      'Friday',\n      'Saturday',\n    ],\n    weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    weekdaysInitials: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n    weekStartsOn: 1,\n  },\n  newStoryURL: '',\n  archiveURL: '',\n  cdnURL: 'https://wp.stories.google/static/main/',\n  allowedImageMimeTypes: ['image/webp', 'image/png', 'image/jpeg', 'image/gif'],\n  version: '',\n  encodeMarkup: true,\n  api: {},\n  maxUpload: 314572800,\n  maxUploadFormatted: '300 MB',\n  capabilities: {\n    canManageSettings: false,\n    canUploadFiles: false,\n  },\n  localeData: [],\n  flags: {},\n  apiCallbacks: {},\n  leftRailSecondaryNavigation: [],\n};\n\nexport default defaultConfig;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.5 3v3M22 12.5h-3M12.5 22v-3M3 12.5h3M12.5 22a9.5 9.5 0 100-19 9.5 9.5 0 000 19z\",\n  stroke: \"currentColor\",\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.851 8.492a.5.5 0 01.657.657l-2.13 4.967a.5.5 0 01-.262.263L9.15 16.508a.5.5 0 01-.657-.657l2.13-4.967a.5.5 0 01.262-.263l4.967-2.129z\",\n  stroke: \"currentColor\",\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgCompass({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref, _ref2);\n}\n\nconst MemoSvgCompass = /*#__PURE__*/React.memo(SvgCompass);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjUgM1Y2IiBzdHJva2U9IiMzOTNEM0YiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yMiAxMi41SDE5IiBzdHJva2U9IiMzOTNEM0YiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMi41IDIyVjE5IiBzdHJva2U9IiMzOTNEM0YiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0zIDEyLjVINiIgc3Ryb2tlPSIjMzkzRDNGIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTIuNSAyMkMxNy43NDY3IDIyIDIyIDE3Ljc0NjcgMjIgMTIuNUMyMiA3LjI1MzI5IDE3Ljc0NjcgMyAxMi41IDNDNy4yNTMyOSAzIDMgNy4yNTMyOSAzIDEyLjVDMyAxNy43NDY3IDcuMjUzMjkgMjIgMTIuNSAyMloiIHN0cm9rZT0iIzM5M0QzRiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE1Ljg1MTEgOC40OTI0QzE2LjI2NTkgOC4zMTQ2IDE2LjY4NTQgOC43MzQwNyAxNi41MDc2IDkuMTQ4OTNMMTQuMzc4OCAxNC4xMTYyQzE0LjMyODIgMTQuMjM0MiAxNC4yMzQyIDE0LjMyODIgMTQuMTE2MiAxNC4zNzg4TDkuMTQ4OTMgMTYuNTA3NkM4LjczNDA3IDE2LjY4NTQgOC4zMTQ2IDE2LjI2NTkgOC40OTI0IDE1Ljg1MTFMMTAuNjIxMiAxMC44ODM4QzEwLjY3MTggMTAuNzY1OCAxMC43NjU4IDEwLjY3MTggMTAuODgzOCAxMC42MjEyTDE1Ljg1MTEgOC40OTI0WiIgc3Ryb2tlPSIjMzkzRDNGIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K\";\nexport { MemoSvgCompass as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.833 18C7.373 18 7 17.552 7 17v-4c0-.552.373-1 .833-1h8.334c.46 0 .833.448.833 1v4\",\n  stroke: \"currentColor\",\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.2 22H4.8c-.477 0-.935-.21-1.273-.586A2.118 2.118 0 013 20V4c0-.53.19-1.04.527-1.414A1.714 1.714 0 014.8 2h11.255a1 1 0 01.743.331l3.945 4.384a1 1 0 01.257.669V20c0 .53-.19 1.04-.527 1.414A1.714 1.714 0 0119.2 22zM15 6v2\",\n  stroke: \"currentColor\",\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgFloppyDisk({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref, _ref2);\n}\n\nconst MemoSvgFloppyDisk = /*#__PURE__*/React.memo(SvgFloppyDisk);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcuODMzMzMgMThDNy4zNzMxIDE4IDcgMTcuNTUyMyA3IDE3VjEzQzcgMTIuNDQ3NyA3LjM3MzEgMTIgNy44MzMzMyAxMkgxNi4xNjY3QzE2LjYyNjkgMTIgMTcgMTIuNDQ3NyAxNyAxM1YxNyIgc3Ryb2tlPSIjMzkzRDNGIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTkuMiAyMkg0LjhDNC4zMjI2MSAyMiAzLjg2NDc3IDIxLjc4OTMgMy41MjcyMSAyMS40MTQyQzMuMTg5NjQgMjEuMDM5MSAzIDIwLjUzMDQgMyAyMFY0QzMgMy40Njk1NyAzLjE4OTY0IDIuOTYwODYgMy41MjcyMSAyLjU4NTc5QzMuODY0NzcgMi4yMTA3MSA0LjMyMjYxIDIgNC44IDJIMTYuMDU0NkMxNi4zMzgxIDIgMTYuNjA4MyAyLjEyMDMyIDE2Ljc5NzkgMi4zMzEwNEwyMC43NDMzIDYuNzE0NzdDMjAuOTA4NiA2Ljg5ODQgMjEgNy4xMzY2OSAyMSA3LjM4Mzc0VjIwQzIxIDIwLjUzMDQgMjAuODEwNCAyMS4wMzkxIDIwLjQ3MjggMjEuNDE0MkMyMC4xMzUyIDIxLjc4OTMgMTkuNjc3NCAyMiAxOS4yIDIyWiIgc3Ryb2tlPSIjMzkzRDNGIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTUgNlY4IiBzdHJva2U9IiMzOTNEM0YiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=\";\nexport { MemoSvgFloppyDisk as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.781 10.72a2.44 2.44 0 00-2.999-.367 2.493 2.493 0 00-.782.748 2.493 2.493 0 00-.782-.748 2.45 2.45 0 00-2.088-.21 2.47 2.47 0 00-1.443 1.375 2.476 2.476 0 00.532 2.687L12 18l3.781-3.795a2.477 2.477 0 000-3.484z\",\n  stroke: \"currentColor\",\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 11l10.367-8.482a1 1 0 011.266 0L23 11M4 9v12a1 1 0 001 1h14a1 1 0 001-1V9\",\n  stroke: \"currentColor\",\n  strokeMiterlimit: 10,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgHomeWithHeart({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref, _ref2);\n}\n\nconst MemoSvgHomeWithHeart = /*#__PURE__*/React.memo(SvgHomeWithHeart);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE1Ljc4MTIgMTAuNzIwOUMxNS41MjI2IDEwLjQ2MjkgMTUuMjExNCAxMC4yNjU4IDE0Ljg2OTYgMTAuMTQzNEMxNC41Mjc3IDEwLjAyMSAxNC4xNjM2IDkuOTc2NDQgMTMuODAzIDEwLjAxMjdDMTMuNDQyMyAxMC4wNDkgMTMuMDkzOSAxMC4xNjU0IDEyLjc4MjMgMTAuMzUzNUMxMi40NzA4IDEwLjU0MTcgMTIuMjAzNyAxMC43OTcgMTIgMTEuMTAxNUMxMS43OTYzIDEwLjc5NyAxMS41MjkyIDEwLjU0MTcgMTEuMjE3NyAxMC4zNTM1QzEwLjkwNjEgMTAuMTY1NCAxMC41NTc3IDEwLjA0OSAxMC4xOTcgMTAuMDEyN0M5LjgzNjM3IDkuOTc2NDQgOS40NzIyNiAxMC4wMjEgOS4xMzA0MyAxMC4xNDM0QzguNzg4NiAxMC4yNjU4IDguNDc3NCAxMC40NjI5IDguMjE4ODIgMTAuNzIwOUM3Ljk5MTE4IDEwLjk0ODMgNy44MTAzOSAxMS4yMTk0IDcuNjg2OTcgMTEuNTE4NEM3LjU2MzU2IDExLjgxNzUgNy41IDEyLjEzODUgNy41IDEyLjQ2MjhDNy41IDEyLjc4NzEgNy41NjM1NiAxMy4xMDgxIDcuNjg2OTcgMTMuNDA3MkM3LjgxMDM5IDEzLjcwNjMgNy45OTExOCAxMy45Nzc0IDguMjE4ODIgMTQuMjA0N0wxMiAxOC4wMDA1TDE1Ljc4MTIgMTQuMjA0N0MxNi4wMDg4IDEzLjk3NzQgMTYuMTg5NiAxMy43MDYzIDE2LjMxMyAxMy40MDcyQzE2LjQzNjQgMTMuMTA4MSAxNi41IDEyLjc4NzEgMTYuNSAxMi40NjI4QzE2LjUgMTIuMTM4NSAxNi40MzY0IDExLjgxNzUgMTYuMzEzIDExLjUxODRDMTYuMTg5NiAxMS4yMTk0IDE2LjAwODggMTAuOTQ4MyAxNS43ODEyIDEwLjcyMDlaIiBzdHJva2U9IiMzOTNEM0YiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xIDEwLjk5OTlMMTEuMzY2OCAyLjUxODAzQzExLjczNTEgMi4yMTY2NCAxMi4yNjQ5IDIuMjE2NjQgMTIuNjMzMiAyLjUxODAzTDIzIDEwLjk5OTlNNC4wMDAyOSA4Ljk5OTk0VjIwLjk5OTlDNC4wMDAyOSAyMS41NTIyIDQuNDQ4MDEgMjEuOTk5OSA1LjAwMDI5IDIxLjk5OTlIMTkuMDAwM0MxOS41NTI2IDIxLjk5OTkgMjAuMDAwMyAyMS41NTIyIDIwLjAwMDMgMjAuOTk5OVY4Ljk5OTk0IiBzdHJva2U9IiMzOTNEM0YiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=\";\nexport { MemoSvgHomeWithHeart as ReactComponent };","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nexport { ReactComponent as Compass } from './compass.svg';\nexport { ReactComponent as FloppyDisk } from './floppyDisk.svg';\nexport { ReactComponent as HomeWithHeart } from './homeWithHeart.svg';\nexport { ReactComponent as Menu } from './menu.svg';\nexport { ReactComponent as MoreVertical } from './moreVertical.svg';\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\",\n  fill: \"currentColor\"\n});\n\nfunction SvgMenu({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst MemoSvgMenu = /*#__PURE__*/React.memo(SvgMenu);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMyAxOGgxOHYtMkgzdjJ6bTAtNWgxOHYtMkgzdjJ6bTAtN3YyaDE4VjZIM3oiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KPC9zdmc+Cg==\";\nexport { MemoSvgMenu as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\",\n  fill: \"currentColor\"\n});\n\nfunction SvgMoreVertical({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"none\",\n    viewBox: \"0 0 4 16\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst MemoSvgMoreVertical = /*#__PURE__*/React.memo(SvgMoreVertical);\nexport default \"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiB2aWV3Qm94PSIwIDAgNCAxNiIgd2lkdGg9IjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJtMiA0YzEuMSAwIDItLjkgMi0ycy0uOS0yLTItMi0yIC45LTIgMiAuOSAyIDIgMnptMCAyYy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMiAyLS45IDItMi0uOS0yLTItMnoiIGZpbGw9ImN1cnJlbnRDb2xvciIvPgo8L3N2Zz4K\";\nexport { MemoSvgMoreVertical as ReactComponent };","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport Dashboard from './dashboard';\n\nexport * from './app';\nexport * from './app/router';\nexport * from './constants';\nexport * from './components';\nexport * from './app/views/shared';\nexport { GlobalStyle as DashboardGlobalStyle } from './theme';\nexport { default as DashboardKeyboardOnlyOutline } from './utils/keyboardOnlyOutline';\nexport { default as InterfaceSkeleton } from './components/interfaceSkeleton';\n\nexport default Dashboard;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  h1, h2, h3, h4, h5, h6, p, a {\n    margin: 0;\n  }\n`;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport {\n  STORY_CONTEXT_MENU_ACTIONS,\n  STORY_STATUS,\n  TEMPLATES_GALLERY_STATUS,\n} from './constants';\n\nexport const DashboardStatusesPropType = PropTypes.oneOf([\n  ...Object.values(STORY_STATUS),\n  ...Object.values(TEMPLATES_GALLERY_STATUS),\n]);\n\nexport const StoryPropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  status: DashboardStatusesPropType,\n  title: PropTypes.string.isRequired,\n  modified: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  author: PropTypes.object,\n  capabilities: PropTypes.shape({\n    hasDeleteAction: PropTypes.bool,\n    hasEditAction: PropTypes.bool,\n  }),\n});\n\nexport const TemplatePropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  status: DashboardStatusesPropType,\n  title: PropTypes.string.isRequired,\n  pages: PropTypes.array,\n  modified: PropTypes.object,\n  colors: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string.isRequired,\n      color: PropTypes.string.isRequired,\n    })\n  ),\n  description: PropTypes.string,\n  tags: PropTypes.arrayOf(PropTypes.string),\n  createdBy: PropTypes.string,\n  postersByPage: PropTypes.arrayOf(\n    PropTypes.shape({\n      webp: PropTypes.string,\n      png: PropTypes.string,\n      type: PropTypes.string,\n    })\n  ),\n});\n\nexport const TagPropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  count: PropTypes.number.isRequired,\n});\n\nexport const CategoryPropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  parent: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  count: PropTypes.number.isRequired,\n});\n\nexport const UserPropType = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  slug: PropTypes.string.isRequired,\n  avatarUrls: PropTypes.object,\n});\n\nexport const StoriesPropType = PropTypes.arrayOf(StoryPropType);\nexport const TemplatesPropType = PropTypes.arrayOf(TemplatePropType).isRequired;\n\nexport const StoryActionsPropType = PropTypes.shape({\n  duplicateStory: PropTypes.func,\n  trashStory: PropTypes.func,\n  updateStory: PropTypes.func,\n});\n\nexport const TemplateActionsPropType = PropTypes.shape({\n  createStoryFromTemplate: PropTypes.func,\n  handlePreviewTemplate: PropTypes.func,\n});\n\nexport const TotalStoriesByStatusPropType = PropTypes.shape({\n  all: PropTypes.number,\n  draft: PropTypes.number,\n  publish: PropTypes.number,\n});\n\nexport const PageSizePropType = PropTypes.shape({\n  width: PropTypes.number,\n  height: PropTypes.number,\n});\n\nexport const StoryMenuPropType = PropTypes.shape({\n  handleMenuToggle: PropTypes.func.isRequired,\n  contextMenuId: PropTypes.number.isRequired,\n  menuItemActions: PropTypes.shape({\n    default: PropTypes.func.isRequired,\n    ...Object.keys(STORY_CONTEXT_MENU_ACTIONS).reduce(\n      (menuItemActionsShape, menuActionKey) => ({\n        ...menuItemActionsShape,\n        [menuActionKey]: PropTypes.func,\n      }),\n      {}\n    ),\n  }),\n  menuItems: PropTypes.arrayOf(\n    PropTypes.shape({\n      label: PropTypes.string,\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n      url: PropTypes.string,\n    })\n  ),\n});\n\nexport const RenameStoryPropType = PropTypes.shape({\n  handleOnRenameStory: PropTypes.func,\n  id: PropTypes.number,\n  handleCancelRename: PropTypes.func,\n});\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst clamp = (v, range) => {\n  const lowerBound = Math.min(range[0], range[1]);\n  const upperBound = Math.max(range[0], range[1]);\n\n  return Math.min(Math.max(lowerBound, v), upperBound);\n};\n\nexport default clamp;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst groupBy = (arr, key) => {\n  return arr.reduce((prev, curr) => {\n    if (!curr[key]) {\n      return prev;\n    }\n    if (prev[curr[key]]) {\n      prev[curr[key]] = curr;\n    } else {\n      prev[curr[key]] = curr;\n    }\n    return prev;\n  }, {});\n};\n\nexport default groupBy;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport { default as clamp } from './clamp';\nexport { default as titleFormatted } from './titleFormatted';\nexport { default as KeyboardOnlyOutline } from './keyboardOnlyOutline';\nexport { default as useDashboardResultsLabel } from './useDashboardResultsLabel';\nexport {\n  default as usePagePreviewSize,\n  getPosterHeight,\n} from './usePagePreviewSize';\nexport { default as useStoryView } from './useStoryView';\nexport { default as useTemplateView } from './useTemplateView';\nexport { default as uniqueEntriesByKey } from './uniqueEntriesByKey';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// Inspired by https://github.com/moxystudio/js-keyboard-only-outlines/blob/master/src/index.js\n\n/**\n * External dependencies\n */\nimport { useEffect, useState } from '@web-stories-wp/react';\nimport { createGlobalStyle } from 'styled-components';\n\n/**\n * Internal dependencies\n */\nimport { KEYBOARD_USER_CLASS } from '../constants';\n\nexport const OutlineStyles = createGlobalStyle`\n    *:focus {\n        outline: none !important;\n    }\n`;\n\nconst ACCEPTED_KEYS = [\n  'ArrowUp',\n  'ArrowDown',\n  'ArrowLeft',\n  'ArrowRight',\n  'Tab',\n];\n\nconst KeyboardOnlyOutline = () => {\n  const [usingKeyboard, setUsingKeyboard] = useState(false);\n  const handleKeydown = (e) => {\n    if (!usingKeyboard && ACCEPTED_KEYS.includes(e.key)) {\n      setUsingKeyboard(true);\n    }\n  };\n\n  const handleMousedown = () => {\n    if (usingKeyboard) {\n      setUsingKeyboard(false);\n    }\n  };\n\n  document.addEventListener('keydown', handleKeydown);\n  document.addEventListener('mousedown', handleMousedown);\n\n  useEffect(() => {\n    return function cleanup() {\n      document.removeEventListener('keydown', handleKeydown);\n      document.removeEventListener('mousedown', handleMousedown);\n    };\n  });\n\n  useEffect(() => {\n    document.body.classList.toggle(KEYBOARD_USER_CLASS, usingKeyboard);\n  }, [usingKeyboard]);\n\n  return !usingKeyboard ? <OutlineStyles /> : null;\n};\n\nKeyboardOnlyOutline.propTypes = {};\n\nexport default KeyboardOnlyOutline;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\n\nconst titleFormatted = (rawTitle) => {\n  return rawTitle === '' ? __('Untitled', 'web-stories') : rawTitle;\n};\n\nexport default titleFormatted;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * takes an array of entries and returns an array of unique\n * entries based on the supplied key value for each entry\n *\n * @param {Array<Object>} entries array of entries\n * @param {string} key a common key in all entries\n * @return {Array<Object>} an array of unique entries based on provided key\n */\nfunction uniqueEntriesByKey(entries, key) {\n  const map = new Map();\n  entries.forEach((entry) => {\n    map.set(entry[key], entry);\n  });\n  return [...map.values()];\n}\n\nexport default uniqueEntriesByKey;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { sprintf, _n } from '@web-stories-wp/i18n';\nimport { useMemo } from '@web-stories-wp/react';\n\n/**\n * Internal dependencies\n */\nimport { RESULT_LABELS } from '../constants';\n\nexport default function useDashboardResultsLabel({\n  isActiveSearch,\n  currentFilter,\n  totalResults,\n  view,\n}) {\n  const resultsLabel = useMemo(() => {\n    const numResults = totalResults ?? 0;\n    const defaultLabel = RESULT_LABELS[view]?.[currentFilter] || '';\n    const interprettedDefaultLabel =\n      typeof defaultLabel === 'function'\n        ? defaultLabel(numResults)\n        : defaultLabel;\n    return isActiveSearch\n      ? sprintf(\n          /* translators: %s: number of results */\n          _n('%s result', '%s results', numResults, 'web-stories'),\n          sprintf('<strong>%s</strong>', numResults)\n        )\n      : interprettedDefaultLabel;\n  }, [isActiveSearch, totalResults, view, currentFilter]);\n\n  return resultsLabel;\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  useEffect,\n  useMemo,\n  useState,\n  useRef,\n  useDebouncedCallback,\n  useResizeEffect,\n} from '@web-stories-wp/react';\nimport { PAGE_RATIO } from '@web-stories-wp/units';\n\n/**\n * Internal dependencies\n */\nimport {\n  DASHBOARD_LEFT_NAV_WIDTH,\n  MIN_DASHBOARD_WIDTH,\n  WPBODY_ID,\n  VIEWPORT_BREAKPOINT,\n  STORY_PREVIEW_WIDTH,\n  GRID_SPACING,\n  PAGE_WRAPPER,\n} from '../constants';\n\n/**\n * Here we need to calculate height for every pagePreview in use.\n * The height in 2:3 ratio which is consistent with poster sizes that serve as cover images\n *\n * @param {number} width  width of page to base ratios on\n * @return {Object}       heights to use in pagePreviews { fullBleedHeight: Number, storyHeight: Number}\n */\nexport const getPosterHeight = (width) => Math.round(width / PAGE_RATIO);\n\nconst getCurrentBp = (availableContainerSpace) =>\n  availableContainerSpace <= MIN_DASHBOARD_WIDTH\n    ? VIEWPORT_BREAKPOINT.TABLET\n    : VIEWPORT_BREAKPOINT.DESKTOP;\n\n// To determine the size of a story page we take the page size according to min viewport width\n// and then find the remaining width in the given space that the dashboard is showing stories in\n// if the container isn't important to size then respectSetWidth catches it (thumbnails or isn't a grid)\n// otherwise, we're taking the available space we have and finding out how many items in the default size we can fit in a row\n// then we calculate the grid column gutter and the page gutter\n// subtract those values from the availableContainer space to get remaining space\n// divide the remaining space by the itemsInRow\n// attach that extra space to the width\n// get heights for page and container in getPosterHeight\nconst sizeFromWidth = (\n  width,\n  { bp, respectSetWidth, availableContainerSpace }\n) => {\n  if (respectSetWidth) {\n    const height = getPosterHeight(width);\n    return {\n      width,\n      height,\n    };\n  }\n\n  if (bp === VIEWPORT_BREAKPOINT.DESKTOP) {\n    availableContainerSpace -= DASHBOARD_LEFT_NAV_WIDTH;\n  }\n\n  const itemsInRow = Math.floor(availableContainerSpace / width);\n  const columnGapWidth = GRID_SPACING.COLUMN_GAP * (itemsInRow - 1);\n  const pageGutter = PAGE_WRAPPER.GUTTER * 2;\n  const takenSpace = width * itemsInRow + columnGapWidth + pageGutter;\n  const remainingSpace = availableContainerSpace - takenSpace;\n  const addToWidthValue = remainingSpace / itemsInRow;\n\n  const trueWidth = width + addToWidthValue;\n  const height = getPosterHeight(trueWidth);\n\n  return {\n    width: trueWidth,\n    height,\n  };\n};\n\nconst getContainerWidth = (windowWidth) => {\n  // Because the dashboard has a min width (MIN_DASHBOARD_WIDTH) check to see if that min should be used or the actual space of the dashboard\n  const isWindowSmallerThanMinDashboardWidth =\n    window.innerWidth < MIN_DASHBOARD_WIDTH;\n  return isWindowSmallerThanMinDashboardWidth\n    ? MIN_DASHBOARD_WIDTH\n    : windowWidth;\n};\n\nexport default function usePagePreviewSize(options = {}) {\n  const { thumbnailMode = false, isGrid } = options;\n  // When the dashboard is pulled out of wordpress this id will need to be updated.\n  // For now, we need to grab wordpress instead because of how the app's rendered\n  const dashboardContainerRef = useRef(document.getElementById(WPBODY_ID));\n\n  // BP is contingent on the actual window size\n  const [viewportWidth, setViewportWidth] = useState(window.innerWidth);\n\n  const [bp, setBp] = useState(getCurrentBp(viewportWidth));\n\n  const [availableContainerSpace, setAvailableContainerSpace] = useState(\n    getContainerWidth(\n      dashboardContainerRef.current?.offsetWidth || window.innerWidth\n    )\n  );\n\n  const debounceSetViewportWidth = useDebouncedCallback((width) => {\n    setViewportWidth(width);\n  }, 500);\n\n  useEffect(() => {\n    setBp(getCurrentBp(viewportWidth));\n  }, [viewportWidth]);\n\n  useResizeEffect(\n    dashboardContainerRef,\n    ({ width }) => {\n      setAvailableContainerSpace(getContainerWidth(width));\n\n      if (window.innerWidth !== viewportWidth) {\n        debounceSetViewportWidth(window.innerWidth);\n      }\n    },\n    [setAvailableContainerSpace, viewportWidth, debounceSetViewportWidth]\n  );\n\n  return useMemo(\n    () => ({\n      pageSize: sizeFromWidth(\n        STORY_PREVIEW_WIDTH[thumbnailMode ? VIEWPORT_BREAKPOINT.THUMBNAIL : bp],\n        {\n          respectSetWidth: !isGrid || thumbnailMode,\n          availableContainerSpace,\n          bp,\n        }\n      ),\n    }),\n    [bp, isGrid, thumbnailMode, availableContainerSpace]\n  );\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\nimport { trackEvent } from '@web-stories-wp/tracking';\n/**\n * Internal dependencies\n */\nimport { SORT_DIRECTION, STORY_SORT_OPTIONS, VIEW_STYLE } from '../constants';\nimport { PageSizePropType } from '../types';\nimport clamp from './clamp';\nimport usePagePreviewSize from './usePagePreviewSize';\n\nexport default function useStoryView({\n  filters,\n  isLoading = false,\n  totalPages,\n}) {\n  const [viewStyle, setViewStyle] = useState(VIEW_STYLE.GRID);\n  const [sort, _setSort] = useState(STORY_SORT_OPTIONS.LAST_MODIFIED);\n  const [filter, _setFilter] = useState(\n    filters.length > 0 ? filters[0].value : null\n  );\n  const [sortDirection, _setSortDirection] = useState(SORT_DIRECTION.DESC);\n  const [page, setPage] = useState(1);\n  const [searchKeyword, _setSearchKeyword] = useState('');\n  const [authorFilterId, _setAuthorFilterId] = useState(null);\n  const [queriedAuthors, setQueriedAuthors] = useState([]);\n  const showStoriesWhileLoading = useRef(false);\n\n  const { pageSize } = usePagePreviewSize({\n    thumbnailMode: viewStyle === VIEW_STYLE.LIST,\n    isGrid: viewStyle === VIEW_STYLE.GRID,\n  });\n\n  const setPageClamped = useCallback(\n    (newPage) => {\n      const pageRange = [1, totalPages];\n      setPage(clamp(newPage, pageRange));\n    },\n    [totalPages]\n  );\n\n  const setSort = useCallback(\n    (newSort) => {\n      _setSort(newSort);\n      setPageClamped(1);\n    },\n    [setPageClamped]\n  );\n\n  const setFilter = useCallback(\n    (newFilter) => {\n      _setFilter(newFilter);\n      setPageClamped(1);\n    },\n    [setPageClamped]\n  );\n\n  const setSortDirection = useCallback(\n    (newSortDirection) => {\n      if (newSortDirection !== sortDirection) {\n        _setSortDirection(newSortDirection);\n      }\n    },\n    [sortDirection]\n  );\n\n  const toggleViewStyle = useCallback(() => {\n    const newViewStyle =\n      viewStyle === VIEW_STYLE.LIST ? VIEW_STYLE.GRID : VIEW_STYLE.LIST;\n\n    setViewStyle(newViewStyle);\n\n    if (newViewStyle === VIEW_STYLE.LIST) {\n      const newSortDirection =\n        sort === STORY_SORT_OPTIONS.NAME\n          ? SORT_DIRECTION.ASC\n          : SORT_DIRECTION.DESC;\n\n      setSortDirection(newSortDirection);\n    }\n  }, [sort, setSortDirection, viewStyle, setViewStyle]);\n\n  const setSearchKeyword = useCallback(\n    (newSearchKeyword) => {\n      setPageClamped(1);\n      _setSearchKeyword(newSearchKeyword);\n    },\n    [setPageClamped]\n  );\n\n  const requestNextPage = useCallback(() => {\n    showStoriesWhileLoading.current = true;\n    setPageClamped(page + 1);\n  }, [page, setPageClamped]);\n\n  const toggleAuthorFilterId = useCallback(({ id }) => {\n    _setAuthorFilterId((prevFilterId) => (prevFilterId === id ? null : id));\n  }, []);\n\n  useEffect(() => {\n    trackEvent('search', {\n      search_type: 'dashboard_stories',\n      search_term: searchKeyword,\n      search_filter: filter,\n      search_author_filter: authorFilterId,\n      search_order: sortDirection,\n      search_orderby: sort,\n      search_view: viewStyle,\n    });\n  }, [searchKeyword, filter, sortDirection, sort, viewStyle, authorFilterId]);\n\n  useEffect(() => {\n    // reset ref state after request is finished\n    if (!isLoading) {\n      showStoriesWhileLoading.current = false;\n    }\n  }, [isLoading]);\n\n  return useMemo(\n    () => ({\n      view: {\n        style: viewStyle,\n        toggleStyle: toggleViewStyle,\n        pageSize,\n      },\n      sort: {\n        value: sort,\n        direction: sortDirection,\n        set: setSort,\n        setDirection: setSortDirection,\n      },\n      filter: {\n        value: filter,\n        set: setFilter,\n      },\n      page: {\n        value: page,\n        set: setPage,\n        requestNextPage,\n      },\n      search: {\n        keyword: searchKeyword,\n        setKeyword: setSearchKeyword,\n      },\n      author: {\n        filterId: authorFilterId,\n        toggleFilterId: toggleAuthorFilterId,\n        queriedAuthors,\n        setQueriedAuthors,\n      },\n      showStoriesWhileLoading,\n    }),\n    [\n      viewStyle,\n      toggleViewStyle,\n      pageSize,\n      sort,\n      setSort,\n      sortDirection,\n      setSortDirection,\n      filter,\n      setFilter,\n      page,\n      requestNextPage,\n      searchKeyword,\n      setSearchKeyword,\n      authorFilterId,\n      toggleAuthorFilterId,\n      queriedAuthors,\n      setQueriedAuthors,\n    ]\n  );\n}\n\nexport const ViewPropTypes = PropTypes.shape({\n  style: PropTypes.oneOf(Object.values(VIEW_STYLE)),\n  toggleStyle: PropTypes.func,\n  pageSize: PageSizePropType,\n});\n\nexport const AuthorPropTypes = PropTypes.shape({\n  filterId: PropTypes.number,\n  toggleFilterId: PropTypes.func,\n  queriedAuthors: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n    })\n  ).isRequired,\n  setQueriedAuthors: PropTypes.func,\n});\n\nexport const FilterPropTypes = PropTypes.shape({\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  set: PropTypes.func,\n});\n\nexport const SortPropTypes = PropTypes.shape({\n  value: PropTypes.oneOf(Object.values(STORY_SORT_OPTIONS)),\n  set: PropTypes.func,\n  direction: PropTypes.oneOf(Object.values(SORT_DIRECTION)),\n  setDirection: PropTypes.func,\n});\n\nexport const PagePropTypes = PropTypes.shape({\n  value: PropTypes.number,\n  set: PropTypes.func,\n  requestNextPage: PropTypes.func,\n});\n\nexport const SearchPropTypes = PropTypes.shape({\n  keyword: PropTypes.string,\n  setKeyword: PropTypes.func,\n});\n\nexport const ShowStoriesWhileLoadingPropType = PropTypes.shape({\n  current: PropTypes.bool,\n});\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useMemo, useState } from '@web-stories-wp/react';\nimport PropTypes from 'prop-types';\n/**\n * Internal dependencies\n */\nimport {\n  TEMPLATES_GALLERY_SORT_OPTIONS,\n  TEMPLATES_GALLERY_STATUS,\n  VIEW_STYLE,\n} from '../constants';\nimport { PageSizePropType } from '../types';\nimport clamp from './clamp';\nimport usePagePreviewSize from './usePagePreviewSize';\n\nexport default function useTemplateView({ totalPages }) {\n  const [searchKeyword, _setSearchKeyword] = useState('');\n  const [sort, _setSort] = useState(TEMPLATES_GALLERY_SORT_OPTIONS.POPULAR);\n  const [page, setPage] = useState(1);\n\n  const { pageSize } = usePagePreviewSize({\n    isGrid: true,\n  });\n\n  const setPageClamped = useCallback(\n    (newPage) => {\n      const pageRange = [1, totalPages];\n      setPage(clamp(newPage, pageRange));\n    },\n    [totalPages]\n  );\n  const requestNextPage = useCallback(\n    () => setPageClamped(page + 1),\n    [page, setPageClamped]\n  );\n\n  const setSort = useCallback(\n    (newSort) => {\n      _setSort(newSort);\n      setPageClamped(1);\n    },\n    [setPageClamped]\n  );\n\n  const setSearchKeyword = useCallback(\n    (newSearchKeyword) => {\n      setPageClamped(1);\n      _setSearchKeyword(newSearchKeyword);\n    },\n    [setPageClamped]\n  );\n\n  return useMemo(\n    () => ({\n      view: {\n        style: VIEW_STYLE.GRID,\n        pageSize,\n      },\n      sort: {\n        value: sort,\n        set: setSort,\n      },\n      filter: {\n        value: TEMPLATES_GALLERY_STATUS.ALL,\n        set: () => {},\n      },\n      page: {\n        value: page,\n        set: setPage,\n        requestNextPage,\n      },\n      search: {\n        keyword: searchKeyword,\n        setKeyword: setSearchKeyword,\n      },\n    }),\n    [\n      pageSize,\n      sort,\n      setSort,\n      page,\n      requestNextPage,\n      searchKeyword,\n      setSearchKeyword,\n    ]\n  );\n}\n\nexport const ViewPropTypes = PropTypes.shape({\n  style: PropTypes.oneOf(Object.values(VIEW_STYLE)),\n  pageSize: PageSizePropType,\n});\n\nexport const FilterPropTypes = PropTypes.shape({\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  set: PropTypes.func,\n});\n\nexport const PagePropTypes = PropTypes.shape({\n  value: PropTypes.number,\n  set: PropTypes.func,\n  requestNextPage: PropTypes.func,\n});\n\nexport const SearchPropTypes = PropTypes.shape({\n  keyword: PropTypes.string,\n  setKeyword: PropTypes.func,\n});\n\nexport const SortPropTypes = PropTypes.shape({\n  value: PropTypes.oneOf(Object.values(TEMPLATES_GALLERY_SORT_OPTIONS)),\n  set: PropTypes.func,\n});\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Deep merge objects.\n *\n * @param {Object} object object to override.\n * @param {Object} source Source object.\n * @return {Object} Merged object.\n */\nexport default function deepMerge(object, source = {}) {\n  Object.entries(source).forEach(([key, value]) => {\n    if (value && 'object' === typeof value && !Array.isArray(value)) {\n      if (!object[key]) {\n        Object.assign(object, { [key]: {} });\n      }\n      deepMerge(object[key], value);\n    } else {\n      Object.assign(object, { [key]: value });\n    }\n  });\n\n  return object;\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport Dashboard, { InterfaceSkeleton } from '@web-stories-wp/dashboard';\nimport styled from 'styled-components';\nimport { render } from '@web-stories-wp/react';\nimport { createSolidFromString } from '@web-stories-wp/patterns';\nimport axios from 'axios';\n\n/**\n * Internal dependencies\n */\nimport { GlobalStyle } from './theme';\nimport deepMerge from './deepMerge';\nconst AppContainer = styled.div`\n  height: 100vh;\n`;\n\n// @todo Cleanup config and use a default configuration inside core dashboard package.\nconst initialize = (id, config) => {\n  const appElement = document.getElementById(id);\n  render(\n    <AppContainer>\n      <Dashboard config={config}>\n        <GlobalStyle />\n        <InterfaceSkeleton />\n      </Dashboard>\n    </AppContainer>,\n    appElement\n  );\n};\nconst initializeWithConfig = () => {\n  const apiCallbacksNames = [\n    'createStoryFromTemplate',\n    'duplicateStory',\n    'fetchStories',\n    'getAuthors',\n    'trashStory',\n    'updateStory',\n  ];\n  const globalConfig = window.dashboardSettings.config;\n  // @todo Callbacks should be optional.\n  const apiCallbacks = apiCallbacksNames.reduce((callbacks, name) => {\n    let response;\n\n    switch (name) {\n      case 'getAuthors':\n        response = [];\n        break;\n      default:\n        response = {};\n    }\n    if ('fetchStories' === name) {\n      callbacks[name] = async () => {\n        const { data } = await axios({\n          method: 'GET',\n          url: globalConfig.api.fetchStories,\n          headers: {\n            Authorization: 'Bearer ' + globalConfig.token,\n          },\n        });\n        return data;\n      };\n    } else if ('duplicateStory' === name) {\n      callbacks[name] = async (story) => {\n        const { data } = await axios({\n          method: 'POST',\n          url: globalConfig.api.duplicateStory,\n          data: {\n            id: story.id,\n            currentUserId: globalConfig.userId\n          },\n          headers: {\n            Authorization: 'Bearer ' + globalConfig.token,\n          },\n        });\n        return data;\n      };\n    } else if ('updateStory' === name) {\n      callbacks[name] = async (story) => {\n        const { data } = await axios({\n          method: 'POST',\n          url: globalConfig.api.updateStory,\n          data: {\n            id: story.id,\n            title: story.title?.raw || story.title,\n          },\n          headers: {\n            Authorization: 'Bearer ' + globalConfig.token,\n          },\n        });\n        return data;\n      };\n    } else if ('trashStory' === name) {\n      callbacks[name] = async (storyId) => {\n        const { data } = await axios({\n          method: 'POST',\n          url: globalConfig.api.trashStory,\n          data: {\n            id: storyId,\n          },\n          headers: {\n            Authorization: 'Bearer ' + globalConfig.token,\n          },\n        });\n        return data;\n      };\n    } else if ('createStoryFromTemplate' === name) {\n      callbacks[name] = async (template) => {\n        const { createdBy, pages, version, colors } = template;\n        const { getStoryPropsToSave } = await import(\n          /* webpackChunkName: \"chunk-getStoryPropsToSave\" */ '@web-stories-wp/story-editor'\n        );\n        const storyPropsToSave = await getStoryPropsToSave({\n          story: {\n            status: -1,\n            featuredMedia: {\n              id: 0,\n            },\n          },\n          pages,\n          metadata: {\n            publisher: createdBy,\n          },\n        });\n        const convertedColors = colors.map(({ color }) =>\n          createSolidFromString(color)\n        );\n        const storyData = {\n          pages,\n          version,\n          autoAdvance: true,\n          defaultPageDuration: 7,\n          currentStoryStyles: {\n            colors: convertedColors,\n          },\n        };\n        const { data } = await axios({\n          method: 'POST',\n          url: globalConfig.api.createStoryFromTemplate,\n          data: {\n            ...storyPropsToSave,\n            storyData,\n          },\n          headers: {\n            Authorization: 'Bearer ' + globalConfig.token,\n          },\n        });\n        return data;\n      };\n    } else {\n      callbacks[name] = () => Promise.resolve(response);\n    }\n    return callbacks;\n  }, {});\n  const config = {\n    apiCallbacks,\n  };\n  const finalConfig = deepMerge(config, globalConfig);\n  initialize('web-stories-dashboard', finalConfig);\n};\nif ('loading' === document.readyState) {\n  document.addEventListener('DOMContentLoaded', initializeWithConfig);\n} else {\n  initializeWithConfig();\n}\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { createGlobalStyle } from 'styled-components';\nimport { themeHelpers } from '@web-stories-wp/design-system';\n\nexport const GlobalStyle = createGlobalStyle`\n  body.web-story_page_stories-dashboard #wpbody {\n    ${themeHelpers.scrollbarCSS};\n  }\n`;\n"],"sourceRoot":""}