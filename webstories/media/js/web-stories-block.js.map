{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/classnames/index.js","webpack:///./node_modules/glider-js/glider.css?541e","webpack:///./node_modules/glider-js/glider.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/prop-types/checkPropTypes.js","webpack:///./node_modules/prop-types/factoryWithTypeCheckers.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./node_modules/prop-types/node_modules/react-is/cjs/react-is.development.js","webpack:///./node_modules/prop-types/node_modules/react-is/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./packages/glider/src/index.js","webpack:///./packages/stories-block/node_modules/@wordpress/icons/build-module/library/@wordpress/icons/src/library/keyboard-return.js","webpack:///./packages/stories-block/src/block/block-types/latest-stories/edit.js","webpack:///./packages/stories-block/src/block/block-types/selected-stories/edit.js","webpack:///./packages/stories-block/src/block/block-types/selected-stories/embedPlaceholder.js","webpack:///./packages/stories-block/src/block/block-types/single-story/edit.css?e4dd","webpack:///./packages/stories-block/src/block/block-types/single-story/edit.js","webpack:///./packages/stories-block/src/block/block-types/single-story/embedControls.js","webpack:///./packages/stories-block/src/block/block-types/single-story/embedLoading.js","webpack:///./packages/stories-block/src/block/block-types/single-story/embedPlaceholder.js","webpack:///./packages/stories-block/src/block/block-types/single-story/embedPreview.js","webpack:///./packages/stories-block/src/block/block-types/single-story/insertFromURLPopover.js","webpack:///./packages/stories-block/src/block/block-types/single-story/storyPlayer.js","webpack:///./packages/stories-block/src/block/block.js","webpack:///./packages/stories-block/src/block/components/authorSelection.js","webpack:///./packages/stories-block/src/block/components/autocomplete.js","webpack:///./packages/stories-block/src/block/components/blockTypeSwitcher.js","webpack:///./packages/stories-block/src/block/components/loaderContainer.js","webpack:///./packages/stories-block/src/block/components/storiesBlockConfigurationPanel.js","webpack:///./packages/stories-block/src/block/components/storiesBlockControls.js","webpack:///./packages/stories-block/src/block/components/storiesInspectorControls.js","webpack:///./packages/stories-block/src/block/components/storiesLoading.js","webpack:///./packages/stories-block/src/block/components/storiesPreview.js","webpack:///./packages/stories-block/src/block/components/storyCard.js","webpack:///./packages/stories-block/src/block/components/storyPicker/fetchSelectedStories.js","webpack:///./packages/stories-block/src/block/components/storyPicker/itemOverlay.js","webpack:///./packages/stories-block/src/block/components/storyPicker/selectStories.js","webpack:///./packages/stories-block/src/block/components/storyPicker/sortStories.js","webpack:///./packages/stories-block/src/block/components/storyPicker/storyPicker.js","webpack:///./packages/stories-block/src/block/components/storyPicker/storyPreview.js","webpack:///./packages/stories-block/src/block/constants.js","webpack:///./packages/stories-block/src/block/deprecated.js","webpack:///./packages/stories-block/src/block/edit.css?09b0","webpack:///./packages/stories-block/src/block/edit.js","webpack:///./packages/stories-block/src/block/hooks/useDebounce.js","webpack:///./packages/stories-block/src/block/hooks/useThrottle.js","webpack:///./packages/stories-block/src/block/icons.js","webpack:///./packages/stories-block/src/block/icons/block-type/embed-story-block.svg","webpack:///./packages/stories-block/src/block/icons/block-type/latest-stories-block.svg","webpack:///./packages/stories-block/src/block/icons/block-type/selected-stories-block.svg","webpack:///./packages/stories-block/src/block/icons/config-panel/box-carousel-view-panel-icon.svg","webpack:///./packages/stories-block/src/block/icons/config-panel/grid-view-panel-icon.svg","webpack:///./packages/stories-block/src/block/icons/config-panel/list-view-panel-icon.svg","webpack:///./packages/stories-block/src/block/icons/view-type/box-carousel-view.svg","webpack:///./packages/stories-block/src/block/icons/view-type/grid-view.svg","webpack:///./packages/stories-block/src/block/icons/view-type/list-view.svg","webpack:///./packages/stories-block/src/block/images/config-panel/circles-carousel-view-panel-icon.svg","webpack:///./packages/stories-block/src/block/images/view-type/circles-carousel-view.svg","webpack:///./packages/stories-block/src/block/index.js","webpack:///./packages/stories-block/src/block/save.js","webpack:///./packages/stories-block/src/block/transforms.js","webpack:///./packages/stories-block/src/index.js","webpack:///./packages/tracking/src/constants.js","webpack:///./packages/tracking/src/disableTracking.js","webpack:///./packages/tracking/src/enableTracking.js","webpack:///./packages/tracking/src/getTimeTracker.js","webpack:///./packages/tracking/src/index.js","webpack:///./packages/tracking/src/initializeErrorReporting.js","webpack:///./packages/tracking/src/initializeTracking.js","webpack:///./packages/tracking/src/isTrackingEnabled.js","webpack:///./packages/tracking/src/shared.js","webpack:///./packages/tracking/src/track.js","webpack:///./packages/tracking/src/trackClick.js","webpack:///./packages/tracking/src/trackError.js","webpack:///./packages/tracking/src/trackEvent.js","webpack:///./packages/tracking/src/trackScreenView.js","webpack:///./packages/tracking/src/trackTiming.js","webpack:///external [\"wp\",\"apiFetch\"]","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"compose\"]","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"date\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"primitives\"]","webpack:///external [\"wp\",\"url\"]","webpack:///external [\"wp\",\"viewport\"]","webpack:///external \"lodash\"","webpack:///external \"React\""],"names":["Glider","prototype","scrollItem","slide","dot","e","undefined","target","preventDefault","opt","slidesToScroll","Math","max","slidesToShow","itemWidth","Infinity","carouselWrapper","parentElement","querySelector","itemStyle","window","getComputedStyle","parseFloat","width","marginLeft","marginRight","originalSlide","animate_id","containerWidth","round","backwards","getCurrentSlide","isNaN","rewind","scrollLeft","ele","slides","length","floor","trackWidth","min","scrollTo","duration","abs","updateControls","emit","value","type","keyboardReturn","config","api","stories","storiesApi","webStoriesBlockSettings","LatestStoriesEdit","attributes","setAttributes","numOfStories","order","orderby","archiveLinkLabel","authors","fetchedStories","setFetchedStories","useState","isFetchingStories","setIsFetchingStories","fetchStories","useCallback","query","apiFetch","path","addQueryArgs","per_page","_embed","author","Array","isArray","err","debouncedFetchStories","useDebounce","useEffect","viewAllLabel","__","storiesToDisplay","slice","Boolean","post_type","propTypes","PropTypes","shape","blockType","string","align","viewType","number","numOfColumns","array","circleSize","fieldState","object","func","isRequired","SelectedStoriesEdit","icon","isSelected","isEditing","selectedStoryIds","setSelectedStoryIds","selectedStories","_setSelectedStories","isFetching","setIsFetching","label","toString","setSelectedStories","newStories","map","story","id","node","bool","maxNumOfStories","EmbedPlaceholder","isStoryPickerOpen","setIsStoryPickerOpen","isSortingStories","setIsSortingStories","openStoryPicker","closeStoryPicker","openStoryRearrangeWindow","ToolbarButton","MIN_SIZE","StoryEmbedEdit","className","_isResizable","url","outerURL","height","poster","title","editingURL","setEditingURL","localURL","setLocalURL","isFetchingData","setIsFetchingData","storyData","setStoryData","cannotEmbed","setCannotEmbed","showLoadingIndicator","showPlaceholder","isResizable","compose","ref","useRef","trackEvent","current","global","AmpStoryPlayer","player","load","fetchStoryData","urlToEmbed","encodeURIComponent","URL","data","TypeError","newStory","link","rendered","_embedded","source_url","onSubmit","switchBackToURLInput","isRTL","maxWidth","useSelect","select","getSettings","settings","toggleSelection","useDispatch","onResizeStart","onResizeStop","message","ratio","minWidth","minHeight","ceil","showRightHandle","showLeftHandle","top","right","bottom","left","event","direction","elt","delta","parseInt","withViewportMatch","POSTER_ALLOWED_MEDIA_TYPES","EmbedControls","props","maxHeight","instanceId","useInstanceId","posterDescription","posterImageButton","createRef","onSelectPoster","image","onRemovePoster","focus","hasPoster","open","sprintf","EmbedLoading","errorMessage","setUrl","isURLInputVisible","setIsURLInputVisible","openURLInput","closeURLInput","onChangeUrl","onSubmitUrl","hasStories","defaultProps","EmbedPreview","interactive","setInteractive","hideOverlay","EmbedPreviewWithRef","forwardRef","InsertFromURLPopover","onChange","onClose","StoryPlayer","StoryPlayerWithRef","metadata","AuthorSelection","authorIds","isInitialized","setIsInitialized","authorsList","setAuthorsList","authorSuggestions","setAuthorSuggestions","include","join","then","users","name","catch","finally","tokens","token","find","filter","onInputChange","search","debouncedOnInputChange","Autocomplete","placeholder","options","BlockTypeSwitcher","selectedBlockType","ToolbarComponent","ToolbarGroup","Toolbar","ToolbarItem","toolbarItemHTMLProps","BLOCK_TYPES","onClick","LoaderContainer","children","BlockConfigurationPanel","instructions","selectionOptions","selectionType","option","panelIcon","description","StoriesBlockControls","BLOCK_TYPE_URL","VIEW_TYPES","view","fieldStates","archiveURL","StoriesInspectorControls","imageAlignment","showFilters","firstUpdate","defaultState","Object","entries","field","fieldObj","show","keys","ArchiveLink","handleToggleControl","hidden","newLabel","CIRCLES_VIEW_TYPE","GRID_VIEW_TYPE","LIST_VIEW_TYPE","includes","updatedNumOfColumns","updatedcircleSize","selection","updatedNumOfStories","StoriesLoading","StoriesPreview","carouselContainer","carouselNext","carouselPrev","blockClasses","classNames","CAROUSEL_VIEW_TYPE","StoriesLoop","excerpt","date_gmt","storyItem","instance","skipTrack","scrollLock","arrows","prev","next","resize","track","style","StoryCard","date","isShowingAuthor","isShowingDate","isShowingTitle","isShowingExcerpt","singleStoryClasses","hasContentOverlay","dateFormat","__experimentalGetSettings","formats","format","dateI18n","FetchSelectedStories","createErrorNotice","response","context","error","ItemOverlay","addSelectedStory","removeSelectedStory","onClickOverlay","onClickIcon","SORT_OPTIONS","AuthorSearch","onFilterValueChange","ComboboxControl","KeywordSearch","SelectStories","hasAllStories","isLoading","currentAuthor","setCurrentAuthor","searchKeyword","setSearchKeyword","authorKeyword","setAuthorKeyword","setOrder","orderBy","setOrderBy","nextPage","getAuthors","fetchSelectedStories","page","onLoadMoreClick","debouncedTypeaheadChange","debouncedTypeaheadAuthorChange","Number","handleAuthorChange","onSortChange","newSort","authorSearchOptions","useMemo","trim","storiesSearchOptions","_story","SortStories","droppingToIndex","setDroppingToIndex","draggedElementId","setDraggedElementId","rearrangeStories","oldIndex","newIndex","newList","splice","pop","storyId","throttledOnDragOver","useThrottle","currentTarget","classList","add","targetElementRect","getBoundingClientRect","isDraggingOnRightSide","clientX","x","remove","dropIndex","dataset","index","cancel","targetElement","closest","stopPropagation","findIndex","onDraggableStart","onDraggableEnd","handleOnDragStart","handleOnDragEnd","StoryPicker","localSelectedStories","setLocalSelectedStories","isFetchingForFirstTime","setIsFetchingForFirstTime","loadingState","setLoadingState","setStories","setHasAllStories","saveChanges","_web_stories_envelope","status","totalPages","headers","existingStories","body","_n","noop","StoryPreview","displayDate","created","displayDateText","BLOCK_TYPE_LATEST_STORIES","BLOCK_TYPE_SELECTED_STORIES","LATEST_STORIES_BLOCK_ICON","SELECTED_STORIES_BLOCK_ICON","EMBED_STORY_BLOCK_ICON","CAROUSEL_VIEW_TYPE_ICON","BOX_CAROUSEL_CONFIG_ICON","CIRCLES_VIEW_TYPE_ICON","CIRCLE_CAROUSEL_CONFIG_ICON","GRID_VIEW_TYPE_ICON","GRID_VIEW_CONFIG_ICON","LIST_VIEW_TYPE_ICON","LIST_VIEW_CONFIG_ICON","blockAttributes","default","save","v1","v2","migrate","attrs","saveV2","isEligible","deprecated","WebStoriesEdit","fn","wait","debounced","debounce","throttled","throttle","BlockIcon","category","keywords","supports","example","numberOfColumns","edit","transforms","from","tag","shortcode","named","priority","archive_link_label","columns","circle_size","archive_link","image_align","show_archive_link","show_author","show_date","show_excerpt","show_image_align","show_title","blocks","isMatch","idBase","raw","transform","image_alignment","number_of_columns","number_of_stories","view_type","sharp_corners","show_sharp_corners","show_image_alignment","transformedBlock","createBlock","replace","toLowerCase","content","registerBlockType","initializeTracking","DATA_LAYER","disableTracking","trackingEnabled","SCRIPT_IDENTIFIER","loadScriptTag","Promise","resolve","reject","script","document","createElement","setAttribute","async","src","addEventListener","head","appendChild","loadTrackingScript","sendPageView","trackingId","pageTitle","appName","pagePath","gtag","Date","custom_map","dimension1","dimension2","dimension3","dimension4","dimension5","dimension6","dimension7","dimension8","dimension9","dimension10","dimension11","dimension12","dimension13","dimension14","dimension15","dimension16","userProperties","anonymize_ip","app_name","app_version","appVersion","send_page_view","transport_type","page_title","page_path","trackingIdGA4","enableTracking","trackingAllowed","getTimeTracker","eventName","before","performance","now","after","send_to","IGNORED_ERROR_MESSAGES","handleErrors","filename","lineno","colno","trackError","handleUncaughtPromises","reason","initializeErrorReporting","isTrackingEnabled","push","arguments","DEFAULT_CONFIG","webStoriesTrackingSettings","eventData","failTimeout","setTimeout","console","warn","event_callback","clearTimeout","trackClick","openLinkInNewTab","ctrlKey","shiftKey","metaKey","which","location","href","prefix","fatal","eventParameters","gtagEventParameters","search_type","title_length","unread_count","rest","event_label","values","trackScreenView","screenName","screen_name","trackTiming","time","event_category"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA,KAAK,KAA6B;AAClC;AACA;AACA,EAAE,UAAU,IAA4E;AACxF;AACA,EAAE,iCAAqB,EAAE,mCAAE;AAC3B;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAEN;AACF,CAAC;;;;;;;;;;;;;ACzDD;AAAA;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,EAAE,KAA0C;AAC5C,MAAM,oCAAO,OAAO;AAAA;AAAA;AAAA;AAAA,oGAAC;AACrB,MAAM,SAEW;AACjB,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA,mBAAmB,qDAAqD;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oCAAoC,uBAAuB;AAC3D,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,OAAO;AACP,KAAK;AACL,+BAA+B;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,CAAC;;;;;;;;;;;;;AC9jBD;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,yFAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;;AAEA;;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,0EAAU;AAChC,aAAa,mBAAO,CAAC,4DAAe;;AAEpC,2BAA2B,mBAAO,CAAC,yFAA4B;AAC/D,qBAAqB,mBAAO,CAAC,qEAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,KAAqC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,SAAM;AAC7I;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC,gBAAgB,mBAAO,CAAC,0EAAU;;AAElC;AACA;AACA;AACA,mBAAmB,mBAAO,CAAC,uFAA2B;AACtD,CAAC,MAAM,EAIN;;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;;;AAIb,IAAI,IAAqC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E;AAC1E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA,iDAAiD;;AAEjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACpLa;;AAEb,IAAI,KAAqC,EAAE,EAE1C;AACD,mBAAmB,mBAAO,CAAC,kHAA+B;AAC1D;;;;;;;;;;;;ACNA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAA,gDAAM,CAACC,SAAP,CAAiBC,UAAjB,GAA8B,UAAUC,KAAV,EAAiBC,GAAjB,EAAsBC,CAAtB,EAAyB;AAAA;;AACrD;AACA,MAAIA,CAAC,KAAKC,SAAN,YAAmBF,GAAnB,iCAAmB,KAAKG,MAA5B,EAAoC;AAClCF,KAAC,GAAGD,GAAJ;A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","file":"web-stories-block.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../media/com_webstories/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nexport {};","/* @preserve\n    _____ __ _     __                _\n   / ___// /(_)___/ /___  ____      (_)___\n  / (_ // // // _  // -_)/ __/_    / /(_-<\n  \\___//_//_/ \\_,_/ \\__//_/  (_)__/ //___/\n                              |___/\n\n  Version: 1.7.4\n  Author: Nick Piscitelli (pickykneee)\n  Website: https://nickpiscitelli.com\n  Documentation: http://nickpiscitelli.github.io/Glider.js\n  License: MIT License\n  Release Date: October 25th, 2018\n\n*/\n\n/* global define */\n\n(function (factory) {\n  typeof define === 'function' && define.amd\n    ? define(factory)\n    : typeof exports === 'object'\n      ? (module.exports = factory())\n      : factory()\n})(function () {\n  ('use strict') // eslint-disable-line no-unused-expressions\n\n  /* globals window:true */\n  var _window = typeof window !== 'undefined' ? window : this\n\n  var Glider = (_window.Glider = function (element, settings) {\n    var _ = this\n\n    if (element._glider) return element._glider\n\n    _.ele = element\n    _.ele.classList.add('glider')\n\n    // expose glider object to its DOM element\n    _.ele._glider = _\n\n    // merge user setting with defaults\n    _.opt = Object.assign(\n      {},\n      {\n        slidesToScroll: 1,\n        slidesToShow: 1,\n        resizeLock: true,\n        duration: 0.5,\n        // easeInQuad\n        easing: function (x, t, b, c, d) {\n          return c * (t /= d) * t + b\n        }\n      },\n      settings\n    )\n\n    // set defaults\n    _.animate_id = _.page = _.slide = 0\n    _.arrows = {}\n\n    // preserve original options to\n    // extend breakpoint settings\n    _._opt = _.opt\n\n    if (_.opt.skipTrack) {\n      // first and only child is the track\n      _.track = _.ele.children[0]\n    } else {\n      // create track and wrap slides\n      _.track = document.createElement('div')\n      _.ele.appendChild(_.track)\n      while (_.ele.children.length !== 1) {\n        _.track.appendChild(_.ele.children[0])\n      }\n    }\n\n    _.track.classList.add('glider-track')\n\n    // start glider\n    _.init()\n\n    // set events\n    _.resize = _.init.bind(_, true)\n    _.event(_.ele, 'add', {\n      scroll: _.updateControls.bind(_)\n    })\n    _.event(_window, 'add', {\n      resize: _.resize\n    })\n  })\n\n  var gliderPrototype = Glider.prototype\n  gliderPrototype.init = function (refresh, paging) {\n    var _ = this\n\n    var width = 0\n\n    var height = 0\n\n    _.slides = _.track.children;\n\n    [].forEach.call(_.slides, function (_, i) {\n      _.classList.add('glider-slide')\n      _.setAttribute('data-gslide', i)\n    })\n\n    _.containerWidth = _.ele.clientWidth\n\n    var breakpointChanged = _.settingsBreakpoint()\n    if (!paging) paging = breakpointChanged\n\n    if (\n      _.opt.slidesToShow === 'auto' ||\n      typeof _.opt._autoSlide !== 'undefined'\n    ) {\n      var slideCount = _.containerWidth / _.opt.itemWidth\n\n      _.opt._autoSlide = _.opt.slidesToShow = _.opt.exactWidth\n        ? slideCount\n        : Math.max(1, Math.floor(slideCount))\n    }\n    if (_.opt.slidesToScroll === 'auto') {\n      _.opt.slidesToScroll = Math.floor(_.opt.slidesToShow)\n    }\n\n    _.itemWidth = _.opt.exactWidth\n      ? _.opt.itemWidth\n      : _.containerWidth / _.opt.slidesToShow;\n\n    // set slide dimensions\n    [].forEach.call(_.slides, function (__) {\n      __.style.height = 'auto'\n      __.style.width = _.itemWidth + 'px'\n      width += _.itemWidth\n      height = Math.max(__.offsetHeight, height)\n    })\n\n    _.track.style.width = width + 'px'\n    _.trackWidth = width\n    _.isDrag = false\n    _.preventClick = false\n\n    _.opt.resizeLock && _.scrollTo(_.slide * _.itemWidth, 0)\n\n    if (breakpointChanged || paging) {\n      _.bindArrows()\n      _.buildDots()\n      _.bindDrag()\n    }\n\n    _.updateControls()\n\n    _.emit(refresh ? 'refresh' : 'loaded')\n  }\n\n  gliderPrototype.bindDrag = function () {\n    var _ = this\n    _.mouse = _.mouse || _.handleMouse.bind(_)\n\n    var mouseup = function () {\n      _.mouseDown = undefined\n      _.ele.classList.remove('drag')\n      if (_.isDrag) {\n        _.preventClick = true\n      }\n      _.isDrag = false\n    }\n\n    var events = {\n      mouseup: mouseup,\n      mouseleave: mouseup,\n      mousedown: function (e) {\n        e.preventDefault()\n        e.stopPropagation()\n        _.mouseDown = e.clientX\n        _.ele.classList.add('drag')\n      },\n      mousemove: _.mouse,\n      click: function (e) {\n        if (_.preventClick) {\n          e.preventDefault()\n          e.stopPropagation()\n        }\n        _.preventClick = false\n      }\n    }\n\n    _.ele.classList.toggle('draggable', _.opt.draggable === true)\n    _.event(_.ele, 'remove', events)\n    if (_.opt.draggable) _.event(_.ele, 'add', events)\n  }\n\n  gliderPrototype.buildDots = function () {\n    var _ = this\n\n    if (!_.opt.dots) {\n      if (_.dots) _.dots.innerHTML = ''\n      return\n    }\n\n    if (typeof _.opt.dots === 'string') {\n      _.dots = document.querySelector(_.opt.dots)\n    } else _.dots = _.opt.dots\n    if (!_.dots) return\n\n    _.dots.innerHTML = ''\n    _.dots.classList.add('glider-dots')\n\n    for (var i = 0; i < Math.ceil(_.slides.length / _.opt.slidesToShow); ++i) {\n      var dot = document.createElement('button')\n      dot.dataset.index = i\n      dot.setAttribute('aria-label', 'Page ' + (i + 1))\n      dot.setAttribute('role', 'tab')\n      dot.className = 'glider-dot ' + (i ? '' : 'active')\n      _.event(dot, 'add', {\n        click: _.scrollItem.bind(_, i, true)\n      })\n      _.dots.appendChild(dot)\n    }\n  }\n\n  gliderPrototype.bindArrows = function () {\n    var _ = this\n    if (!_.opt.arrows) {\n      Object.keys(_.arrows).forEach(function (direction) {\n        var element = _.arrows[direction]\n        _.event(element, 'remove', { click: element._func })\n      })\n      return\n    }\n    ['prev', 'next'].forEach(function (direction) {\n      var arrow = _.opt.arrows[direction]\n      if (arrow) {\n        if (typeof arrow === 'string') arrow = document.querySelector(arrow)\n        if (arrow) {\n          arrow._func = arrow._func || _.scrollItem.bind(_, direction)\n          _.event(arrow, 'remove', {\n            click: arrow._func\n          })\n          _.event(arrow, 'add', {\n            click: arrow._func\n          })\n          _.arrows[direction] = arrow\n        }\n      }\n    })\n  }\n\n  gliderPrototype.updateControls = function (event) {\n    var _ = this\n\n    if (event && !_.opt.scrollPropagate) {\n      event.stopPropagation()\n    }\n\n    var disableArrows = _.containerWidth >= _.trackWidth\n\n    if (!_.opt.rewind) {\n      if (_.arrows.prev) {\n        _.arrows.prev.classList.toggle(\n          'disabled',\n          _.ele.scrollLeft <= 0 || disableArrows\n        )\n        _.arrows.prev.classList.contains('disabled')\n          ? _.arrows.prev.setAttribute('aria-disabled', true)\n          : _.arrows.prev.setAttribute('aria-disabled', false)\n      }\n      if (_.arrows.next) {\n        _.arrows.next.classList.toggle(\n          'disabled',\n          Math.ceil(_.ele.scrollLeft + _.containerWidth) >=\n            Math.floor(_.trackWidth) || disableArrows\n        )\n        _.arrows.next.classList.contains('disabled')\n          ? _.arrows.next.setAttribute('aria-disabled', true)\n          : _.arrows.next.setAttribute('aria-disabled', false)\n      }\n    }\n\n    _.slide = Math.round(_.ele.scrollLeft / _.itemWidth)\n    _.page = Math.round(_.ele.scrollLeft / _.containerWidth)\n\n    var middle = _.slide + Math.floor(Math.floor(_.opt.slidesToShow) / 2)\n\n    var extraMiddle = Math.floor(_.opt.slidesToShow) % 2 ? 0 : middle + 1\n    if (Math.floor(_.opt.slidesToShow) === 1) {\n      extraMiddle = 0\n    }\n\n    // the last page may be less than one half of a normal page width so\n    // the page is rounded down. when at the end, force the page to turn\n    if (_.ele.scrollLeft + _.containerWidth >= Math.floor(_.trackWidth)) {\n      _.page = _.dots ? _.dots.children.length - 1 : 0\n    }\n\n    [].forEach.call(_.slides, function (slide, index) {\n      var slideClasses = slide.classList\n\n      var wasVisible = slideClasses.contains('visible')\n\n      var start = _.ele.scrollLeft\n\n      var end = _.ele.scrollLeft + _.containerWidth\n\n      var itemStart = _.itemWidth * index\n\n      var itemEnd = itemStart + _.itemWidth;\n\n      [].forEach.call(slideClasses, function (className) {\n        /^left|right/.test(className) && slideClasses.remove(className)\n      })\n      slideClasses.toggle('active', _.slide === index)\n      if (middle === index || (extraMiddle && extraMiddle === index)) {\n        slideClasses.add('center')\n      } else {\n        slideClasses.remove('center')\n        slideClasses.add(\n          [\n            index < middle ? 'left' : 'right',\n            Math.abs(index - (index < middle ? middle : extraMiddle || middle))\n          ].join('-')\n        )\n      }\n\n      var isVisible =\n        Math.ceil(itemStart) >= Math.floor(start) &&\n        Math.floor(itemEnd) <= Math.ceil(end)\n      slideClasses.toggle('visible', isVisible)\n      if (isVisible !== wasVisible) {\n        _.emit('slide-' + (isVisible ? 'visible' : 'hidden'), {\n          slide: index\n        })\n      }\n    })\n    if (_.dots) {\n      [].forEach.call(_.dots.children, function (dot, index) {\n        dot.classList.toggle('active', _.page === index)\n      })\n    }\n\n    if (event && _.opt.scrollLock) {\n      clearTimeout(_.scrollLock)\n      _.scrollLock = setTimeout(function () {\n        clearTimeout(_.scrollLock)\n        // dont attempt to scroll less than a pixel fraction - causes looping\n        if (Math.abs(_.ele.scrollLeft / _.itemWidth - _.slide) > 0.02) {\n          if (!_.mouseDown) {\n            // Only scroll if not at the end (#94)\n            if (_.trackWidth > _.containerWidth + _.ele.scrollLeft) {\n              _.scrollItem(_.getCurrentSlide())\n            }\n          }\n        }\n      }, _.opt.scrollLockDelay || 250)\n    }\n  }\n\n  gliderPrototype.getCurrentSlide = function () {\n    var _ = this\n    return _.round(_.ele.scrollLeft / _.itemWidth)\n  }\n\n  gliderPrototype.scrollItem = function (slide, dot, e) {\n    if (e) e.preventDefault()\n\n    var _ = this\n\n    var originalSlide = slide\n    ++_.animate_id\n\n    if (dot === true) {\n      slide = slide * _.containerWidth\n      slide = Math.round(slide / _.itemWidth) * _.itemWidth\n    } else {\n      if (typeof slide === 'string') {\n        var backwards = slide === 'prev'\n\n        // use precise location if fractional slides are on\n        if (_.opt.slidesToScroll % 1 || _.opt.slidesToShow % 1) {\n          slide = _.getCurrentSlide()\n        } else {\n          slide = _.slide\n        }\n\n        if (backwards) slide -= _.opt.slidesToScroll\n        else slide += _.opt.slidesToScroll\n\n        if (_.opt.rewind) {\n          var scrollLeft = _.ele.scrollLeft\n          slide =\n            backwards && !scrollLeft\n              ? _.slides.length\n              : !backwards &&\n                scrollLeft + _.containerWidth >= Math.floor(_.trackWidth)\n                ? 0\n                : slide\n        }\n      }\n\n      slide = Math.max(Math.min(slide, _.slides.length), 0)\n\n      _.slide = slide\n      slide = _.itemWidth * slide\n    }\n\n    _.scrollTo(\n      slide,\n      _.opt.duration * Math.abs(_.ele.scrollLeft - slide),\n      function () {\n        _.updateControls()\n        _.emit('animated', {\n          value: originalSlide,\n          type:\n            typeof originalSlide === 'string' ? 'arrow' : dot ? 'dot' : 'slide'\n        })\n      }\n    )\n\n    return false\n  }\n\n  gliderPrototype.settingsBreakpoint = function () {\n    var _ = this\n\n    var resp = _._opt.responsive\n\n    if (resp) {\n      // Sort the breakpoints in mobile first order\n      resp.sort(function (a, b) {\n        return b.breakpoint - a.breakpoint\n      })\n\n      for (var i = 0; i < resp.length; ++i) {\n        var size = resp[i]\n        if (_window.innerWidth >= size.breakpoint) {\n          if (_.breakpoint !== size.breakpoint) {\n            _.opt = Object.assign({}, _._opt, size.settings)\n            _.breakpoint = size.breakpoint\n            return true\n          }\n          return false\n        }\n      }\n    }\n    // set back to defaults in case they were overriden\n    var breakpointChanged = _.breakpoint !== 0\n    _.opt = Object.assign({}, _._opt)\n    _.breakpoint = 0\n    return breakpointChanged\n  }\n\n  gliderPrototype.scrollTo = function (scrollTarget, scrollDuration, callback) {\n    var _ = this\n\n    var start = new Date().getTime()\n\n    var animateIndex = _.animate_id\n\n    var animate = function () {\n      var now = new Date().getTime() - start\n      _.ele.scrollLeft =\n        _.ele.scrollLeft +\n        (scrollTarget - _.ele.scrollLeft) *\n          _.opt.easing(0, now, 0, 1, scrollDuration)\n      if (now < scrollDuration && animateIndex === _.animate_id) {\n        _window.requestAnimationFrame(animate)\n      } else {\n        _.ele.scrollLeft = scrollTarget\n        callback && callback.call(_)\n      }\n    }\n\n    _window.requestAnimationFrame(animate)\n  }\n\n  gliderPrototype.removeItem = function (index) {\n    var _ = this\n\n    if (_.slides.length) {\n      _.track.removeChild(_.slides[index])\n      _.refresh(true)\n      _.emit('remove')\n    }\n  }\n\n  gliderPrototype.addItem = function (ele) {\n    var _ = this\n\n    _.track.appendChild(ele)\n    _.refresh(true)\n    _.emit('add')\n  }\n\n  gliderPrototype.handleMouse = function (e) {\n    var _ = this\n    if (_.mouseDown) {\n      _.isDrag = true\n      _.ele.scrollLeft +=\n        (_.mouseDown - e.clientX) * (_.opt.dragVelocity || 3.3)\n      _.mouseDown = e.clientX\n    }\n  }\n\n  // used to round to the nearest 0.XX fraction\n  gliderPrototype.round = function (double) {\n    var _ = this\n    var step = _.opt.slidesToScroll % 1 || 1\n    var inv = 1.0 / step\n    return Math.round(double * inv) / inv\n  }\n\n  gliderPrototype.refresh = function (paging) {\n    var _ = this\n    _.init(true, paging)\n  }\n\n  gliderPrototype.setOption = function (opt, global) {\n    var _ = this\n\n    if (_.breakpoint && !global) {\n      _._opt.responsive.forEach(function (v) {\n        if (v.breakpoint === _.breakpoint) {\n          v.settings = Object.assign({}, v.settings, opt)\n        }\n      })\n    } else {\n      _._opt = Object.assign({}, _._opt, opt)\n    }\n\n    _.breakpoint = 0\n    _.settingsBreakpoint()\n  }\n\n  gliderPrototype.destroy = function () {\n    var _ = this\n\n    var replace = _.ele.cloneNode(true)\n\n    var clear = function (ele) {\n      ele.removeAttribute('style');\n      [].forEach.call(ele.classList, function (className) {\n        /^glider/.test(className) && ele.classList.remove(className)\n      })\n    }\n    // remove track\n    replace.children[0].outerHTML = replace.children[0].innerHTML\n    clear(replace);\n    [].forEach.call(replace.getElementsByTagName('*'), clear)\n    _.ele.parentNode.replaceChild(replace, _.ele)\n    _.event(_window, 'remove', {\n      resize: _.resize\n    })\n    _.emit('destroy')\n  }\n\n  gliderPrototype.emit = function (name, arg) {\n    var _ = this\n\n    var e = new _window.CustomEvent('glider-' + name, {\n      bubbles: !_.opt.eventPropagate,\n      detail: arg\n    })\n    _.ele.dispatchEvent(e)\n  }\n\n  gliderPrototype.event = function (ele, type, args) {\n    var eventHandler = ele[type + 'EventListener'].bind(ele)\n    Object.keys(args).forEach(function (k) {\n      eventHandler(k, args[k])\n    })\n  }\n\n  return Glider\n})\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport Glider from 'glider-js';\nimport 'glider-js/glider.css';\n\n/**\n * Override to add basic support for the nav arrows for RTL\n *\n * Glider-JS doesn't support RTL at the moment, this is to add basic\n * functioning support for the nav arrows as otherwise the nav arrows\n * becomes useless on RTL sites.\n *\n * @todo Maybe replace glider-js with other lightweight lib which has RTL support. or Replace it with 'amp-carousel' once we have the support.\n * @param {Object|string} slide Slide arrow string based on action.\n * @param {boolean}       dot   Is dot navigation action.\n * @param {Object}        e     Event object.\n * @return {boolean} Navigation done.\n */\nGlider.prototype.scrollItem = function (slide, dot, e) {\n  // glider-js doesn't seem to pass right amount of arguments.\n  if (e === undefined && dot?.target) {\n    e = dot;\n    dot = false;\n  }\n\n  if (e === undefined) {\n    // Somehow we ended up triggering this function twice. Abort to prevent scrolling back and forth.\n    return false;\n  }\n\n  if (e) {\n    e.preventDefault();\n  }\n\n  // Somehow slidesToScroll and slidesToShow can end up being 0.\n  this.opt.slidesToScroll = Math.max(1, this.opt.slidesToScroll);\n  this.opt.slidesToShow = Math.max(1, this.opt.slidesToShow);\n  // This will also cause this.itemWidth to be Infinity because division by zero returns Infinity in JS.\n  // Update this.itemWidth with actual value in this case.\n  if (this.itemWidth === Infinity) {\n    // It's a sibling.\n    const carouselWrapper = e.target.parentElement.querySelector(\n      '.web-stories-list__carousel'\n    );\n    const itemStyle = window.getComputedStyle(\n      carouselWrapper.querySelector('.web-stories-list__story')\n    );\n\n    this.itemWidth =\n      parseFloat(itemStyle.width) +\n      (parseFloat(itemStyle.marginLeft) + parseFloat(itemStyle.marginRight));\n  }\n\n  const originalSlide = slide;\n  ++this.animate_id;\n\n  if (dot === true) {\n    slide = slide * this.containerWidth;\n    slide = Math.round(slide / this.itemWidth) * this.itemWidth;\n  } else {\n    if (typeof slide === 'string') {\n      const backwards = slide === 'prev';\n\n      // use precise location if fractional slides are on\n      if (this.opt.slidesToScroll % 1 || this.opt.slidesToShow % 1) {\n        slide = this.getCurrentSlide();\n      } else {\n        slide = !isNaN(this.slide) ? this.slide : 0;\n      }\n\n      if (backwards) {\n        slide -= this.opt.slidesToScroll;\n      } else {\n        slide += this.opt.slidesToScroll;\n      }\n\n      if (this.opt.rewind) {\n        const scrollLeft = this.ele.scrollLeft;\n        slide =\n          backwards && !scrollLeft\n            ? this.slides.length\n            : !backwards &&\n              scrollLeft + this.containerWidth >= Math.floor(this.trackWidth)\n            ? 0\n            : slide;\n      }\n    }\n\n    slide = Math.min(slide, this.slides.length);\n\n    this.slide = slide;\n    slide = this.itemWidth * slide;\n  }\n\n  this.scrollTo(\n    slide,\n    this.opt.duration * Math.abs(this.ele.scrollLeft - slide),\n    function () {\n      this.updateControls();\n      this.emit('animated', {\n        value: originalSlide,\n        type:\n          typeof originalSlide === 'string' ? 'arrow' : dot ? 'dot' : 'slide',\n      });\n    }\n  );\n\n  return false;\n};\n\nexport default Glider;\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\n\nconst keyboardReturn = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-2 -2 24 24\">\n\t\t<Path d=\"M6.734 16.106l2.176-2.38-1.093-1.028-3.846 4.158 3.846 4.157 1.093-1.027-2.176-2.38h2.811c1.125 0 2.25.03 3.374 0 1.428-.001 3.362-.25 4.963-1.277 1.66-1.065 2.868-2.906 2.868-5.859 0-2.479-1.327-4.896-3.65-5.93-1.82-.813-3.044-.8-4.806-.788l-.567.002v1.5c.184 0 .368 0 .553-.002 1.82-.007 2.704-.014 4.21.657 1.854.827 2.76 2.657 2.76 4.561 0 2.472-.973 3.824-2.178 4.596-1.258.807-2.864 1.04-4.163 1.04h-.02c-1.115.03-2.229 0-3.344 0H6.734z\" />\n\t</SVG>\n);\n\nexport default keyboardReturn;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { __ } from '@wordpress/i18n';\nimport { addQueryArgs } from '@wordpress/url';\nimport { Button, Placeholder } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { BlockIcon as WebStoriesLogo } from '../../icons';\nimport StoriesInspectorControls from '../../components/storiesInspectorControls';\nimport StoriesLoading from '../../components/storiesLoading';\nimport StoriesPreview from '../../components/storiesPreview';\nimport useDebounce from '../../hooks/useDebounce';\n\nconst {\n  config: {\n    api: { stories: storiesApi },\n  },\n} = window.webStoriesBlockSettings;\n\n/**\n * LatestStoriesEdit component\n *\n * @param {Object}   root0               Component props.\n * @param {Object}   root0.attributes    Block attributes.\n * @param {Function} root0.setAttributes Callable function for saving attribute values.\n * @return {*} JSX markup for the editor.\n */\nfunction LatestStoriesEdit({ attributes, setAttributes }) {\n  const { numOfStories, order, orderby, archiveLinkLabel, authors } =\n    attributes;\n\n  const [fetchedStories, setFetchedStories] = useState([]);\n  const [isFetchingStories, setIsFetchingStories] = useState([]);\n\n  /**\n   * Fetch stories based on the query.\n   *\n   * @return {void}\n   */\n  const fetchStories = useCallback(async (query) => {\n    try {\n      setIsFetchingStories(true);\n      const stories = await apiFetch({\n        path: addQueryArgs(storiesApi, {\n          per_page: 20,\n          _embed: 'author,wp:featuredmedia',\n          orderby: query.orderby || 'modified',\n          order: query.order || 'desc',\n          author: query.author || undefined,\n        }),\n      });\n\n      if (Array.isArray(stories)) {\n        setFetchedStories(stories);\n      }\n    } catch (err) {\n      setFetchedStories([]);\n    } finally {\n      setIsFetchingStories(false);\n    }\n  }, []);\n\n  const debouncedFetchStories = useDebounce(fetchStories, 1000);\n\n  useEffect(() => {\n    debouncedFetchStories({\n      order: order || 'desc',\n      orderby: orderby || 'date',\n      author: authors,\n    });\n  }, [authors, numOfStories, order, orderby, debouncedFetchStories]);\n\n  const viewAllLabel = archiveLinkLabel\n    ? archiveLinkLabel\n    : __('View All Stories', 'web-stories');\n\n  const storiesToDisplay =\n    fetchedStories.length > numOfStories\n      ? fetchedStories.slice(0, numOfStories)\n      : fetchedStories;\n\n  return (\n    <>\n      <StoriesInspectorControls\n        attributes={attributes}\n        setAttributes={setAttributes}\n      />\n\n      {isFetchingStories && <StoriesLoading />}\n\n      {!isFetchingStories && Boolean(storiesToDisplay?.length) && (\n        <StoriesPreview\n          attributes={attributes}\n          stories={storiesToDisplay}\n          viewAllLabel={viewAllLabel}\n        />\n      )}\n      {!isFetchingStories && !storiesToDisplay?.length && (\n        <Placeholder\n          icon={<BlockIcon icon={<WebStoriesLogo />} showColors />}\n          label={__('Latest Stories', 'web-stories')}\n          className=\"wp-block-web-stories-embed\"\n          instructions={__('No stories found.', 'web-stories')}\n        >\n          <Button\n            href={addQueryArgs('post-new.php', { post_type: 'web-story' })}\n            isLink\n          >\n            {__('Create New Story', 'web-stories')}\n          </Button>\n        </Placeholder>\n      )}\n    </>\n  );\n}\n\nLatestStoriesEdit.propTypes = {\n  attributes: PropTypes.shape({\n    blockType: PropTypes.string,\n    align: PropTypes.string,\n    viewType: PropTypes.string,\n    numOfStories: PropTypes.number,\n    numOfColumns: PropTypes.number,\n    orderby: PropTypes.string,\n    order: PropTypes.string,\n    archiveLinkLabel: PropTypes.string,\n    authors: PropTypes.array,\n    circleSize: PropTypes.number,\n    fieldState: PropTypes.object,\n  }),\n  setAttributes: PropTypes.func.isRequired,\n};\n\nexport default LatestStoriesEdit;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect, useCallback } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport StoriesInspectorControls from '../../components/storiesInspectorControls';\nimport StoriesPreview from '../../components/storiesPreview';\nimport FetchSelectedStories from '../../components/storyPicker/fetchSelectedStories';\nimport EmbedPlaceholder from './embedPlaceholder';\n\nfunction SelectedStoriesEdit({\n  icon,\n  attributes,\n  setAttributes,\n  isSelected: isEditing,\n}) {\n  const { stories = [], archiveLinkLabel } = attributes;\n\n  const [selectedStoryIds, setSelectedStoryIds] = useState(stories);\n  const [selectedStories, _setSelectedStories] = useState([]);\n  const [isFetching, setIsFetching] = useState(false);\n\n  const label = __('Selected Stories', 'web-stories');\n\n  const viewAllLabel = archiveLinkLabel\n    ? archiveLinkLabel\n    : __('View All Stories', 'web-stories');\n\n  useEffect(() => {\n    if (attributes.stories.toString() !== selectedStoryIds.toString()) {\n      setAttributes({\n        stories: selectedStoryIds,\n      });\n    }\n  }, [attributes.stories, setAttributes, selectedStoryIds]);\n\n  useEffect(() => {\n    if (selectedStoryIds.length && !selectedStories.length) {\n      setIsFetching(true);\n    }\n  }, [selectedStoryIds, selectedStories, setIsFetching]);\n\n  const setSelectedStories = useCallback(\n    (newStories) => {\n      _setSelectedStories(newStories);\n      setSelectedStoryIds(newStories.map((story) => story.id));\n    },\n    [_setSelectedStories]\n  );\n\n  if (isFetching) {\n    return (\n      <FetchSelectedStories\n        icon={icon}\n        label={label}\n        selectedStoryIds={selectedStoryIds}\n        setSelectedStories={setSelectedStories}\n        setIsFetching={setIsFetching}\n      />\n    );\n  }\n\n  return (\n    <>\n      <StoriesInspectorControls\n        attributes={attributes}\n        setAttributes={setAttributes}\n        showFilters={false}\n      />\n      {Boolean(selectedStories?.length) && (\n        <StoriesPreview\n          attributes={attributes}\n          stories={selectedStories}\n          viewAllLabel={viewAllLabel}\n        />\n      )}\n      <EmbedPlaceholder\n        icon={icon}\n        label={label}\n        selectedStories={selectedStories}\n        setSelectedStories={setSelectedStories}\n        isEditing={isEditing}\n      />\n    </>\n  );\n}\n\nSelectedStoriesEdit.propTypes = {\n  icon: PropTypes.node,\n  attributes: PropTypes.shape({\n    blockType: PropTypes.string,\n    stories: PropTypes.array,\n    align: PropTypes.string,\n    viewType: PropTypes.string,\n    numOfColumns: PropTypes.number,\n    archiveLinkLabel: PropTypes.string,\n    circleSize: PropTypes.number,\n  }),\n  setAttributes: PropTypes.func.isRequired,\n  isSelected: PropTypes.bool,\n};\n\nexport default SelectedStoriesEdit;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, ToolbarButton, Placeholder } from '@wordpress/components';\nimport { BlockControls, BlockIcon } from '@wordpress/block-editor';\nimport { useCallback, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport StoryPicker from '../../components/storyPicker/storyPicker';\n\nconst {\n  config: { maxNumOfStories },\n} = window.webStoriesBlockSettings;\n\nconst EmbedPlaceholder = ({\n  icon,\n  label,\n  selectedStories,\n  setSelectedStories,\n}) => {\n  const [isStoryPickerOpen, setIsStoryPickerOpen] = useState(false);\n  const [isSortingStories, setIsSortingStories] = useState(false);\n\n  const openStoryPicker = () => setIsStoryPickerOpen(true);\n  const closeStoryPicker = useCallback(() => {\n    setIsStoryPickerOpen(false);\n    setIsSortingStories(false);\n  }, []);\n\n  const openStoryRearrangeWindow = useCallback(() => {\n    setIsSortingStories(true);\n    openStoryPicker();\n  }, []);\n\n  return (\n    <>\n      {/*\n        Using ToolbarButton if available is mandatory as other usage is deprecated\n        for accessibility reasons and causes console warnings.\n        See https://github.com/WordPress/gutenberg/pull/23316\n        See https://developer.wordpress.org/block-editor/components/toolbar-button/#inside-blockcontrols\n        */}\n      <BlockControls group=\"other\">\n        {Boolean(selectedStories?.length) &&\n          (ToolbarButton ? (\n            <>\n              <ToolbarButton\n                aria-expanded={isStoryPickerOpen}\n                aria-haspopup=\"true\"\n                onClick={openStoryPicker}\n              >\n                {__('Select', 'web-stories')}\n              </ToolbarButton>\n              <ToolbarButton\n                aria-expanded={isStoryPickerOpen}\n                aria-haspopup=\"true\"\n                onClick={openStoryRearrangeWindow}\n              >\n                {__('Rearrange', 'web-stories')}\n              </ToolbarButton>\n            </>\n          ) : (\n            <>\n              <Button\n                className=\"components-toolbar__control\"\n                title={__('Select', 'web-stories')}\n                aria-expanded={isStoryPickerOpen}\n                aria-haspopup=\"true\"\n                onClick={openStoryPicker}\n              />\n              <Button\n                className=\"components-toolbar__control\"\n                title={__('Rearrange', 'web-stories')}\n                aria-expanded={openStoryRearrangeWindow}\n                aria-haspopup=\"true\"\n                onClick={openStoryRearrangeWindow}\n              />\n            </>\n          ))}\n      </BlockControls>\n      {selectedStories.length === 0 && (\n        <Placeholder\n          icon={<BlockIcon icon={icon} showColors />}\n          label={label}\n          className=\"wp-block-web-stories-embed\"\n          instructions={__(\n            'Select the web stories you want to display on your site.',\n            'web-stories'\n          )}\n        >\n          <Button isPrimary onClick={openStoryPicker}>\n            {__('Select Stories', 'web-stories')}\n          </Button>\n        </Placeholder>\n      )}\n      {isStoryPickerOpen && (\n        <StoryPicker\n          closeStoryPicker={closeStoryPicker}\n          selectedStories={selectedStories}\n          setSelectedStories={setSelectedStories}\n          isSortingStories={isSortingStories}\n          setIsSortingStories={setIsSortingStories}\n          maxNumOfStories={maxNumOfStories}\n        />\n      )}\n    </>\n  );\n};\n\nEmbedPlaceholder.propTypes = {\n  icon: PropTypes.node,\n  label: PropTypes.string,\n  selectedStories: PropTypes.array,\n  setSelectedStories: PropTypes.func,\n};\n\nexport default EmbedPlaceholder;\n","// extracted by mini-css-extract-plugin\nexport {};","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint complexity: [\"error\", { \"max\": 21 }] */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport { trackEvent } from '@web-stories-wp/tracking';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef, useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { ResizableBox } from '@wordpress/components';\nimport * as compose from '@wordpress/compose';\nimport { withViewportMatch } from '@wordpress/viewport';\nimport { useDispatch, useSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { BlockIcon } from '../../icons';\nimport FetchSelectedStories from '../../components/storyPicker/fetchSelectedStories';\nimport EmbedControls from './embedControls';\nimport EmbedLoadinng from './embedLoading';\nimport EmbedPlaceholder from './embedPlaceholder';\nimport EmbedPreview from './embedPreview';\nimport './edit.css';\n\nconst MIN_SIZE = 20;\n\nfunction StoryEmbedEdit({\n  attributes,\n  setAttributes,\n  className,\n  isSelected,\n  _isResizable,\n}) {\n  const {\n    url: outerURL = '',\n    width = 360,\n    height = 600,\n    align = 'none',\n    poster,\n    title,\n    stories = [],\n  } = attributes;\n\n  const [editingURL, setEditingURL] = useState(false);\n  const [localURL, setLocalURL] = useState(outerURL);\n  const [isFetchingData, setIsFetchingData] = useState(false);\n  const [isFetching, setIsFetching] = useState(false);\n  const [storyData, setStoryData] = useState({});\n  const [cannotEmbed, setCannotEmbed] = useState(false);\n  const [selectedStoryIds, setSelectedStoryIds] = useState(stories);\n  const [selectedStories, _setSelectedStories] = useState([]);\n\n  const showLoadingIndicator = isFetchingData;\n  const showPlaceholder = !localURL || !outerURL || editingURL || cannotEmbed;\n\n  const isResizable = compose.useViewportMatch\n    ? compose.useViewportMatch('medium')\n    : _isResizable;\n\n  const ref = useRef();\n\n  useEffect(() => {\n    if (attributes.stories.toString() !== selectedStoryIds.toString()) {\n      setAttributes({\n        stories: selectedStoryIds,\n      });\n    }\n  }, [attributes.stories, setAttributes, selectedStoryIds]);\n\n  useEffect(() => {\n    if (selectedStoryIds.length && !selectedStories.length) {\n      setIsFetching(true);\n    }\n  }, [selectedStoryIds, selectedStories, setIsFetching]);\n\n  useEffect(() => {\n    setLocalURL(outerURL);\n    trackEvent('story_embedded');\n  }, [outerURL]);\n\n  useEffect(() => {\n    trackEvent('story_poster_changed');\n  }, [poster]);\n\n  useEffect(() => {\n    if (ref.current && global.AmpStoryPlayer) {\n      const player = new global.AmpStoryPlayer(global, ref.current);\n      player.load();\n    }\n  }, [showLoadingIndicator, showPlaceholder, isResizable]);\n\n  const fetchStoryData = useCallback(\n    async (url) => {\n      if (!url) {\n        return;\n      }\n\n      try {\n        setIsFetchingData(true);\n        // Normalize input URL.\n        const urlToEmbed = encodeURIComponent(new URL(url).toString());\n\n        const data = await apiFetch({\n          path: `web-stories/v1/embed?url=${urlToEmbed}`,\n        });\n\n        setCannotEmbed(!(typeof data?.title === 'string'));\n        setStoryData(data);\n        setAttributes({\n          url: url,\n        });\n      } catch (err) {\n        // Only care about errors from apiFetch\n        if (!(err instanceof TypeError)) {\n          setStoryData(err);\n        }\n\n        setCannotEmbed(true);\n      } finally {\n        setIsFetchingData(false);\n      }\n    },\n    [setAttributes]\n  );\n\n  useEffect(() => {\n    if (storyData?.title || storyData?.poster) {\n      setAttributes({\n        title: storyData?.title,\n        poster: storyData?.poster,\n      });\n    }\n  }, [outerURL, setAttributes, storyData?.title, storyData?.poster]);\n\n  const setSelectedStories = useCallback(\n    (newStories) => {\n      _setSelectedStories(newStories);\n      setSelectedStoryIds(newStories.map((story) => story.id));\n      const newStory = newStories?.[0];\n      const link = newStory?.link;\n      const data = {\n        title: newStory?.title?.rendered,\n        poster: newStory?._embedded?.['wp:featuredmedia']?.[0]?.source_url,\n      };\n      setStoryData(data);\n      setLocalURL(link);\n      setEditingURL(false);\n      setCannotEmbed(false);\n      setAttributes({\n        url: link,\n      });\n    },\n    [_setSelectedStories, setAttributes]\n  );\n\n  const onSubmit = useCallback(\n    (url) => {\n      _setSelectedStories([]);\n      setSelectedStoryIds([]);\n      setEditingURL(false);\n      setCannotEmbed(false);\n      setLocalURL(url);\n\n      if (url !== outerURL) {\n        fetchStoryData(url);\n      }\n    },\n    [outerURL, fetchStoryData]\n  );\n\n  const switchBackToURLInput = useCallback(() => {\n    setEditingURL(true);\n  }, []);\n\n  const { isRTL, maxWidth } = useSelect((select) => {\n    const { getSettings } = select('core/block-editor');\n    const settings = getSettings();\n    return {\n      isRTL: settings.isRTL,\n      maxWidth: settings.maxWidth,\n    };\n  }, []);\n\n  const { toggleSelection } = useDispatch('core/block-editor');\n\n  if (showLoadingIndicator) {\n    return <EmbedLoadinng />;\n  }\n\n  const onResizeStart = () => toggleSelection(false);\n  const onResizeStop = () => toggleSelection(true);\n\n  const label = __('Single Story', 'web-stories');\n\n  if (showPlaceholder) {\n    if (isFetching) {\n      return (\n        <FetchSelectedStories\n          icon={<BlockIcon />}\n          label={label}\n          selectedStoryIds={selectedStoryIds}\n          setSelectedStories={_setSelectedStories}\n          setIsFetching={setIsFetching}\n        />\n      );\n    }\n    return (\n      <EmbedPlaceholder\n        icon={<BlockIcon />}\n        label={label}\n        value={localURL}\n        onSubmit={onSubmit}\n        cannotEmbed={cannotEmbed}\n        errorMessage={storyData?.message}\n        selectedStories={selectedStories}\n        setSelectedStories={setSelectedStories}\n      />\n    );\n  }\n\n  const ratio = width / height;\n  const minWidth = width < height ? MIN_SIZE : MIN_SIZE * ratio;\n  const minHeight = height < width ? MIN_SIZE : MIN_SIZE / ratio;\n\n  if (!isResizable) {\n    return (\n      <>\n        <EmbedControls\n          switchBackToURLInput={switchBackToURLInput}\n          poster={poster}\n          title={title}\n          setAttributes={setAttributes}\n          width={width}\n          height={height}\n          minWidth={Math.ceil(minWidth)}\n          maxWidth={Math.floor(maxWidth)}\n          minHeight={Math.floor(minHeight)}\n          maxHeight={Math.ceil(maxWidth / ratio)}\n        />\n        <div className={`${className} web-stories-embed align${align}`}>\n          <EmbedPreview\n            url={outerURL}\n            title={title}\n            poster={poster}\n            ref={ref}\n            isSelected={isSelected}\n            width={width}\n            height={height}\n          />\n        </div>\n      </>\n    );\n  }\n\n  const showRightHandle =\n    align === 'center' ||\n    align === 'none' ||\n    (align === 'right' && isRTL) ||\n    (align === 'left' && !isRTL);\n\n  const showLeftHandle =\n    align === 'center' ||\n    (align === 'left' && isRTL) ||\n    (align === 'right' && !isRTL);\n\n  return (\n    <>\n      <EmbedControls\n        switchBackToURLInput={switchBackToURLInput}\n        poster={poster}\n        title={title}\n        setAttributes={setAttributes}\n        width={width}\n        height={height}\n        minWidth={Math.ceil(minWidth)}\n        maxWidth={Math.floor(maxWidth)}\n        minHeight={Math.floor(minHeight)}\n        maxHeight={Math.ceil(maxWidth / ratio)}\n      />\n      <div className={`${className} web-stories-embed align${align}`}>\n        <ResizableBox\n          className={isSelected ? 'show-resize-handle' : 'hide-resize-handle'}\n          size={{\n            width,\n            height,\n          }}\n          minWidth={minWidth}\n          maxWidth={maxWidth}\n          minHeight={minHeight}\n          maxHeight={maxWidth / ratio}\n          lockAspectRatio\n          enable={{\n            top: false,\n            right: showRightHandle,\n            bottom: true,\n            left: showLeftHandle,\n          }}\n          onResizeStart={onResizeStart}\n          onResizeStop={(event, direction, elt, delta) => {\n            onResizeStop();\n            setAttributes({\n              width: parseInt(width + delta.width),\n              height: parseInt(height + delta.height),\n            });\n          }}\n        >\n          <EmbedPreview\n            url={outerURL}\n            title={title}\n            poster={poster}\n            ref={ref}\n            isSelected={isSelected}\n            width={width}\n            height={height}\n          />\n        </ResizableBox>\n      </div>\n    </>\n  );\n}\n\nStoryEmbedEdit.propTypes = {\n  attributes: PropTypes.shape({\n    url: PropTypes.string,\n    title: PropTypes.string,\n    poster: PropTypes.string,\n    stories: PropTypes.array,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    align: PropTypes.string,\n  }),\n  setAttributes: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  isSelected: PropTypes.bool,\n  _isResizable: PropTypes.bool,\n};\n\nexport default withViewportMatch({ _isResizable: 'medium' })(StoryEmbedEdit);\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport {\n  Button,\n  BaseControl,\n  TextControl,\n  PanelBody,\n  PanelRow,\n  ToolbarGroup,\n  ToolbarButton,\n} from '@wordpress/components';\nimport {\n  BlockControls,\n  InspectorControls,\n  MediaUpload,\n  MediaUploadCheck,\n} from '@wordpress/block-editor';\nimport { useInstanceId } from '@wordpress/compose';\nimport { createRef, useCallback } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\n\nconst POSTER_ALLOWED_MEDIA_TYPES = ['image'];\n\nconst EmbedControls = (props) => {\n  const {\n    switchBackToURLInput,\n    width,\n    height,\n    minWidth,\n    maxWidth,\n    minHeight,\n    maxHeight,\n    poster,\n    title,\n    setAttributes,\n  } = props;\n\n  const instanceId = useInstanceId(EmbedControls, 'web-stories-embed');\n\n  const posterDescription = `web-stories-embed-block__poster-image-description-${instanceId}`;\n  const posterImageButton = createRef();\n\n  const onSelectPoster = useCallback(\n    (image) => {\n      setAttributes({ poster: image.url });\n    },\n    [setAttributes]\n  );\n\n  const onRemovePoster = useCallback(() => {\n    setAttributes({ poster: '' });\n\n    // Move focus back to the Media Upload button.\n    posterImageButton.current.focus();\n  }, [setAttributes, posterImageButton]);\n\n  const hasPoster = Boolean(poster);\n\n  return (\n    <>\n      <BlockControls>\n        <ToolbarGroup>\n          {/*\n          Using ToolbarButton if available is mandatory as other usage is deprecated\n          for accessibility reasons and causes console warnings.\n          See https://github.com/WordPress/gutenberg/pull/23316\n          See https://developer.wordpress.org/block-editor/components/toolbar-button/#inside-blockcontrols\n          */}\n          {ToolbarButton ? (\n            <ToolbarButton onClick={switchBackToURLInput}>\n              {__('Replace', 'web-stories')}\n            </ToolbarButton>\n          ) : (\n            <Button\n              className=\"components-toolbar__control\"\n              title={__('Replace', 'web-stories')}\n              onClick={switchBackToURLInput}\n            />\n          )}\n        </ToolbarGroup>\n      </BlockControls>\n      <InspectorControls>\n        <PanelBody title={__('Embed Settings', 'web-stories')}>\n          <PanelRow>\n            <BaseControl>\n              <TextControl\n                type=\"text\"\n                className=\"web-stories-embed-title-control\"\n                label={__('Title', 'web-stories')}\n                value={title || ''}\n                onChange={(value) => setAttributes({ title: value })}\n              />\n            </BaseControl>\n          </PanelRow>\n          <MediaUploadCheck>\n            <PanelRow>\n              <BaseControl>\n                <BaseControl.VisualLabel className=\"web-stories-embed-poster-label\">\n                  {__('Poster image', 'web-stories')}\n                </BaseControl.VisualLabel>\n                {hasPoster && <img src={poster} alt=\"\" />}\n                <MediaUpload\n                  title={__('Select poster image', 'web-stories')}\n                  onSelect={onSelectPoster}\n                  allowedTypes={POSTER_ALLOWED_MEDIA_TYPES}\n                  render={({ open }) => (\n                    <Button\n                      isPrimary\n                      onClick={open}\n                      ref={posterImageButton}\n                      aria-describedby={posterDescription}\n                    >\n                      {!hasPoster\n                        ? __('Select', 'web-stories')\n                        : __('Replace', 'web-stories')}\n                    </Button>\n                  )}\n                />\n                <p id={posterDescription} hidden>\n                  {hasPoster\n                    ? sprintf(\n                        /* translators: %s: poster image URL. */\n                        __('The current poster image url is %s', 'web-stories'),\n                        poster\n                      )\n                    : __(\n                        'There is no poster image currently selected',\n                        'web-stories'\n                      )}\n                </p>\n                {hasPoster && (\n                  <Button onClick={onRemovePoster} isTertiary>\n                    {__('Remove', 'web-stories')}\n                  </Button>\n                )}\n              </BaseControl>\n            </PanelRow>\n          </MediaUploadCheck>\n          <PanelRow>\n            <BaseControl className=\"web-stories-embed-size-control\">\n              <BaseControl.VisualLabel>\n                {__('Story dimensions', 'web-stories')}\n              </BaseControl.VisualLabel>\n              <div className=\"web-stories-embed-size-control__row\">\n                <TextControl\n                  type=\"number\"\n                  className=\"web-stories-embed-size-control__width\"\n                  label={__('Width', 'web-stories')}\n                  value={width || ''}\n                  min={minWidth}\n                  max={maxWidth}\n                  onChange={(value) =>\n                    setAttributes({ width: parseInt(value) })\n                  }\n                />\n                <TextControl\n                  type=\"number\"\n                  className=\"web-stories-embed-size-control__height\"\n                  label={__('Height', 'web-stories')}\n                  value={height || ''}\n                  min={minHeight}\n                  max={maxHeight}\n                  onChange={(value) =>\n                    setAttributes({\n                      height: parseInt(value),\n                    })\n                  }\n                />\n              </div>\n            </BaseControl>\n          </PanelRow>\n        </PanelBody>\n      </InspectorControls>\n    </>\n  );\n};\n\nEmbedControls.propTypes = {\n  switchBackToURLInput: PropTypes.func,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  minWidth: PropTypes.number,\n  maxWidth: PropTypes.number,\n  minHeight: PropTypes.number,\n  maxHeight: PropTypes.number,\n  poster: PropTypes.string,\n  title: PropTypes.string,\n  setAttributes: PropTypes.func,\n};\n\nexport default EmbedControls;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * WordPress dependencies\n */\nimport { Spinner } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\nconst EmbedLoading = () => (\n  <div className=\"wp-block-web-stories-embed is-loading\">\n    <Spinner />\n    <p>{__('Embedding', 'web-stories')}</p>\n  </div>\n);\n\nexport default EmbedLoading;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useState } from '@wordpress/element';\nimport { Button, Placeholder } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { __, sprintf } from '@wordpress/i18n';\n/**\n * Internal dependencies\n */\nimport StoryPicker from '../../components/storyPicker/storyPicker';\nimport InsertFromURLPopover from './insertFromURLPopover';\n\nconst EmbedPlaceholder = ({\n  icon,\n  label,\n  value,\n  onSubmit,\n  cannotEmbed,\n  errorMessage,\n  selectedStories = [],\n  setSelectedStories,\n}) => {\n  const [url, setUrl] = useState(value);\n  const [isURLInputVisible, setIsURLInputVisible] = useState(false);\n  const [isStoryPickerOpen, setIsStoryPickerOpen] = useState(false);\n\n  const openStoryPicker = () => setIsStoryPickerOpen(true);\n  const closeStoryPicker = useCallback(() => {\n    setIsStoryPickerOpen(false);\n  }, []);\n\n  const openURLInput = () => setIsURLInputVisible(true);\n  const closeURLInput = () => setIsURLInputVisible(false);\n\n  const onChangeUrl = (event) => {\n    setUrl(event.target.value);\n  };\n\n  const onSubmitUrl = (event) => {\n    event.preventDefault();\n\n    closeURLInput();\n    onSubmit(url);\n  };\n\n  const hasStories = selectedStories.length > 0;\n\n  return (\n    <>\n      <Placeholder\n        icon={<BlockIcon icon={icon} showColors />}\n        label={label}\n        className=\"wp-block-web-stories-embed\"\n        instructions={__(\n          'Select an existing story from your site, or add one with a URL.',\n          'web-stories'\n        )}\n      >\n        <>\n          <Button isPrimary onClick={openStoryPicker}>\n            {!hasStories\n              ? __('Select Story', 'web-stories')\n              : __('Replace Story', 'web-stories')}\n          </Button>\n          <div className=\"block-editor-media-placeholder__url-input-container\">\n            <Button\n              className=\"block-editor-media-placeholder__button\"\n              onClick={openURLInput}\n              isPressed={isURLInputVisible}\n              variant=\"tertiary\"\n            >\n              {!hasStories && value\n                ? __('Replace URL', 'web-stories')\n                : __('Insert from URL', 'web-stories')}\n            </Button>\n            {isURLInputVisible && (\n              <InsertFromURLPopover\n                url={url}\n                onChange={onChangeUrl}\n                onSubmit={onSubmitUrl}\n                onClose={closeURLInput}\n              />\n            )}\n          </div>\n        </>\n        {cannotEmbed && (\n          <div className=\"components-placeholder__error\">\n            <div className=\"components-placeholder__instructions\">\n              {__('Sorry, this content could not be embedded.', 'web-stories')}\n              {errorMessage && (\n                <>\n                  {' '}\n                  {sprintf(\n                    /* translators: %s: error message. */\n                    __('Reason: %s.', 'web-stories'),\n                    errorMessage\n                  )}\n                </>\n              )}\n            </div>\n          </div>\n        )}\n      </Placeholder>\n      {isStoryPickerOpen && (\n        <StoryPicker\n          closeStoryPicker={closeStoryPicker}\n          maxNumOfStories={1}\n          selectedStories={selectedStories}\n          setSelectedStories={setSelectedStories}\n        />\n      )}\n    </>\n  );\n};\n\nEmbedPlaceholder.propTypes = {\n  icon: PropTypes.node,\n  label: PropTypes.string,\n  value: PropTypes.string,\n  onSubmit: PropTypes.func,\n  cannotEmbed: PropTypes.bool,\n  errorMessage: PropTypes.string,\n  selectedStories: PropTypes.array,\n  setSelectedStories: PropTypes.func,\n};\n\nEmbedPlaceholder.defaultProps = {\n  cannotEmbed: false,\n};\n\nexport default EmbedPlaceholder;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport {\n  useState,\n  useEffect,\n  useCallback,\n  forwardRef,\n} from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport StoryPlayer from './storyPlayer';\n\nfunction EmbedPreview({ url, title, poster, isSelected, width, height }, ref) {\n  const [interactive, setInteractive] = useState(false);\n\n  useEffect(() => {\n    if (!isSelected && interactive) {\n      setInteractive(false);\n    }\n  }, [isSelected, interactive, setInteractive]);\n\n  const hideOverlay = useCallback(() => setInteractive(true), [setInteractive]);\n\n  // Disabled because the overlay div doesn't actually have a role or functionality\n  // as far as the user is concerned. We're just catching the first click so that\n  // the block can be selected without interacting with the embed preview that the overlay covers.\n  /* eslint-disable jsx-a11y/no-static-element-interactions */\n  return (\n    <div\n      className=\"web-stories-embed-preview wp-block-embed__wrapper\"\n      style={{\n        '--aspect-ratio': 0 !== width ? height / width : 1,\n        '--width': `${width}px`,\n        '--height': `${height}px`,\n      }}\n    >\n      <StoryPlayer\n        url={url}\n        title={title}\n        poster={poster}\n        ref={ref}\n        onFocus={hideOverlay}\n      />\n      {!interactive && (\n        <div\n          className=\"web-stories-embed-preview-overlay\"\n          data-testid=\"embed-preview-overlay\"\n          onMouseUp={hideOverlay}\n        />\n      )}\n    </div>\n  );\n  /* eslint-enable jsx-a11y/no-static-element-interactions */\n}\n\nconst EmbedPreviewWithRef = forwardRef(EmbedPreview);\n\nEmbedPreview.propTypes = {\n  url: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  poster: PropTypes.string,\n  isSelected: PropTypes.bool,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\nexport default EmbedPreviewWithRef;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { URLPopover } from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { keyboardReturn } from '@wordpress/icons';\n\n/**\n * Component to render url popover.\n *\n * @see https://github.com/WordPress/gutenberg/blob/adbe3eaae3d7f231953045c96ad67eb7a30369b7/packages/block-editor/src/components/media-placeholder/index.js#L31-L52\n * @param {Object} props Component props.\n * @param {string} props.url Value of form input.\n * @param {Function} props.onChange Callback from when url is changed.\n * @param {Function} props.onSubmit Callback when form is submitted.\n * @param {Function} props.onClose Callback when the dialog is closed.\n * @return {*} JSX markup for the editor.\n */\nconst InsertFromURLPopover = ({ url, onChange, onSubmit, onClose }) => (\n  <URLPopover onClose={onClose}>\n    <form\n      className=\"block-editor-media-placeholder__url-input-form\"\n      data-testid=\"embed-placeholder-form\"\n      onSubmit={onSubmit}\n    >\n      <input\n        className=\"block-editor-media-placeholder__url-input-field\"\n        type=\"url\"\n        aria-label={__('Story URL', 'web-stories')}\n        placeholder={__('Paste or type URL', 'web-stories')}\n        onChange={onChange}\n        value={url}\n      />\n      <Button\n        className=\"block-editor-media-placeholder__url-input-submit-button\"\n        icon={keyboardReturn}\n        label={__('Embed', 'web-stories')}\n        type=\"submit\"\n      />\n    </form>\n  </URLPopover>\n);\n\nInsertFromURLPopover.propTypes = {\n  url: PropTypes.string,\n  onChange: PropTypes.func,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func,\n};\n\nexport default InsertFromURLPopover;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { forwardRef } from '@wordpress/element';\n\nfunction StoryPlayer({ url, title, poster, width, height }, ref) {\n  return (\n    <amp-story-player\n      ref={ref}\n      style={{\n        width: width ? `${width}px` : undefined,\n        height: height ? `${height}px` : undefined,\n      }}\n      data-testid=\"amp-story-player\"\n    >\n      <a href={url}>\n        {poster ? (\n          <img\n            alt={title}\n            src={poster}\n            width={width}\n            height={height}\n            data-amp-story-player-poster-img\n          />\n        ) : (\n          title\n        )}\n      </a>\n    </amp-story-player>\n  );\n}\n\nconst StoryPlayerWithRef = forwardRef(StoryPlayer);\n\nStoryPlayer.propTypes = {\n  url: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  poster: PropTypes.string,\n  width: PropTypes.number,\n  height: PropTypes.number,\n};\n\nexport default StoryPlayerWithRef;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Internal dependencies\n */\nimport metadata from '../../../../blocks/embed/block.json';\n\nexport default metadata;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport useDebounce from '../hooks/useDebounce';\nimport Autocomplete from './autocomplete';\n\n/**\n * AuthorSelection props.\n *\n * @typedef AuthorSelectionProps\n * @property {Array<number>} authors List of author IDs.\n * @property {()=>void} setAttributes Callable function for saving attribute values.\n */\n\n/**\n * AuthorSelection component. Used for selecting authors of stories.\n *\n * @param {AuthorSelection} props Component props.\n * @return {*} JSX markup.\n */\nconst AuthorSelection = ({ authors: authorIds, setAttributes }) => {\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [authorsList, setAuthorsList] = useState([]);\n  const [authorSuggestions, setAuthorSuggestions] = useState([]);\n\n  useEffect(() => {\n    if (isInitialized || !authorIds?.length) {\n      return;\n    }\n\n    apiFetch({\n      path: addQueryArgs('/wp/v2/users', {\n        per_page: 100,\n        include: authorIds.join(','),\n      }),\n    })\n      .then((users) => {\n        if ('undefined' !== typeof users && Array.isArray(users)) {\n          setAuthorsList(users.map(({ id, name }) => ({ id, value: name })));\n        }\n      })\n      .catch(() => {\n        setAuthorsList([]);\n      })\n      .finally(() => setIsInitialized(true));\n  }, [isInitialized, authorIds]);\n\n  /**\n   * Callback function called when user selects an author from the suggestions.\n   *\n   * Will process the names given by the user and valid author names will be saved.\n   *\n   * @param {Array} tokens Array of strings that were parsed from the text field.\n   * @return {void}\n   */\n  const onChange = (tokens) => {\n    if ('undefined' === typeof tokens || !Array.isArray(tokens)) {\n      return;\n    }\n\n    const authors = tokens\n      .map((token) =>\n        [...authorSuggestions, ...authorsList].find(\n          ({ value }) => value === token\n        )\n      )\n      .filter(Boolean);\n\n    setAuthorsList(authors);\n    setAttributes({ authors: authors.map(({ id }) => id) });\n  };\n\n  /**\n   * Callback function used when user types in the search query in the text field.\n   *\n   * Makes an API call to fetch authors matching the search query.\n   *\n   * @param {string} search Search query to look for authors.\n   * @return {void}\n   */\n  const onInputChange = (search) => {\n    apiFetch({\n      path: addQueryArgs('/wp/v2/users', { per_page: 100, search }),\n    })\n      .then((users) => {\n        if ('undefined' !== typeof users && Array.isArray(users)) {\n          setAuthorSuggestions(\n            users.map(({ id, name }) => ({ id, value: name }))\n          );\n        }\n      })\n      .catch(() => {\n        setAuthorSuggestions([]);\n      });\n  };\n\n  const debouncedOnInputChange = useDebounce(onInputChange, 500);\n\n  return (\n    <Autocomplete\n      label={__('Authors', 'web-stories')}\n      value={authorsList.map(({ value }) => value)}\n      options={authorSuggestions.map(({ value }) => value)}\n      onChange={onChange}\n      onInputChange={debouncedOnInputChange}\n    />\n  );\n};\n\nAuthorSelection.propTypes = {\n  authors: PropTypes.array.isRequired,\n  setAttributes: PropTypes.func.isRequired,\n};\n\nexport default AuthorSelection;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * WordPress dependencies\n */\nimport { FormTokenField } from '@wordpress/components';\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\nconst Autocomplete = ({\n  label,\n  value,\n  onChange,\n  onInputChange,\n  placeholder,\n  options = [],\n}) => {\n  // Return the block, but only if options were passed in.\n  return (\n    Array.isArray(options) && (\n      <div className=\"components-base-control\">\n        <FormTokenField\n          value={value}\n          suggestions={options}\n          onChange={onChange}\n          onInputChange={onInputChange}\n          maxSuggestions={100}\n          label={label}\n          placeholder={placeholder}\n        />\n      </div>\n    )\n  );\n};\n\nAutocomplete.propTypes = {\n  label: PropTypes.string.isRequired,\n  value: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onInputChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  options: PropTypes.array.isRequired,\n};\n\nexport default Autocomplete;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n  DropdownMenu,\n  ToolbarGroup,\n  Toolbar,\n  ToolbarItem,\n} from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_TYPES } from '../constants';\n\nfunction BlockTypeSwitcher({ selectedBlockType, setAttributes }) {\n  // Note: ToolbarGroup and ToolbarButton are only available in Gutenberg 7.0 or later,\n  // so they do not exist in WP 5.3.\n  const ToolbarComponent = ToolbarGroup ? ToolbarGroup : Toolbar;\n  return (\n    <ToolbarComponent>\n      {ToolbarItem ? (\n        <ToolbarItem>\n          {(toolbarItemHTMLProps) => (\n            <DropdownMenu\n              icon=\"update\"\n              toggleProps={toolbarItemHTMLProps}\n              label={__('Change Type', 'web-stories')}\n              controls={BLOCK_TYPES.filter(\n                (blockType) => blockType.id !== selectedBlockType\n              ).map((blockType) => {\n                return {\n                  title: blockType.label,\n                  onClick: () => setAttributes({ blockType: blockType.id }),\n                };\n              })}\n            />\n          )}\n        </ToolbarItem>\n      ) : (\n        <DropdownMenu\n          icon=\"update\"\n          label={__('Change Type', 'web-stories')}\n          controls={BLOCK_TYPES.filter(\n            (blockType) => blockType.id !== selectedBlockType\n          ).map((blockType) => {\n            return {\n              title: blockType.label,\n              onClick: () => setAttributes({ blockType: blockType.id }),\n            };\n          })}\n        />\n      )}\n    </ToolbarComponent>\n  );\n}\n\nBlockTypeSwitcher.propTypes = {\n  selectedBlockType: PropTypes.string.isRequired,\n  setAttributes: PropTypes.func.isRequired,\n};\n\nexport default BlockTypeSwitcher;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { Spinner } from '@wordpress/components';\n\nfunction LoaderContainer({ children }) {\n  return (\n    <div className=\"web-stories-block__loader-container\">\n      {children}\n      <Spinner />\n    </div>\n  );\n}\n\nLoaderContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default LoaderContainer;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Placeholder, Icon, Button } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\n\nfunction BlockConfigurationPanel({\n  instructions,\n  icon,\n  setAttributes,\n  selectionOptions,\n  selectionType,\n}) {\n  const label = __('Web Stories', 'web-stories');\n\n  return (\n    <Placeholder\n      icon={<BlockIcon icon={icon} showColors />}\n      label={label}\n      instructions={instructions}\n      className=\"web-stories-block-configuration-panel\"\n    >\n      {/*\n       * Disable reason: The `list` ARIA role is redundant but\n       * Safari+VoiceOver won't announce the list otherwise.\n       */\n      /* eslint-disable-next-line jsx-a11y/no-redundant-roles */}\n      <ul\n        className=\"web-stories-block-configuration-panel__options\"\n        role=\"list\"\n        aria-label={__('Block Types', 'web-stories')}\n      >\n        {selectionOptions.map((option) => (\n          <li key={option.id}>\n            <Button\n              variant=\"secondary\"\n              isSecondary\n              onClick={() => {\n                setAttributes({ [selectionType]: option.id });\n              }}\n              icon={\n                <Icon\n                  icon={option.panelIcon || option.icon}\n                  title={option.label}\n                />\n              }\n              label={option.description || option.label}\n            />\n            <span\n              className=\"web-stories-block-configuration-panel__label components-placeholder__instructions\"\n              role=\"presentation\"\n            >\n              {option.label}\n            </span>\n          </li>\n        ))}\n      </ul>\n    </Placeholder>\n  );\n}\n\nBlockConfigurationPanel.propTypes = {\n  selectionType: PropTypes.string,\n  selectionOptions: PropTypes.array,\n  instructions: PropTypes.string,\n  icon: PropTypes.node,\n  setAttributes: PropTypes.func.isRequired,\n};\n\nexport default BlockConfigurationPanel;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport {\n  Button,\n  ToolbarGroup,\n  Toolbar,\n  ToolbarButton,\n} from '@wordpress/components';\nimport { BlockControls } from '@wordpress/block-editor';\nimport { Fragment } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { BLOCK_TYPE_URL, VIEW_TYPES } from '../constants';\nimport BlockTypeSwitcher from './blockTypeSwitcher';\n\n/**\n * StoriesBlockControls props.\n *\n * @typedef StoriesBlockControlsProps\n * @property {string}    viewType     String indicator of active view type.\n * @property {Function} setAttributes Callable function for saving attribute values.\n */\n\n/**\n * LatestStoriesBlockControls component. Used for rendering block controls of the block.\n *\n * @param {StoriesBlockControlsProps} props Component props.\n * @return {*} JSX markup.\n */\nconst StoriesBlockControls = ({ blockType, viewType, setAttributes }) => {\n  // Note: ToolbarGroup and ToolbarButton are only available in Gutenberg 7.0 or later,\n  // so they do not exist in WP 5.3.\n  const ToolbarComponent = ToolbarGroup ? ToolbarGroup : Toolbar;\n\n  return (\n    <BlockControls>\n      <ToolbarComponent>\n        {blockType && BLOCK_TYPE_URL !== blockType && (\n          <Fragment>\n            {VIEW_TYPES.map((view) => {\n              return ToolbarButton ? (\n                <ToolbarButton\n                  key={view.id}\n                  label={view.label}\n                  icon={view.icon}\n                  onClick={() => {\n                    setAttributes({ viewType: view.id });\n                  }}\n                  isPressed={view.id === viewType}\n                />\n              ) : (\n                <Button\n                  key={view.id}\n                  label={view.label}\n                  icon={view.icon}\n                  onClick={() => {\n                    setAttributes({ viewType: view.id });\n                  }}\n                  isPressed={view.id === viewType}\n                />\n              );\n            })}\n          </Fragment>\n        )}\n      </ToolbarComponent>\n      <BlockTypeSwitcher\n        selectedBlockType={blockType}\n        setAttributes={setAttributes}\n      />\n    </BlockControls>\n  );\n};\n\nStoriesBlockControls.propTypes = {\n  blockType: PropTypes.string.isRequired,\n  viewType: PropTypes.string.isRequired,\n  setAttributes: PropTypes.func.isRequired,\n};\n\nexport default StoriesBlockControls;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n  TextControl,\n  PanelBody,\n  RangeControl,\n  SelectControl,\n  ToggleControl,\n  RadioControl,\n} from '@wordpress/components';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport {\n  CIRCLES_VIEW_TYPE,\n  GRID_VIEW_TYPE,\n  LIST_VIEW_TYPE,\n} from '../constants';\nimport AuthorSelection from './authorSelection';\n\n/**\n * StoriesInspectorControls props.\n *\n * @typedef StoriesInspectorControlsProps\n * @property {string} viewType String indicator of active view type.\n * @property {number} numOfStories Number indicator of maximum number of stories to show.\n * @property {number} numOfColumns Number indicator of number of columns in grid view type.\n * @property {string} orderby Attribute to order stories by.\n * @property {string} order Sorting order (ASC or DESC)\n * @property {boolean} isShowingTitle Whether or not to display story's title.\n * @property {boolean} isShowingDate Whether or not to display story's date.\n * @property {boolean} isShowingAuthor Whether or not to display story's author.\n * @property {boolean} isShowingViewAll Whether or not to display stories archive link.\n * @property {string} archiveLinkLabel Archive link's label.\n * @property {boolean} imageOnRight Whether or not to display images on right side in list view type.\n * @property {Array} authors An array of authors objects which are currently selected.\n * @property {Function} setAttributes Callable function for saving attribute values.\n */\n\nconst {\n  config: { fieldStates, archiveURL },\n} = window.webStoriesBlockSettings;\n\n/**\n * LatestStoriesBlockControls component. Used for rendering block controls of the block.\n *\n * @param {StoriesInspectorControlsProps} props Component props.\n * @return {*} JSX markup.\n */\nconst StoriesInspectorControls = (props) => {\n  const {\n    attributes: {\n      viewType,\n      numOfStories,\n      numOfColumns,\n      order,\n      orderby,\n      archiveLinkLabel,\n      authors,\n      circleSize,\n      imageAlignment,\n      fieldState,\n    },\n    setAttributes,\n    showFilters = true,\n  } = props;\n\n  const firstUpdate = useRef(true);\n\n  useEffect(() => {\n    // Set default field state on load.\n    const defaultState = {};\n    Object.entries(fieldStates[viewType]).map(([field, fieldObj]) => {\n      const { show } = fieldObj;\n      // Initially the fieldState will be an empty object. Set the defaults based on current viewType.\n      if (undefined === fieldState[`show_${field}`]) {\n        defaultState[`show_${field}`] = show;\n      }\n    });\n\n    // Prevent unnecessary changes if `defaultState` is empty.\n    if (!Object.keys(defaultState).length) {\n      return;\n    }\n\n    setAttributes({\n      fieldState: {\n        ...fieldState,\n        ...defaultState,\n      },\n    });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps -- We only want to set the values once.\n\n  useEffect(() => {\n    // We want to update the fieldState for any viewType change post first render.\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n\n    const defaultState = {};\n    Object.entries(fieldStates[viewType]).map(([field, fieldObj]) => {\n      const { show } = fieldObj;\n      defaultState[`show_${field}`] = show;\n    });\n\n    setAttributes({\n      fieldState: defaultState,\n    });\n  }, [viewType]); // eslint-disable-line react-hooks/exhaustive-deps -- We only want to set the values on viewType change.\n\n  const ArchiveLink = () => {\n    return archiveURL ? (\n      <a target=\"__blank\" href={archiveURL}>\n        {__('View archive page', 'web-stories')}\n      </a>\n    ) : null;\n  };\n\n  const handleToggleControl = (field) => {\n    setAttributes({\n      fieldState: {\n        ...fieldState,\n        [`show_${field}`]: !fieldState[`show_${field}`],\n      },\n    });\n  };\n\n  return (\n    <InspectorControls>\n      <PanelBody\n        className=\"web-stories-settings\"\n        title={__('Layout Options', 'web-stories')}\n      >\n        {fieldStates[viewType] &&\n          Object.entries(fieldStates[viewType]).map(([field, fieldObj]) => {\n            const { label, hidden } = fieldObj;\n\n            // @todo This shouldn't have dependency on field name, update field object appropriately.\n            if (\n              !hidden &&\n              'circle_size' !== field &&\n              'image_alignment' !== field\n            ) {\n              return (\n                <ToggleControl\n                  key={`${field}__control`}\n                  label={label}\n                  checked={fieldState[`show_${field}`] || false}\n                  onChange={() => handleToggleControl(field)}\n                  help={\n                    'archive_link' === field &&\n                    fieldState[`show_${field}`] && <ArchiveLink />\n                  }\n                />\n              );\n            }\n\n            return false;\n          })}\n        {fieldState['show_archive_link'] && archiveURL && (\n          <TextControl\n            label={__('Archive Link Label', 'web-stories')}\n            value={archiveLinkLabel}\n            placeholder={__('View All Stories', 'web-stories')}\n            onChange={(newLabel) =>\n              setAttributes({ archiveLinkLabel: newLabel })\n            }\n            className=\"web-stories-settings-archive-link\"\n          />\n        )}\n      </PanelBody>\n      {[CIRCLES_VIEW_TYPE, GRID_VIEW_TYPE, LIST_VIEW_TYPE].includes(\n        viewType\n      ) && (\n        <PanelBody\n          className=\"web-stories-settings\"\n          title={__('Layout and Style Options', 'web-stories')}\n        >\n          {LIST_VIEW_TYPE === viewType && (\n            <RadioControl\n              label={__('Image Alignment', 'web-stories')}\n              selected={imageAlignment}\n              options={[\n                {\n                  value: 'left',\n                  label: __('Left', 'web-stories'),\n                },\n                {\n                  value: 'right',\n                  label: __('Right', 'web-stories'),\n                },\n              ]}\n              onChange={(value) => {\n                setAttributes({ imageAlignment: value });\n              }}\n            />\n          )}\n          {GRID_VIEW_TYPE === viewType && (\n            <RangeControl\n              label={__('Number of Columns', 'web-stories')}\n              value={numOfColumns}\n              onChange={(updatedNumOfColumns) =>\n                setAttributes({ numOfColumns: updatedNumOfColumns })\n              }\n              min={1}\n              max={4}\n              step={1}\n            />\n          )}\n          {CIRCLES_VIEW_TYPE === viewType && (\n            <RangeControl\n              label={__('Circle Size', 'web-stories')}\n              value={circleSize}\n              onChange={(updatedcircleSize) =>\n                setAttributes({ circleSize: updatedcircleSize })\n              }\n              min={80}\n              max={200}\n              step={5}\n            />\n          )}\n        </PanelBody>\n      )}\n      {showFilters && (\n        <PanelBody title={__('Sorting and Filtering', 'web-stories')}>\n          <SelectControl\n            label={__('Order By', 'web-stories')}\n            options={[\n              {\n                value: 'date',\n                label: __('Date', 'web-stories'),\n              },\n              {\n                value: 'title',\n                label: __('Title', 'web-stories'),\n              },\n            ]}\n            value={orderby || 'date'}\n            onChange={(selection) => setAttributes({ orderby: selection })}\n          />\n          <SelectControl\n            label={__('Order', 'web-stories')}\n            options={[\n              {\n                value: 'asc',\n                label: __('Ascending', 'web-stories'),\n              },\n              {\n                value: 'desc',\n                label: __('Descending', 'web-stories'),\n              },\n            ]}\n            value={order || 'desc'}\n            onChange={(selection) => setAttributes({ order: selection })}\n          />\n          <AuthorSelection authors={authors} setAttributes={setAttributes} />\n          <RangeControl\n            label={__('Number of Stories', 'web-stories')}\n            value={numOfStories}\n            onChange={(updatedNumOfStories) =>\n              setAttributes({ numOfStories: updatedNumOfStories })\n            }\n            min={1}\n            max={20}\n            step={1}\n          />\n        </PanelBody>\n      )}\n    </InspectorControls>\n  );\n};\n\nStoriesInspectorControls.propTypes = {\n  attributes: PropTypes.shape({\n    viewType: PropTypes.string,\n    numOfStories: PropTypes.number,\n    numOfColumns: PropTypes.number,\n    orderby: PropTypes.string,\n    order: PropTypes.string,\n    archiveLinkLabel: PropTypes.string,\n    authors: PropTypes.array,\n    circleSize: PropTypes.number,\n    fieldState: PropTypes.object,\n    imageAlignment: PropTypes.string,\n  }),\n  setAttributes: PropTypes.func.isRequired,\n  showFilters: PropTypes.bool,\n};\n\nexport default StoriesInspectorControls;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * WordPress dependencies\n */\nimport { Spinner, Placeholder } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * StoriesLoading component. Displays a spinner when stories are being fetched.\n *\n * @return {*} JSX markup.\n */\nconst StoriesLoading = () => {\n  return (\n    <Placeholder\n      className=\"web-stories-placeholder\"\n      instructions={__('Loading Stories', 'web-stories')}\n    >\n      <Spinner />\n    </Placeholder>\n  );\n};\n\nexport default StoriesLoading;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport Glider from '@web-stories-wp/glider';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport {\n  CAROUSEL_VIEW_TYPE,\n  CIRCLES_VIEW_TYPE,\n  GRID_VIEW_TYPE,\n} from '../constants';\nimport StoryCard from './storyCard';\n\nconst {\n  config: { archiveURL },\n} = window.webStoriesBlockSettings;\n\nfunction StoriesPreview(props) {\n  const {\n    attributes: {\n      align,\n      viewType,\n      circleSize,\n      imageAlignment,\n      fieldState,\n      numOfColumns,\n    },\n    viewAllLabel,\n    stories,\n  } = props;\n\n  const carouselContainer = useRef(null);\n  const carouselNext = useRef(null);\n  const carouselPrev = useRef(null);\n\n  const blockClasses = classNames(\n    {\n      'is-style-default': !fieldState['show_sharp_corners'],\n      'is-style-squared': fieldState['show_sharp_corners'],\n      'is-carousel':\n        CIRCLES_VIEW_TYPE === viewType || CAROUSEL_VIEW_TYPE === viewType,\n      [`is-view-type-${viewType}`]: viewType,\n      [`columns-${numOfColumns}`]: GRID_VIEW_TYPE === viewType && numOfColumns,\n      [`align${align}`]: align,\n      'has-archive-link': fieldState['show_archive_link'],\n    },\n    'web-stories-list'\n  );\n\n  const StoriesLoop = () =>\n    stories.map((story) => {\n      return (\n        <StoryCard\n          key={story.id}\n          url={story.link}\n          title={story.title.rendered}\n          excerpt={story.excerpt.rendered ? story.excerpt.rendered : ''}\n          date={story.date_gmt}\n          author={story._embedded.author[0].name}\n          poster={story._embedded?.['wp:featuredmedia']?.[0]?.source_url}\n          imageAlignment={imageAlignment}\n          isShowingAuthor={fieldState['show_author']}\n          isShowingDate={fieldState['show_date']}\n          isShowingTitle={fieldState['show_title']}\n          isShowingExcerpt={fieldState['show_excerpt']}\n          circleSize={circleSize}\n        />\n      );\n    });\n\n  useEffect(() => {\n    if (!carouselContainer.current) {\n      return;\n    }\n\n    const storyItem = carouselContainer.current.querySelector(\n      '.web-stories-list__story'\n    );\n\n    if (!storyItem) {\n      return;\n    }\n\n    const itemStyle = window.getComputedStyle(storyItem);\n    const itemWidth =\n      parseFloat(itemStyle.width) +\n      (parseFloat(itemStyle.marginLeft) + parseFloat(itemStyle.marginRight));\n\n    const instance = new Glider(carouselContainer.current, {\n      slidesToShow: 'auto',\n      slidesToScroll: 'auto',\n      itemWidth,\n      duration: 0.25,\n      skipTrack: true,\n      scrollLock: true,\n      arrows: {\n        prev: carouselPrev.current,\n        next: carouselNext.current,\n      },\n    });\n\n    // Force resize to ensure Glider.js has the correct clientWidth for the carouselContainer.\n    instance.resize();\n\n    // Force correct trackWidth, especially when switching view types.\n    const trackWidth = itemWidth * stories.length;\n    instance.trackWidth = trackWidth;\n    instance.track.style.width = `${trackWidth}px`;\n  }, [stories.length, viewType, circleSize]);\n\n  return (\n    <div\n      className={blockClasses}\n      style={{\n        '--ws-circle-size':\n          'circles' === viewType && circleSize ? `${circleSize}px` : undefined,\n      }}\n    >\n      <div className=\"web-stories-list__inner-wrapper\">\n        {CIRCLES_VIEW_TYPE === viewType || CAROUSEL_VIEW_TYPE === viewType ? (\n          <>\n            <div className=\"web-stories-list__carousel\" ref={carouselContainer}>\n              <div className=\"glider-track\">\n                <StoriesLoop />\n              </div>\n            </div>\n            <div\n              aria-label={__('Previous', 'web-stories')}\n              className=\"glider-prev\"\n              ref={carouselPrev}\n            />\n            <div\n              aria-label={__('Next', 'web-stories')}\n              className=\"glider-next\"\n              ref={carouselNext}\n            />\n          </>\n        ) : (\n          <StoriesLoop />\n        )}\n      </div>\n      {fieldState['show_archive_link'] && archiveURL && (\n        <div className=\"web-stories-list__archive-link\">\n          <a target=\"__blank\" href={archiveURL}>\n            {viewAllLabel}\n          </a>\n        </div>\n      )}\n    </div>\n  );\n}\n\nStoriesPreview.propTypes = {\n  attributes: PropTypes.shape({\n    align: PropTypes.string,\n    viewType: PropTypes.string,\n    numOfColumns: PropTypes.number,\n    circleSize: PropTypes.number,\n    fieldState: PropTypes.object,\n    imageAlignment: PropTypes.string,\n  }),\n  stories: PropTypes.array,\n  viewAllLabel: PropTypes.string,\n};\n\nexport default StoriesPreview;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { RawHTML } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { dateI18n, format, __experimentalGetSettings } from '@wordpress/date';\n\nfunction StoryCard({\n  title,\n  excerpt,\n  poster,\n  author,\n  date,\n  isShowingAuthor,\n  isShowingDate,\n  isShowingTitle,\n  isShowingExcerpt,\n  imageAlignment,\n}) {\n  const singleStoryClasses = classNames('web-stories-list__story', {\n    [`image-align-right`]: imageAlignment === 'right',\n  });\n  const hasContentOverlay = isShowingTitle || isShowingAuthor || isShowingDate;\n\n  // @todo Keep an eye on this experimental API, make necessary changes when this gets updated in core.\n  const dateFormat = __experimentalGetSettings().formats.date;\n\n  return (\n    <div className={singleStoryClasses}>\n      <div className=\"web-stories-list__story-poster\">\n        {poster ? (\n          <img src={poster} alt={title} />\n        ) : (\n          <div className=\"web-stories-list__story-poster-placeholder\">\n            <span>{title}</span>\n          </div>\n        )}\n      </div>\n      {hasContentOverlay && (\n        <div className=\"story-content-overlay web-stories-list__story-content-overlay\">\n          {isShowingTitle && title && (\n            <RawHTML className=\"story-content-overlay__title\">{title}</RawHTML>\n          )}\n          {isShowingExcerpt && excerpt && (\n            <RawHTML className=\"story-content-overlay__excerpt\">\n              {excerpt}\n            </RawHTML>\n          )}\n          {isShowingAuthor && (\n            <div className=\"story-content-overlay__author\">\n              {sprintf(\n                /* translators: byline. %s: author name. */\n                __('By %s', 'web-stories'),\n                author\n              )}\n            </div>\n          )}\n          {isShowingDate && (\n            <time\n              dateTime={format('c', date)}\n              className=\"story-content-overlay__date\"\n            >\n              {sprintf(\n                /* translators: %s: publish date. */\n                __('On %s', 'web-stories'),\n                dateI18n(dateFormat, date)\n              )}\n            </time>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nStoryCard.propTypes = {\n  title: PropTypes.string,\n  excerpt: PropTypes.string,\n  poster: PropTypes.string,\n  author: PropTypes.string,\n  date: PropTypes.string,\n  isShowingAuthor: PropTypes.bool,\n  isShowingDate: PropTypes.bool,\n  isShowingTitle: PropTypes.bool,\n  isShowingExcerpt: PropTypes.bool,\n  imageAlignment: PropTypes.string,\n};\n\nexport default StoryCard;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Placeholder } from '@wordpress/components';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport { useEffect } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport LoaderContainer from '../loaderContainer';\n\nconst {\n  config: {\n    api: { stories: storiesApi },\n  },\n} = window.webStoriesBlockSettings;\n\nfunction FetchSelectedStories({\n  icon,\n  label,\n  selectedStoryIds = [],\n  setSelectedStories,\n  setIsFetching,\n}) {\n  const { createErrorNotice } = useDispatch('core/notices');\n\n  const fetchStories = async () => {\n    try {\n      const response = await apiFetch({\n        path: addQueryArgs(storiesApi, {\n          _embed: 'author,wp:featuredmedia',\n          context: 'edit',\n          include: selectedStoryIds,\n          orderby: selectedStoryIds.length > 0 ? 'include' : undefined,\n        }),\n      });\n\n      if (response.length) {\n        setSelectedStories(response);\n      }\n    } catch (error) {\n      createErrorNotice(\n        sprintf(\n          /* translators: %s: error message. */\n          __('Unable to load stories. %s', 'web-stories'),\n          error?.message || ''\n        ),\n        {\n          type: 'snackbar',\n        }\n      );\n    } finally {\n      setIsFetching(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchStories();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Placeholder\n      icon={<BlockIcon icon={icon} showColors />}\n      label={label}\n      className=\"wp-block-web-stories-embed\"\n      instructions={false}\n    >\n      <LoaderContainer>{__('Loading Stories', 'web-stories')}</LoaderContainer>\n    </Placeholder>\n  );\n}\n\nFetchSelectedStories.propTypes = {\n  icon: PropTypes.node,\n  label: PropTypes.string,\n  selectedStoryIds: PropTypes.array,\n  setSelectedStories: PropTypes.func,\n  setIsFetching: PropTypes.func,\n};\n\nexport default FetchSelectedStories;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { Icon, VisuallyHidden } from '@wordpress/components';\nimport { useCallback } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\nfunction ItemOverlay({\n  isSelected,\n  story,\n  addSelectedStory,\n  removeSelectedStory,\n}) {\n  const onClickOverlay = useCallback(\n    (event) => {\n      event.preventDefault();\n\n      if (isSelected) {\n        return;\n      }\n\n      addSelectedStory(story);\n    },\n    [addSelectedStory, story, isSelected]\n  );\n\n  const onClickIcon = useCallback(\n    (event) => {\n      event.preventDefault();\n\n      if (isSelected) {\n        removeSelectedStory(story);\n      } else {\n        addSelectedStory(story);\n      }\n    },\n    [removeSelectedStory, addSelectedStory, story, isSelected]\n  );\n\n  return (\n    <button\n      type=\"button\"\n      className={\n        isSelected\n          ? 'web-stories-story-preview-card__overlay item-selected'\n          : 'web-stories-story-preview-card__overlay'\n      }\n      onClick={onClickOverlay}\n    >\n      {isSelected && (\n        <div className=\"item-selected-icon\">\n          <Icon className=\"item-selected-icon-check\" icon=\"saved\" />\n          <Icon\n            className=\"item-selected-icon-minus\"\n            icon=\"minus\"\n            onClick={onClickIcon}\n          />\n          <VisuallyHidden>{__('Deselect', 'web-stories')}</VisuallyHidden>\n        </div>\n      )}\n    </button>\n  );\n}\n\nItemOverlay.propTypes = {\n  isSelected: PropTypes.bool,\n  story: PropTypes.object.isRequired,\n  addSelectedStory: PropTypes.func,\n  removeSelectedStory: PropTypes.func,\n};\n\nexport default ItemOverlay;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from '@wordpress/element';\nimport {\n  ComboboxControl,\n  SelectControl,\n  Spinner,\n  Button,\n  TextControl,\n} from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport useDebounce from '../../hooks/useDebounce';\nimport StoryPreview from './storyPreview';\n\nconst SORT_OPTIONS = [\n  {\n    label: __('Name', 'web-stories'),\n    value: 'name',\n  },\n  {\n    label: __('Date Created', 'web-stories'),\n    value: 'date',\n  },\n  {\n    label: __('Last Modified', 'web-stories'), // default\n    value: 'modified',\n  },\n  {\n    label: __('Created By', 'web-stories'),\n    value: 'author',\n  },\n];\n\n// ComboboxControl does not yet exist in WordPress 5.5.\n// TODO: Remove these once WordPress 5.5 is no longer required.\n\nfunction AuthorSearch({\n  label,\n  options,\n  onFilterValueChange,\n  onChange,\n  value,\n}) {\n  if (ComboboxControl) {\n    return (\n      <ComboboxControl\n        label={label}\n        options={options}\n        onFilterValueChange={onFilterValueChange}\n        onChange={onChange}\n        value={value}\n        className=\"web-stories-story-picker-filter__combobox\"\n      />\n    );\n  }\n\n  return (\n    <SelectControl\n      label={label}\n      options={options}\n      onChange={onChange}\n      value={value}\n    />\n  );\n}\n\nAuthorSearch.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.array,\n  value: PropTypes.number,\n  onFilterValueChange: PropTypes.func,\n  onChange: PropTypes.func,\n};\n\nfunction KeywordSearch({\n  label,\n  options,\n  onFilterValueChange,\n  onChange,\n  value,\n}) {\n  if (ComboboxControl) {\n    return (\n      <ComboboxControl\n        label={label}\n        options={options}\n        onFilterValueChange={onFilterValueChange}\n        onChange={onChange}\n        value={value}\n        className=\"web-stories-story-picker-filter__combobox\"\n      />\n    );\n  }\n\n  return <TextControl label={label} value={value} onChange={onChange} />;\n}\n\nKeywordSearch.propTypes = {\n  label: PropTypes.string,\n  options: PropTypes.array,\n  value: PropTypes.string,\n  onFilterValueChange: PropTypes.func,\n  onChange: PropTypes.func,\n};\n\nfunction SelectStories({\n  stories = [],\n  selectedStories = [],\n  setSelectedStories,\n  hasAllStories,\n  isLoading,\n  fetchStories,\n  maxNumOfStories,\n}) {\n  const [currentAuthor, setCurrentAuthor] = useState([]);\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [authorKeyword, setAuthorKeyword] = useState('');\n  const [order, setOrder] = useState('desc');\n  const [orderBy, setOrderBy] = useState('modified');\n  const nextPage = useRef(1);\n\n  const { authors } = useSelect(\n    (select) => {\n      const query = {\n        search: authorKeyword,\n      };\n\n      const { getAuthors } = select('core');\n\n      return {\n        // Not using `getUsers()` because it requires `list_users` capability.\n        authors: getAuthors(query),\n      };\n    },\n    [authorKeyword]\n  );\n\n  const fetchSelectedStories = useCallback(() => {\n    fetchStories({\n      author: currentAuthor?.id || undefined,\n      search: searchKeyword || undefined,\n      order,\n      orderBy,\n      page: nextPage.current,\n    });\n  }, [searchKeyword, currentAuthor, fetchStories, order, orderBy]);\n\n  useEffect(() => {\n    nextPage.current = 1;\n    fetchSelectedStories();\n  }, [searchKeyword, currentAuthor, order, orderBy, fetchSelectedStories]);\n\n  const onLoadMoreClick = useCallback(() => {\n    nextPage.current++;\n    fetchSelectedStories();\n  }, [fetchSelectedStories]);\n\n  const debouncedTypeaheadChange = useDebounce((value) => {\n    setSearchKeyword(value);\n  }, 300);\n\n  const debouncedTypeaheadAuthorChange = useDebounce((value) => {\n    setAuthorKeyword(value);\n\n    if ('' === value) {\n      setCurrentAuthor(null);\n    } else {\n      setCurrentAuthor(authors.find((author) => author.id === Number(value)));\n    }\n  }, 300);\n\n  const handleAuthorChange = useCallback(\n    (value) => {\n      // On selecting author from the dropdown, '<Search />' component sets the newOption from the\n      // suggestions array, which in our case is author ID. Check the newOption is a number.\n      if ('' === value) {\n        setCurrentAuthor(null);\n      } else {\n        setCurrentAuthor(authors.find((author) => author.id === Number(value)));\n      }\n    },\n    [authors, setCurrentAuthor]\n  );\n\n  const onSortChange = useCallback(\n    (newSort) => {\n      setOrderBy(newSort);\n      setOrder(['title', 'author'].includes(newSort) ? 'asc' : 'desc');\n    },\n    [setOrder, setOrderBy]\n  );\n\n  const authorSearchOptions = useMemo(() => {\n    return authors\n      .filter(({ name }) => Boolean(name?.trim().length))\n      .map(({ id, name }) => ({\n        label: name,\n        value: id,\n      }));\n  }, [authors]);\n\n  const storiesSearchOptions = useMemo(() => {\n    return stories\n      .filter(({ title }) => Boolean(title?.rendered?.trim()?.length))\n      .map(({ id, title }) => ({\n        label: title.rendered,\n        value: id,\n      }));\n  }, [stories]);\n\n  const selectedStoryIds = useMemo(\n    () => selectedStories.map((story) => story.id),\n    [selectedStories]\n  );\n\n  const addSelectedStory = useCallback(\n    (newStory) => {\n      if (selectedStoryIds.includes(newStory.id)) {\n        return;\n      }\n\n      // Special case for single story embeds to always change selection.\n      if (1 === maxNumOfStories) {\n        setSelectedStories([newStory]);\n        return;\n      }\n\n      if (selectedStories.length >= maxNumOfStories) {\n        return;\n      }\n\n      setSelectedStories([...selectedStories, newStory]);\n    },\n    [setSelectedStories, selectedStories, selectedStoryIds, maxNumOfStories]\n  );\n\n  const removeSelectedStory = useCallback(\n    (story) => {\n      setSelectedStories(\n        selectedStories.filter((_story) => _story.id !== story.id)\n      );\n    },\n    [selectedStories, setSelectedStories]\n  );\n\n  return (\n    <>\n      <div className=\"web-stories-story-picker-filter\">\n        <div className=\"web-stories-story-picker-filter__search-container\">\n          <div className=\"web-stories-story-picker-filter__search-inner\">\n            <KeywordSearch\n              label={__('Search Stories', 'web-stories')}\n              options={storiesSearchOptions}\n              onFilterValueChange={debouncedTypeaheadChange}\n              onChange={debouncedTypeaheadChange}\n              value={searchKeyword}\n            />\n          </div>\n          <AuthorSearch\n            label={__('Search by Author', 'web-stories')}\n            options={authorSearchOptions}\n            onFilterValueChange={debouncedTypeaheadAuthorChange}\n            onChange={handleAuthorChange}\n            value={currentAuthor?.id}\n          />\n          <div>\n            <SelectControl\n              label={__('Sort', 'web-stories')}\n              options={SORT_OPTIONS}\n              value={orderBy}\n              onChange={onSortChange}\n            />\n          </div>\n        </div>\n      </div>\n      {!stories.length && searchKeyword && (\n        <p>\n          {sprintf(\n            /* translators: %s: search term. */\n            __(\n              `Sorry, we couldn't find any results matching \"%s\"`,\n              'web-stories'\n            ),\n            searchKeyword\n          )}\n        </p>\n      )}\n      {!stories.length && !searchKeyword && (\n        <p>{__(`Sorry, we couldn't find any results`, 'web-stories')}</p>\n      )}\n      {stories.length >= 1 && (\n        <div\n          role=\"list\"\n          aria-label={__('Viewing Stories', 'web-stories')}\n          className=\"web-stories-story-picker-filter__grid\"\n        >\n          {stories.map((story) => {\n            const isSelected = selectedStoryIds.includes(story.id);\n\n            return (\n              <div\n                key={story.id}\n                role=\"listitem\"\n                className=\"web-stories-story-picker-filter__grid_item\"\n              >\n                <StoryPreview\n                  story={story}\n                  isSelected={isSelected}\n                  addSelectedStory={addSelectedStory}\n                  removeSelectedStory={removeSelectedStory}\n                />\n              </div>\n            );\n          })}\n        </div>\n      )}\n      <div className=\"web-stories-story-picker-filter__load_more\">\n        {isLoading && <Spinner />}\n        {!hasAllStories && stories.length > 0 && !isLoading && (\n          <Button\n            variant=\"primary\"\n            className=\"is-primary\"\n            onClick={onLoadMoreClick}\n          >\n            {__('Load More', 'web-stories')}\n          </Button>\n        )}\n      </div>\n    </>\n  );\n}\n\nSelectStories.propTypes = {\n  stories: PropTypes.array,\n  selectedStories: PropTypes.array,\n  setSelectedStories: PropTypes.func,\n  hasAllStories: PropTypes.bool,\n  isLoading: PropTypes.bool,\n  fetchStories: PropTypes.func,\n  maxNumOfStories: PropTypes.number,\n};\n\nexport default SelectStories;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Draggable } from '@wordpress/components';\nimport { useCallback, useState } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport useThrottle from '../../hooks/useThrottle';\nimport StoryPreview from './storyPreview';\n\nfunction SortStories({ selectedStories, setSelectedStories }) {\n  const [droppingToIndex, setDroppingToIndex] = useState();\n  const [draggedElementId, setDraggedElementId] = useState();\n\n  const rearrangeStories = useCallback(\n    (oldIndex, newIndex) => {\n      const newList = selectedStories.map((story) => story.id);\n      newList.splice(newIndex, 0, newList.splice(oldIndex, 1).pop());\n      setSelectedStories(\n        newList.map((storyId) => {\n          return selectedStories.find((story) => story.id === storyId);\n        })\n      );\n    },\n    [selectedStories, setSelectedStories]\n  );\n\n  const throttledOnDragOver = useThrottle((event, currentTarget) => {\n    event.preventDefault();\n\n    currentTarget.classList.add('web-stories-story-picker-show-drag-inserter');\n\n    const targetElementRect = currentTarget.getBoundingClientRect();\n\n    const isDraggingOnRightSide =\n      Math.abs(event.clientX - targetElementRect.x) >\n      Math.abs(event.clientX - (targetElementRect.x + targetElementRect.width));\n\n    if (isDraggingOnRightSide) {\n      currentTarget.classList.add(\n        'web-stories-story-picker-show-drag-inserter-right'\n      );\n    } else {\n      currentTarget.classList.remove(\n        'web-stories-story-picker-show-drag-inserter-right'\n      );\n    }\n\n    const dropIndex = Number(currentTarget.children[0].dataset.order);\n\n    setDroppingToIndex(dropIndex);\n  });\n\n  return (\n    <div\n      role=\"list\"\n      aria-label={__('Sorting Stories', 'web-stories')}\n      className=\"web-stories-story-picker-filter__grid\"\n    >\n      {selectedStories.map((story, index) => {\n        return (\n          <div\n            key={story.id}\n            onDragOver={(event) => {\n              // `currentTarget` is only available while the event is being\n              // handled, so get it now and pass it to the throttled function.\n              // https://developer.mozilla.org/en-US/docs/Web/API/Event/currentTarget\n              throttledOnDragOver(event, event.currentTarget);\n            }}\n            onDragLeave={(event) => {\n              event.preventDefault();\n              throttledOnDragOver.cancel();\n              const targetElement = event.target.closest('.droppable');\n              targetElement.classList.remove(\n                'web-stories-story-picker-show-drag-inserter',\n                'web-stories-story-picker-show-drag-inserter-right'\n              );\n            }}\n            onDrop={(event) => {\n              event.preventDefault();\n              event.stopPropagation();\n\n              throttledOnDragOver.cancel();\n\n              // Update the list after drop\n              if (draggedElementId) {\n                const oldIndex = selectedStories.findIndex(\n                  (storyItem) => storyItem.id === draggedElementId\n                );\n                rearrangeStories(oldIndex, droppingToIndex);\n              }\n\n              const targetElement = event.target.closest('.droppable');\n              targetElement.classList.remove(\n                'web-stories-story-picker-show-drag-inserter',\n                'web-stories-story-picker-show-drag-inserter-right'\n              );\n            }}\n            className=\"droppable\"\n          >\n            <div data-order={index} id={`draggable-story-${story.id}`}>\n              <Draggable elementId={`draggable-story-${story.id}`}>\n                {({ onDraggableStart, onDraggableEnd }) => {\n                  const handleOnDragStart = (event) => {\n                    setDraggedElementId(story.id);\n                    onDraggableStart(event);\n                  };\n                  const handleOnDragEnd = (event) => {\n                    onDraggableEnd(event);\n                  };\n\n                  return (\n                    <div\n                      key={story.id}\n                      role=\"listitem\"\n                      className=\"web-stories-story-picker-filter__grid_item\"\n                      onDragStart={handleOnDragStart}\n                      onDragEnd={handleOnDragEnd}\n                      data-order={index}\n                      draggable\n                    >\n                      <StoryPreview story={story} />\n                    </div>\n                  );\n                }}\n              </Draggable>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nSortStories.propTypes = {\n  selectedStories: PropTypes.array,\n  setSelectedStories: PropTypes.func,\n};\n\nexport default SortStories;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __, _n, sprintf } from '@wordpress/i18n';\nimport { Button, Modal } from '@wordpress/components';\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { useDispatch } from '@wordpress/data';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport LoaderContainer from '../loaderContainer';\nimport SelectStories from './selectStories';\nimport SortStories from './sortStories';\n\nconst {\n  config: {\n    api: { stories: storiesApi },\n  },\n} = window.webStoriesBlockSettings;\n\nfunction StoryPicker({\n  selectedStories,\n  setSelectedStories,\n  closeStoryPicker,\n  isSortingStories = false,\n  setIsSortingStories = () => {},\n  maxNumOfStories,\n}) {\n  const { createErrorNotice } = useDispatch('core/notices');\n\n  const [localSelectedStories, setLocalSelectedStories] =\n    useState(selectedStories);\n\n  const [isFetchingForFirstTime, setIsFetchingForFirstTime] = useState(true);\n\n  const [loadingState, setLoadingState] = useState('idle');\n  const [stories, setStories] = useState([]);\n  const [hasAllStories, setHasAllStories] = useState([]);\n\n  const saveChanges = useCallback(() => {\n    closeStoryPicker();\n    setSelectedStories(localSelectedStories);\n  }, [closeStoryPicker, setSelectedStories, localSelectedStories]);\n\n  const fetchStories = useCallback(\n    async ({\n      orderby = 'modified',\n      order = 'desc',\n      search = undefined,\n      author = undefined,\n      page = 1,\n    } = {}) => {\n      const query = {\n        _embed: 'author,wp:featuredmedia',\n        context: 'edit',\n        _web_stories_envelope: true,\n        search,\n        author,\n        page,\n        per_page: 10,\n        orderby,\n        order,\n        status: 'publish',\n      };\n\n      try {\n        setLoadingState('loading');\n        const response = await apiFetch({\n          path: addQueryArgs(storiesApi, query),\n        });\n\n        const totalPages = Number(response?.headers?.['X-WP-TotalPages']);\n\n        setHasAllStories(page === totalPages);\n        setStories((existingStories) =>\n          page === 1 ? response.body : [...existingStories, ...response.body]\n        );\n      } catch (err) {\n        setLoadingState('error');\n        createErrorNotice(__('Unable to load stories', 'web-stories'), {\n          type: 'snackbar',\n        });\n      } finally {\n        setLoadingState('idle');\n        setIsFetchingForFirstTime(false);\n      }\n    },\n    [createErrorNotice]\n  );\n\n  useEffect(() => {\n    if (isFetchingForFirstTime) {\n      fetchStories();\n    }\n  }, [isFetchingForFirstTime, fetchStories]);\n\n  const title =\n    maxNumOfStories === 1\n      ? __('Selected Story', 'web-stories')\n      : __('Selected Stories', 'web-stories');\n\n  return (\n    <Modal\n      title={title}\n      onRequestClose={closeStoryPicker}\n      shouldCloseOnClickOutside={false}\n      className=\"web-stories-story-picker-modal\"\n    >\n      <div className=\"web-stories-story-picker-modal__content\">\n        {isFetchingForFirstTime ? (\n          <LoaderContainer>\n            {__('Loading Stories', 'web-stories')}\n          </LoaderContainer>\n        ) : isSortingStories ? (\n          <SortStories\n            selectedStories={localSelectedStories}\n            setSelectedStories={setLocalSelectedStories}\n          />\n        ) : (\n          <SelectStories\n            stories={stories}\n            selectedStories={localSelectedStories}\n            setSelectedStories={setLocalSelectedStories}\n            hasAllStories={hasAllStories}\n            fetchStories={fetchStories}\n            maxNumOfStories={maxNumOfStories}\n            isLoading={loadingState === 'loading'}\n          />\n        )}\n      </div>\n      <div className=\"web-stories-story-picker-modal__footer\">\n        <div className=\"web-stories-story-picker-modal__footer--left\">\n          {!isSortingStories && !isFetchingForFirstTime && maxNumOfStories > 1 && (\n            <p>\n              {sprintf(\n                /* translators: %1$d: Number of selected stories, %2$d: Maximum allowed stories */\n                _n(\n                  '%1$d of %2$d story selected',\n                  '%1$d of %2$d stories selected',\n                  maxNumOfStories,\n                  'web-stories'\n                ),\n                localSelectedStories.length,\n                maxNumOfStories\n              )}\n            </p>\n          )}\n        </div>\n        <div className=\"web-stories-story-picker-modal__footer--right\">\n          {maxNumOfStories > 1 &&\n            (isSortingStories ? (\n              <Button onClick={() => setIsSortingStories(false)}>\n                {__('Select Stories', 'web-stories')}\n              </Button>\n            ) : (\n              <Button\n                onClick={() => setIsSortingStories(true)}\n                disabled={localSelectedStories.length < 2}\n              >\n                {__('Rearrange Stories', 'web-stories')}\n              </Button>\n            ))}\n          <Button\n            isPrimary\n            disabled={!localSelectedStories.length}\n            onClick={saveChanges}\n          >\n            {__('Update', 'web-stories')}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nStoryPicker.propTypes = {\n  selectedStories: PropTypes.array,\n  setSelectedStories: PropTypes.func,\n  closeStoryPicker: PropTypes.func,\n  isSortingStories: PropTypes.bool,\n  setIsSortingStories: PropTypes.func,\n  maxNumOfStories: PropTypes.number,\n};\n\nexport default StoryPicker;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { dateI18n, __experimentalGetSettings } from '@wordpress/date';\nimport { useMemo } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport ItemOverlay from './itemOverlay';\n\nconst noop = () => {};\n\nfunction StoryPreview({\n  story,\n  isSelected,\n  addSelectedStory = noop,\n  removeSelectedStory = noop,\n}) {\n  // @todo Keep an eye on this experimental API, make necessary changes when this gets updated in core.\n  const dateFormat = __experimentalGetSettings().formats.date;\n  const displayDate = dateI18n(dateFormat, story.created);\n  const displayDateText = useMemo(() => {\n    if (!displayDate) {\n      return null;\n    }\n\n    switch (story.status) {\n      case 'publish':\n        return sprintf(\n          /* translators: %s: published date */\n          __('Published %s', 'web-stories'),\n          displayDate\n        );\n\n      case 'future':\n        return sprintf(\n          /* translators: %s: future publish date */\n          __('Scheduled %s', 'web-stories'),\n          displayDate\n        );\n\n      default:\n        return sprintf(\n          /* translators: %s: last modified date */\n          __('Modified %s', 'web-stories'),\n          displayDate\n        );\n    }\n  }, [story.status, displayDate]);\n\n  return (\n    <div className=\"web-stories-story-preview-card\">\n      <div className=\"web-stories-story-preview-card__poster\">\n        <ItemOverlay\n          isSelected={isSelected}\n          story={story}\n          addSelectedStory={addSelectedStory}\n          removeSelectedStory={removeSelectedStory}\n        />\n        {story._embedded?.['wp:featuredmedia']?.[0]?.source_url && (\n          <img\n            src={story._embedded?.['wp:featuredmedia']?.[0]?.source_url}\n            alt=\"\"\n            width={640}\n            height={853}\n          />\n        )}\n      </div>\n      <div className=\"web-stories-story-preview-card__label\">\n        <div className=\"web-stories-story-preview-card__title\">\n          {story.title.rendered === ''\n            ? __('Untitled', 'web-stories')\n            : story.title.rendered}\n        </div>\n        {story._embedded?.author?.[0]?.name && (\n          <div>{story._embedded?.author?.[0]?.name}</div>\n        )}\n        <div>{displayDateText}</div>\n      </div>\n    </div>\n  );\n}\n\nStoryPreview.propTypes = {\n  story: PropTypes.object.isRequired,\n  isSelected: PropTypes.bool,\n  addSelectedStory: PropTypes.func,\n  removeSelectedStory: PropTypes.func,\n};\n\nexport default StoryPreview;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport {\n  EMBED_STORY_BLOCK_ICON,\n  LATEST_STORIES_BLOCK_ICON,\n  CAROUSEL_VIEW_TYPE_ICON,\n  SELECTED_STORIES_BLOCK_ICON,\n  CIRCLES_VIEW_TYPE_ICON,\n  LIST_VIEW_TYPE_ICON,\n  GRID_VIEW_TYPE_ICON,\n  BOX_CAROUSEL_CONFIG_ICON,\n  LIST_VIEW_CONFIG_ICON,\n  CIRCLE_CAROUSEL_CONFIG_ICON,\n  GRID_VIEW_CONFIG_ICON,\n} from './icons';\n\n/**\n * Block types\n */\nexport const BLOCK_TYPE_LATEST_STORIES = 'latest-stories';\nexport const BLOCK_TYPE_SELECTED_STORIES = 'selected-stories';\nexport const BLOCK_TYPE_URL = 'url';\nexport const BLOCK_TYPES = [\n  {\n    id: BLOCK_TYPE_LATEST_STORIES,\n    label: __('Latest Stories', 'web-stories'),\n    description: __('Embed latest web stories.', 'web-stories'),\n    icon: LATEST_STORIES_BLOCK_ICON,\n  },\n  {\n    id: BLOCK_TYPE_SELECTED_STORIES,\n    label: __('Selected Stories', 'web-stories'),\n    description: __('Manually select web stories.', 'web-stories'),\n    icon: SELECTED_STORIES_BLOCK_ICON,\n  },\n  {\n    id: BLOCK_TYPE_URL,\n    label: __('Single Story', 'web-stories'),\n    description: __('Embed a single story.', 'web-stories'),\n    icon: EMBED_STORY_BLOCK_ICON,\n  },\n];\n\n/**\n * Block controls icons.\n */\nexport const GRID_VIEW_TYPE = 'grid';\nexport const LIST_VIEW_TYPE = 'list';\nexport const CIRCLES_VIEW_TYPE = 'circles';\nexport const CAROUSEL_VIEW_TYPE = 'carousel';\n\nexport const VIEW_TYPES = [\n  {\n    id: CAROUSEL_VIEW_TYPE,\n    label: __('Box Carousel', 'web-stories'),\n    icon: CAROUSEL_VIEW_TYPE_ICON,\n    panelIcon: BOX_CAROUSEL_CONFIG_ICON,\n  },\n  {\n    id: CIRCLES_VIEW_TYPE,\n    label: __('Circle Carousel', 'web-stories'),\n    icon: CIRCLES_VIEW_TYPE_ICON,\n    panelIcon: CIRCLE_CAROUSEL_CONFIG_ICON,\n  },\n  {\n    id: GRID_VIEW_TYPE,\n    label: __('Grid', 'web-stories'),\n    icon: GRID_VIEW_TYPE_ICON,\n    panelIcon: GRID_VIEW_CONFIG_ICON,\n  },\n  {\n    id: LIST_VIEW_TYPE,\n    label: __('List', 'web-stories'),\n    icon: LIST_VIEW_TYPE_ICON,\n    panelIcon: LIST_VIEW_CONFIG_ICON,\n  },\n];\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { default as saveV2 } from './save';\n\nconst blockAttributes = {\n  url: {\n    type: 'string',\n  },\n  title: {\n    type: 'string',\n  },\n  poster: {\n    type: 'string',\n  },\n  width: {\n    type: 'number',\n    default: 360,\n  },\n  height: {\n    type: 'number',\n    default: 600,\n  },\n  align: {\n    type: 'string',\n    default: 'none',\n  },\n};\n\n/**\n * The block's save function (pure).\n *\n * Represents a cached copy of the blocks content to be shown in case\n * the plugin is disabled.\n *\n * The server-side 'render_callback' is used to override this on page load.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/block-edit-save/\n * @param {Object} props Props.\n * @param {Object} props.attributes Block attributes.\n * @return {null|*} Rendered block.\n */\nfunction save({ attributes }) {\n  const { url, title, poster, width, height, align = 'none' } = attributes;\n\n  if (!url || !title) {\n    return null;\n  }\n\n  return (\n    <div className={`wp-block-web-stories-embed align${align}`}>\n      <amp-story-player\n        style={{\n          width: width ? `${width}px` : undefined,\n          height: height ? `${height}px` : undefined,\n        }}\n        data-testid=\"amp-story-player\"\n      >\n        <a\n          href={url}\n          style={{\n            ['--story-player-poster']: poster ? `url('${poster}')` : undefined,\n          }}\n        >\n          {title}\n        </a>\n      </amp-story-player>\n    </div>\n  );\n}\n\nsave.propTypes = {\n  attributes: PropTypes.shape({\n    url: PropTypes.string,\n    title: PropTypes.string,\n    poster: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    align: PropTypes.string,\n  }).isRequired,\n};\n\nconst v1 = {\n  attributes: blockAttributes,\n  save,\n};\n\nconst v2 = {\n  attributes: blockAttributes,\n  migrate(attrs) {\n    return {\n      ...attrs,\n      blockType: 'url',\n      stories: [],\n      viewType: '',\n      numOfStories: 5,\n      numOfColumns: 2,\n      circleSize: 96,\n      orderby: '',\n      order: '',\n      archiveLinkLabel: '',\n      authors: [],\n      fieldState: {},\n    };\n  },\n  save: saveV2,\n  isEligible({ url, blockType }) {\n    return Boolean(!blockType && url && url.trim().length);\n  },\n};\n\n// The deprecations in the array should be in reverse chronological order.\n// This allows the block editor to attempt to apply the most recent and likely deprecations first,\n// avoiding unnecessary and expensive processing.\nconst deprecated = [v2, v1];\n\nexport default deprecated;\n","// extracted by mini-css-extract-plugin\nexport {};","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { BlockIcon } from './icons';\nimport SingleStoryEmbed from './block-types/single-story/edit';\nimport StoriesBlockControls from './components/storiesBlockControls';\nimport BlockConfigurationPanel from './components/storiesBlockConfigurationPanel';\nimport LatestStoriesEdit from './block-types/latest-stories/edit';\nimport SelectedStoriesEdit from './block-types/selected-stories/edit';\nimport {\n  BLOCK_TYPE_LATEST_STORIES,\n  BLOCK_TYPE_SELECTED_STORIES,\n  BLOCK_TYPE_URL,\n  BLOCK_TYPES,\n  VIEW_TYPES,\n} from './constants';\n\nfunction WebStoriesEdit({ attributes, setAttributes, className, isSelected }) {\n  const { blockType, viewType } = attributes;\n\n  if (!blockType) {\n    return (\n      <BlockConfigurationPanel\n        icon={<BlockIcon />}\n        setAttributes={setAttributes}\n        instructions={__(\n          'Embed a collection of your latest stories, select your own or enter an URL.',\n          'web-stories'\n        )}\n        selectionOptions={BLOCK_TYPES}\n        selectionType={'blockType'}\n      />\n    );\n  }\n\n  if (blockType !== BLOCK_TYPE_URL && !viewType) {\n    return (\n      <BlockConfigurationPanel\n        icon={<BlockIcon />}\n        setAttributes={setAttributes}\n        instructions={__('Select a layout style', 'web-stories')}\n        selectionOptions={VIEW_TYPES}\n        selectionType={'viewType'}\n      />\n    );\n  }\n\n  return (\n    <>\n      <StoriesBlockControls\n        blockType={blockType}\n        viewType={viewType}\n        setAttributes={setAttributes}\n      />\n\n      {blockType === BLOCK_TYPE_LATEST_STORIES && (\n        <LatestStoriesEdit\n          attributes={attributes}\n          setAttributes={setAttributes}\n        />\n      )}\n\n      {blockType === BLOCK_TYPE_SELECTED_STORIES && (\n        <SelectedStoriesEdit\n          icon={<BlockIcon />}\n          attributes={attributes}\n          setAttributes={setAttributes}\n          isSelected={isSelected}\n        />\n      )}\n\n      {blockType === BLOCK_TYPE_URL && (\n        <SingleStoryEmbed\n          icon={<BlockIcon />}\n          attributes={attributes}\n          setAttributes={setAttributes}\n          className={className}\n          isSelected={isSelected}\n        />\n      )}\n    </>\n  );\n}\n\nWebStoriesEdit.propTypes = {\n  attributes: PropTypes.shape({\n    blockType: PropTypes.string,\n    url: PropTypes.string,\n    title: PropTypes.string,\n    poster: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    align: PropTypes.string,\n    stories: PropTypes.array,\n    viewType: PropTypes.string,\n    numOfStories: PropTypes.number,\n    numOfColumns: PropTypes.number,\n    orderby: PropTypes.string,\n    order: PropTypes.string,\n    archiveLinkLabel: PropTypes.string,\n    authors: PropTypes.array,\n  }),\n  setAttributes: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  isSelected: PropTypes.bool,\n};\n\nexport default WebStoriesEdit;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { debounce } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useMemo } from '@wordpress/element';\n\n/**\n * Debounces a function with Lodash's `debounce`. A new debounced function will\n * be returned and any scheduled calls cancelled if any of the arguments change,\n * including the function to debounce, so please wrap functions created on\n * render in components in `useCallback`.\n *\n * Replacement for the same hook from the `@wordpress/compose` package which is\n * not available in WordPress 5.5.\n *\n * @todo Remove once WordPress 5.5 is no longer required.\n * @see https://docs-lodash.com/v4/debounce/\n * @see https://github.com/WordPress/gutenberg/blob/4fdffac83552063c56a71f5c5dd96359c2a580be/packages/compose/src/hooks/use-debounce/index.js\n * @param {Function}                          fn        The function to debounce.\n * @param {number}                            [wait]    The number of milliseconds to delay.\n * @param {import('lodash').DebounceSettings} [options] The options object.\n * @return {import('lodash').Cancelable} Debounced function.\n */\nexport default function useDebounce(fn, wait, options) {\n  const debounced = useMemo(\n    () => debounce(fn, wait, options),\n    [fn, wait, options]\n  );\n  useEffect(() => () => debounced.cancel(), [debounced]);\n  return debounced;\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { throttle } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useMemo } from '@wordpress/element';\n\n/**\n * Throttles a function with Lodash's `throttle`. A new throttled function will\n * be returned and any scheduled calls cancelled if any of the arguments change,\n * including the function to throttle, so please wrap functions created on\n * render in components in `useCallback`.\n *\n * Replacement for the same hook from the `@wordpress/compose` package which is\n * not available in WordPress 5.5.\n *\n * @todo Remove once WordPress 5.5 is no longer required.\n * @see https://docs-lodash.com/v4/throttle/\n * @see https://github.com/WordPress/gutenberg/blob/4fdffac83552063c56a71f5c5dd96359c2a580be/packages/compose/src/hooks/use-throttle/index.js\n * @param {Function}                             fn        The function to throttle.\n * @param {number}                            [wait]    The number of milliseconds to throttle invocations to.\n * @param {import('lodash').ThrottleSettings} [options] The options object. See linked documentation for details.\n * @return {import('lodash').Cancelable} Throttled function.\n */\nexport default function useThrottle(fn, wait, options) {\n  const throttled = useMemo(\n    () => throttle(fn, wait, options),\n    [fn, wait, options]\n  );\n  useEffect(() => () => throttled.cancel(), [throttled]);\n  return throttled;\n}\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { ReactComponent as CirclesCarouselViewIcon } from './images/view-type/circles-carousel-view.svg';\nimport { ReactComponent as CirclesCarouselConfigIcon } from './images/config-panel/circles-carousel-view-panel-icon.svg';\nimport { ReactComponent as LatestStoriesBlockIcon } from './icons/block-type/latest-stories-block.svg';\nimport { ReactComponent as SelectedStoriesBlockIcon } from './icons/block-type/selected-stories-block.svg';\nimport { ReactComponent as EmbedStoriesBlockIcon } from './icons/block-type/embed-story-block.svg';\n\nimport { ReactComponent as GridViewIcon } from './icons/view-type/grid-view.svg';\nimport { ReactComponent as ListViewIcon } from './icons/view-type/list-view.svg';\nimport { ReactComponent as BoxCarouselViewIcon } from './icons/view-type/box-carousel-view.svg';\n\nimport { ReactComponent as GridViewConfigIcon } from './icons/config-panel/grid-view-panel-icon.svg';\nimport { ReactComponent as ListViewConfigIcon } from './icons/config-panel/list-view-panel-icon.svg';\nimport { ReactComponent as BoxCarouselConfigIcon } from './icons/config-panel/box-carousel-view-panel-icon.svg';\n\n// Icons for block types.\nexport const LATEST_STORIES_BLOCK_ICON = (\n  <LatestStoriesBlockIcon width={31} height={42} />\n);\n\nexport const SELECTED_STORIES_BLOCK_ICON = (\n  <SelectedStoriesBlockIcon width={32} height={32} />\n);\n\nexport const EMBED_STORY_BLOCK_ICON = (\n  <EmbedStoriesBlockIcon width={32} height={16} />\n);\n\n// Icons for view types.\nexport const CAROUSEL_VIEW_TYPE_ICON = (\n  <BoxCarouselViewIcon width={18} height={14} />\n);\n\nexport const CIRCLES_VIEW_TYPE_ICON = (\n  <CirclesCarouselViewIcon\n    className=\"web-stories-block__toolbar-icon icon__circles-carousel\"\n    width={23}\n    height={18}\n  />\n);\n\nexport const GRID_VIEW_TYPE_ICON = <GridViewIcon width={12} height={14} />;\nexport const LIST_VIEW_TYPE_ICON = <ListViewIcon width={12} height={13} />;\n\n// Configuration panel view type icons.\nexport const BOX_CAROUSEL_CONFIG_ICON = (\n  <BoxCarouselConfigIcon width={26} height={20} />\n);\n\nexport const LIST_VIEW_CONFIG_ICON = (\n  <ListViewConfigIcon width={22} height={26} />\n);\n\nexport const CIRCLE_CAROUSEL_CONFIG_ICON = (\n  <CirclesCarouselConfigIcon width={42} height={24} />\n);\n\nexport const GRID_VIEW_CONFIG_ICON = (\n  <GridViewConfigIcon width={20} height={27} />\n);\n\n// Defining the SVG like this ensures that IDs are unique\n// even if there are multiple instances of the component.\n// See https://github.com/google/web-stories-wp/issues/8401\nexport const BlockIcon = () => {\n  const id = useInstanceId(BlockIcon);\n\n  return (\n    <svg fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 64 64\">\n      <circle\n        cx=\"32\"\n        cy=\"32\"\n        r=\"32\"\n        transform=\"rotate(-180 32 32)\"\n        fill={`url(#gradient-${id})`}\n      />\n      <g filter={`url(#filter-${id})`} fill=\"#fff\">\n        <path d=\"M41.6 19.2a3.2 3.2 0 013.2 3.2v19.2a3.2 3.2 0 01-3.2 3.2V19.2zm-24 0a3.2 3.2 0 013.2-3.2h14.4a3.2 3.2 0 013.2 3.2v25.6a3.2 3.2 0 01-3.2 3.2H20.8a3.2 3.2 0 01-3.2-3.2V19.2zM48 22.4a2.4 2.4 0 012.4 2.4v14.4a2.4 2.4 0 01-2.4 2.4V22.4z\" />\n      </g>\n      <defs>\n        <linearGradient\n          id={`gradient-${id}`}\n          x1=\"13.255\"\n          y1=\"6.599\"\n          x2=\"35.289\"\n          y2=\"62.791\"\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#79B3FF\" />\n          <stop offset=\"1\" stopColor=\"#CBACFF\" />\n        </linearGradient>\n        <filter\n          id={`filter-${id}`}\n          x=\"8.96\"\n          y=\"10.24\"\n          width=\"46.08\"\n          height=\"46.08\"\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\n          <feColorMatrix\n            in=\"SourceAlpha\"\n            values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n          />\n          <feOffset dy=\"1.28\" />\n          <feGaussianBlur stdDeviation=\"1.92\" />\n          <feColorMatrix values=\"0 0 0 0 0.423529 0 0 0 0 0.490196 0 0 0 0 0.733333 0 0 0 0.3 0\" />\n          <feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\" />\n          <feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\" />\n        </filter>\n      </defs>\n    </svg>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M14 1H8a7 7 0 00-7 7v0a7 7 0 007 7h6M18 1h6a7 7 0 017 7v0a7 7 0 01-7 7h-6M9 8h13.5\",\n  stroke: \"currentColor\",\n  strokeWidth: 2\n});\n\nfunction SvgEmbedStoryBlock({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst MemoSvgEmbedStoryBlock = /*#__PURE__*/React.memo(SvgEmbedStoryBlock);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAzMiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQgMUg4QzQuMTM0MDEgMSAxIDQuMTM0MDEgMSA4VjhDMSAxMS44NjYgNC4xMzQwMSAxNSA4IDE1SDE0IiBzdHJva2U9IiMzNDdCQjUiIHN0cm9rZS13aWR0aD0iMiIvPjxwYXRoIGQ9Ik0xOCAxSDI0QzI3Ljg2NiAxIDMxIDQuMTM0MDEgMzEgOFY4QzMxIDExLjg2NiAyNy44NjYgMTUgMjQgMTVIMTgiIHN0cm9rZT0iIzM0N0JCNSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHBhdGggZD0iTTkgOEgyMi41IiBzdHJva2U9IiMzNDdCQjUiIHN0cm9rZS13aWR0aD0iMiIgLz48L3N2Zz4K\";\nexport { MemoSvgEmbedStoryBlock as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"rect\", {\n  x: 1,\n  y: 1,\n  width: 29,\n  height: 40,\n  rx: 1,\n  stroke: \"currentColor\",\n  strokeWidth: 2\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M6 27h19v2H6zM6 31h4v2H6z\"\n});\n\nfunction SvgLatestStoriesBlock({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 31 42\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref, _ref2);\n}\n\nconst MemoSvgLatestStoriesBlock = /*#__PURE__*/React.memo(SvgLatestStoriesBlock);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iNDIiIHZpZXdCb3g9IjAgMCAzMSA0MiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB4PSIxIiB5PSIxIiB3aWR0aD0iMjkiIGhlaWdodD0iNDAiIHJ4PSIxIiBzdHJva2U9IiMzNDdCQjUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjYiIHk9IjI3IiB3aWR0aD0iMTkiIGhlaWdodD0iMiIgZmlsbD0iIzM0N0JCNSIgLz48cmVjdCB4PSI2IiB5PSIzMSIgd2lkdGg9IjQiIGhlaWdodD0iMiIgZmlsbD0iIzM0N0JCNSIgLz48L3N2Zz4K\";\nexport { MemoSvgLatestStoriesBlock as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 16,\n  cy: 16,\n  r: 15,\n  stroke: \"currentColor\",\n  strokeWidth: 2\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16 9.263V16m0 6.737V16m0 0H9.263M16 16h6.737\",\n  stroke: \"currentColor\",\n  strokeWidth: 2\n});\n\nfunction SvgSelectedStoriesBlock({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref, _ref2);\n}\n\nconst MemoSvgSelectedStoriesBlock = /*#__PURE__*/React.memo(SvgSelectedStoriesBlock);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxNSIgc3Ryb2tlPSIjMzQ3QkI1IiBzdHJva2Utd2lkdGg9IjIiIC8+PHBhdGggZD0iTTE2IDkuMjYzMTVWMTZNMTYgMjIuNzM2OFYxNk0xNiAxNkg5LjI2MzE1TTE2IDE2SDIyLjczNjgiIHN0cm9rZT0iIzM0N0JCNSIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+Cg==\";\nexport { MemoSvgSelectedStoriesBlock as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  d: \"M7 1h12v18H7z\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M24 2h2v16h-2zM0 2h2v16H0z\"\n});\n\nfunction SvgBoxCarouselViewPanelIcon({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 26 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref, _ref2);\n}\n\nconst MemoSvgBoxCarouselViewPanelIcon = /*#__PURE__*/React.memo(SvgBoxCarouselViewPanelIcon);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjYiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyNiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB4PSI3IiB5PSIxIiB3aWR0aD0iMTIiIGhlaWdodD0iMTgiIHN0cm9rZT0iIzM0N0JCNSIgc3Ryb2tlLXdpZHRoPSIyIiAvPjxyZWN0IHg9IjI0IiB5PSIyIiB3aWR0aD0iMiIgaGVpZ2h0PSIxNiIgZmlsbD0iIzM0N0JCNSIgLz48cmVjdCB5PSIyIiB3aWR0aD0iMiIgaGVpZ2h0PSIxNiIgZmlsbD0iIzM0N0JCNSIgLz48L3N2Zz4K\";\nexport { MemoSvgBoxCarouselViewPanelIcon as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  d: \"M1 1h6.462v9.538H1zM1 15.615h6.462v9.538H1zM12.539 1h6.462v9.538h-6.462zM12.539 15.615h6.462v9.538h-6.462z\"\n});\n\nfunction SvgGridViewPanelIcon({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 27\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst MemoSvgGridViewPanelIcon = /*#__PURE__*/React.memo(SvgGridViewPanelIcon);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjciIHZpZXdCb3g9IjAgMCAyMCAyNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB4PSIxIiB5PSIxIiB3aWR0aD0iNi40NjE1NCIgaGVpZ2h0PSI5LjUzODQ2IiBzdHJva2U9IiMzNDdCQjUiIHN0cm9rZS13aWR0aD0iMiIvPjxyZWN0IHg9IjEiIHk9IjE1LjYxNTQiIHdpZHRoPSI2LjQ2MTU0IiBoZWlnaHQ9IjkuNTM4NDYiIHN0cm9rZT0iIzM0N0JCNSIgc3Ryb2tlLXdpZHRoPSIyIi8+PHJlY3QgeD0iMTIuNTM4NSIgeT0iMSIgd2lkdGg9IjYuNDYxNTQiIGhlaWdodD0iOS41Mzg0NiIgc3Ryb2tlPSIjMzQ3QkI1IiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSIxMi41Mzg1IiB5PSIxNS42MTU0IiB3aWR0aD0iNi40NjE1NCIgaGVpZ2h0PSI5LjUzODQ2IiBzdHJva2U9IiMzNDdCQjUiIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPgo=\";\nexport { MemoSvgGridViewPanelIcon as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  d: \"M1 1h20v4H1zM1 11h20v4H1zM1 21h20v4H1z\"\n});\n\nfunction SvgListViewPanelIcon({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 22 26\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst MemoSvgListViewPanelIcon = /*#__PURE__*/React.memo(SvgListViewPanelIcon);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjYiIHZpZXdCb3g9IjAgMCAyMiAyNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB4PSIxIiB5PSIxIiB3aWR0aD0iMjAiIGhlaWdodD0iNCIgc3Ryb2tlPSIjMzQ3QkI1IiBzdHJva2Utd2lkdGg9IjIiIC8+PHJlY3QgeD0iMSIgeT0iMTEiIHdpZHRoPSIyMCIgaGVpZ2h0PSI0IiBzdHJva2U9IiMzNDdCQjUiIHN0cm9rZS13aWR0aD0iMiIgLz48cmVjdCB4PSIxIiB5PSIyMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjQiIHN0cm9rZT0iIzM0N0JCNSIgc3Ryb2tlLXdpZHRoPSIyIiAvPjwvc3ZnPgo=\";\nexport { MemoSvgListViewPanelIcon as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M4 14h10V0H4zM16 12h2V2h-2zM0 12h2V2H0z\"\n});\n\nfunction SvgBoxCarouselView({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 18 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst MemoSvgBoxCarouselView = /*#__PURE__*/React.memo(SvgBoxCarouselView);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxOCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iMTQiIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDQgMTQpIiAvPjxyZWN0IHdpZHRoPSIyIiBoZWlnaHQ9IjEwIiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAxNiAxMikiIC8+PHJlY3Qgd2lkdGg9IjIiIGhlaWdodD0iMTAiIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgMTIpIiAvPjwvc3ZnPgo=\";\nexport { MemoSvgBoxCarouselView as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h5v6H0zM0 8h5v6H0zM7 0h5v6H7zM7 8h5v6H7z\"\n});\n\nfunction SvgGridView({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 12 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst MemoSvgGridView = /*#__PURE__*/React.memo(SvgGridView);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxMiAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iNSIgaGVpZ2h0PSI2IiAvPjxyZWN0IHk9IjgiIHdpZHRoPSI1IiBoZWlnaHQ9IjYiIC8+PHJlY3QgeD0iNyIgd2lkdGg9IjUiIGhlaWdodD0iNiIgLz48cmVjdCB4PSI3IiB5PSI4IiB3aWR0aD0iNSIgaGVpZ2h0PSI2IiAvPjwvc3ZnPgo=\";\nexport { MemoSvgGridView as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 0h12v3H0zM0 5h12v3H0zM0 10h12v3H0z\"\n});\n\nfunction SvgListView({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 13 13\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref);\n}\n\nconst MemoSvgListView = /*#__PURE__*/React.memo(SvgListView);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMyIgLz48cmVjdCB5PSI1IiB3aWR0aD0iMTIiIGhlaWdodD0iMyIgLz48cmVjdCB5PSIxMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjMiIC8+PC9zdmc+Cg==\";\nexport { MemoSvgListView as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 21,\n  cy: 12,\n  r: 11,\n  fill: \"#fff\",\n  stroke: \"#347BB5\",\n  strokeWidth: 2\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"circles-carousel-view-panel-icon_svg__a\",\n  fill: \"#fff\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M34.803 17.88A14.952 14.952 0 0036 12c0-2.087-.426-4.075-1.197-5.88a6 6 0 110 11.761z\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M34.803 17.88l-1.84-.784-.962 2.258 2.406.487.396-1.96zm0-11.76l-.396-1.96L32 4.645l.963 2.258 1.84-.785zM34 12c0 1.813-.37 3.534-1.036 5.096l3.679 1.57A16.952 16.952 0 0038 12h-4zm-1.036-5.096A12.952 12.952 0 0134 12h4c0-2.362-.483-4.616-1.357-6.665l-3.68 1.57zM35.2 8.08c.257-.052.524-.08.8-.08V4c-.544 0-1.077.055-1.593.16l.793 3.92zM36 8a4 4 0 014 4h4a8 8 0 00-8-8v4zm4 4a4 4 0 01-4 4v4a8 8 0 008-8h-4zm-4 4c-.276 0-.543-.028-.8-.08l-.793 3.92c.516.105 1.05.16 1.593.16v-4z\",\n  fill: \"#347BB5\",\n  mask: \"url(#circles-carousel-view-panel-icon_svg__a)\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"circles-carousel-view-panel-icon_svg__b\",\n  fill: \"#fff\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M7.197 6.12a6 6 0 100 11.761A14.952 14.952 0 016 12c0-2.087.426-4.075 1.197-5.88z\"\n}));\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7.197 6.12l1.84.784.962-2.258-2.406-.487-.396 1.96zm0 11.76l.396 1.96L10 19.355l-.963-2.258-1.84.785zM6 8c.276 0 .543.028.8.08l.793-3.92A8.028 8.028 0 006 4v4zm-4 4a4 4 0 014-4V4a8 8 0 00-8 8h4zm4 4a4 4 0 01-4-4h-4a8 8 0 008 8v-4zm.8-.08c-.257.052-.524.08-.8.08v4c.544 0 1.077-.055 1.593-.16L6.8 15.92zm2.236 1.176A12.952 12.952 0 018 12H4c0 2.362.483 4.616 1.357 6.665l3.68-1.57zM8 12c0-1.813.37-3.534 1.036-5.096l-3.679-1.57A16.952 16.952 0 004 12h4z\",\n  fill: \"#347BB5\",\n  mask: \"url(#circles-carousel-view-panel-icon_svg__b)\"\n});\n\nfunction SvgCirclesCarouselViewPanelIcon({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 42 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref, _ref2, _ref3, _ref4, _ref5);\n}\n\nconst MemoSvgCirclesCarouselViewPanelIcon = /*#__PURE__*/React.memo(SvgCirclesCarouselViewPanelIcon);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCA0MiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyMSIgY3k9IjEyIiByPSIxMSIgZmlsbD0id2hpdGUiIHN0cm9rZT0iIzM0N0JCNSIgc3Ryb2tlLXdpZHRoPSIyIi8+PG1hc2sgaWQ9InBhdGgtMi1pbnNpZGUtMSIgZmlsbD0id2hpdGUiPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMzQuODAzMyAxNy44ODA3QzM1LjU3MzYgMTYuMDc0OSAzNiAxNC4wODcyIDM2IDEyQzM2IDkuOTEyNzcgMzUuNTczNiA3LjkyNTEgMzQuODAzMyA2LjExOTMzQzM1LjE5IDYuMDQxMDggMzUuNTkwMiA2IDM2IDZDMzkuMzEzNyA2IDQyIDguNjg2MjkgNDIgMTJDNDIgMTUuMzEzNyAzOS4zMTM3IDE4IDM2IDE4QzM1LjU5MDIgMTggMzUuMTkgMTcuOTU4OSAzNC44MDMzIDE3Ljg4MDdaIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zNC44MDMzIDE3Ljg4MDdMMzIuOTYzNyAxNy4wOTU5TDMyLjAwMDUgMTkuMzU0TDM0LjQwNjYgMTkuODQwOUwzNC44MDMzIDE3Ljg4MDdaTTM0LjgwMzMgNi4xMTkzM0wzNC40MDY2IDQuMTU5MDhMMzIuMDAwNSA0LjY0NjA0TDMyLjk2MzcgNi45MDQwN0wzNC44MDMzIDYuMTE5MzNaTTM0IDEyQzM0IDEzLjgxMjYgMzMuNjMwMSAxNS41MzM3IDMyLjk2MzcgMTcuMDk1OUwzNi42NDMgMTguNjY1NEMzNy41MTcyIDE2LjYxNjEgMzggMTQuMzYxOCAzOCAxMkgzNFpNMzIuOTYzNyA2LjkwNDA3QzMzLjYzMDEgOC40NjYyOSAzNCAxMC4xODc0IDM0IDEySDM4QzM4IDkuNjM4MTYgMzcuNTE3MiA3LjM4MzkyIDM2LjY0MyA1LjMzNDZMMzIuOTYzNyA2LjkwNDA3Wk0zNS4yMDAxIDguMDc5NTlDMzUuNDU2OSA4LjAyNzYxIDM1LjcyNDIgOCAzNiA4VjRDMzUuNDU2MiA0IDM0LjkyMzIgNC4wNTQ1NCAzNC40MDY2IDQuMTU5MDhMMzUuMjAwMSA4LjA3OTU5Wk0zNiA4QzM4LjIwOTEgOCA0MCA5Ljc5MDg2IDQwIDEySDQ0QzQ0IDcuNTgxNzIgNDAuNDE4MiA0IDM2IDRWOFpNNDAgMTJDNDAgMTQuMjA5MSAzOC4yMDkxIDE2IDM2IDE2VjIwQzQwLjQxODIgMjAgNDQgMTYuNDE4MyA0NCAxMkg0MFpNMzYgMTZDMzUuNzI0MiAxNiAzNS40NTY5IDE1Ljk3MjQgMzUuMjAwMSAxNS45MjA0TDM0LjQwNjYgMTkuODQwOUMzNC45MjMxIDE5Ljk0NTUgMzUuNDU2MiAyMCAzNiAyMFYxNloiIGZpbGw9IiMzNDdCQjUiIG1hc2s9InVybCgjcGF0aC0yLWluc2lkZS0xKSIvPjxtYXNrIGlkPSJwYXRoLTQtaW5zaWRlLTIiIGZpbGw9IndoaXRlIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMTk2NjEgNi4xMTkzNEM2LjgwOTkzIDYuMDQxMDggNi40MDk3NiA2IDYgNkMyLjY4NjI5IDYgMCA4LjY4NjI5IDAgMTJDMCAxNS4zMTM3IDIuNjg2MjkgMTggNiAxOEM2LjQwOTc2IDE4IDYuODA5OTMgMTcuOTU4OSA3LjE5NjYxIDE3Ljg4MDdDNi40MjYzMSAxNi4wNzQ5IDYgMTQuMDg3MiA2IDEyQzYgOS45MTI3NyA2LjQyNjMxIDcuOTI1MTEgNy4xOTY2MSA2LjExOTM0WiIvPjwvbWFzaz48cGF0aCBkPSJNNy4xOTY2MSA2LjExOTM0TDkuMDM2MjMgNi45MDQwN0w5Ljk5OTQ1IDQuNjQ2MDRMNy41OTMzNCA0LjE1OTA4TDcuMTk2NjEgNi4xMTkzNFpNNy4xOTY2MSAxNy44ODA3TDcuNTkzMzQgMTkuODQwOUw5Ljk5OTQ1IDE5LjM1NEw5LjAzNjIzIDE3LjA5NTlMNy4xOTY2MSAxNy44ODA3Wk02IDhDNi4yNzU3NyA4IDYuNTQzMDUgOC4wMjc2MSA2Ljc5OTg4IDguMDc5NTlMNy41OTMzNCA0LjE1OTA4QzcuMDc2ODEgNC4wNTQ1NCA2LjU0Mzc1IDQgNiA0VjhaTTIgMTJDMiA5Ljc5MDg2IDMuNzkwODYgOCA2IDhWNEMxLjU4MTcyIDQgLTIgNy41ODE3MiAtMiAxMkgyWk02IDE2QzMuNzkwODYgMTYgMiAxNC4yMDkxIDIgMTJILTJDLTIgMTYuNDE4MyAxLjU4MTcyIDIwIDYgMjBWMTZaTTYuNzk5ODggMTUuOTIwNEM2LjU0MzA1IDE1Ljk3MjQgNi4yNzU3NyAxNiA2IDE2VjIwQzYuNTQzNzUgMjAgNy4wNzY4MSAxOS45NDU1IDcuNTkzMzQgMTkuODQwOUw2Ljc5OTg4IDE1LjkyMDRaTTkuMDM2MjMgMTcuMDk1OUM4LjM2OTgyIDE1LjUzMzcgOCAxMy44MTI2IDggMTJINEM0IDE0LjM2MTggNC40ODI4IDE2LjYxNjEgNS4zNTY5OSAxOC42NjU0TDkuMDM2MjMgMTcuMDk1OVpNOCAxMkM4IDEwLjE4NzQgOC4zNjk4MiA4LjQ2NjI5IDkuMDM2MjMgNi45MDQwN0w1LjM1Njk5IDUuMzM0NkM0LjQ4MjggNy4zODM5MiA0IDkuNjM4MTYgNCAxMkg4WiIgZmlsbD0iIzM0N0JCNSIgbWFzaz0idXJsKCNwYXRoLTQtaW5zaWRlLTIpIi8+PC9zdmc+Cg==\";\nexport { MemoSvgCirclesCarouselViewPanelIcon as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"circle\", {\n  r: 3,\n  transform: \"matrix(1 0 0 -1 20 9)\"\n});\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"circle\", {\n  r: 3,\n  transform: \"matrix(1 0 0 -1 3 9)\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  r: 7.1,\n  transform: \"matrix(1 0 0 -1 12 9)\",\n  stroke: \"#fff\",\n  strokeWidth: 2.2\n});\n\nfunction SvgCirclesCarouselView({\n  title,\n  titleId,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 23 18\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref, _ref2, _ref3);\n}\n\nconst MemoSvgCirclesCarouselView = /*#__PURE__*/React.memo(SvgCirclesCarouselView);\nexport default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjMiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAyMyAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIHI9IjMiIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDIwIDkpIiAvPjxjaXJjbGUgcj0iMyIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMyA5KSIgLz48Y2lyY2xlIHI9IjcuMSIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMTIgOSkiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iMi4yIi8+PC9zdmc+Cg==\";\nexport { MemoSvgCirclesCarouselView as ReactComponent };","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { BlockIcon } from './icons';\nimport deprecated from './deprecated';\nimport save from './save';\nimport edit from './edit';\nimport metadata from './block';\nimport { BLOCK_TYPE_LATEST_STORIES, GRID_VIEW_TYPE } from './constants';\nimport transforms from './transforms';\n\nconst { name, category, keywords, attributes, supports } = metadata;\n\nconst settings = {\n  title: __('Web Stories', 'web-stories'),\n  description: __('Embed stories using various layout options.', 'web-stories'),\n  category,\n  icon: <BlockIcon />,\n  keywords,\n  attributes,\n  example: {\n    attributes: {\n      blockType: BLOCK_TYPE_LATEST_STORIES,\n      viewType: GRID_VIEW_TYPE,\n      numberOfColumns: 2,\n    },\n  },\n  supports,\n  deprecated,\n  edit,\n  save,\n  transforms,\n};\n\nexport { metadata, name, settings };\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * The block's save function (pure).\n *\n * Represents a cached copy of the blocks content to be shown in case\n * the plugin is disabled.\n *\n * The server-side 'render_callback' is used to override this on page load.\n *\n * @see https://developer.wordpress.org/block-editor/developers/block-api/block-edit-save/\n * @param {Object} props Props.\n * @param {Object} props.attributes Block attributes.\n * @return {null|*} Rendered block.\n */\nfunction save({ attributes }) {\n  const { url, title, poster, width, height, align = 'none' } = attributes;\n\n  if (!url || !title) {\n    return null;\n  }\n\n  return (\n    <div className={`wp-block-web-stories-embed align${align}`}>\n      <a href={url}>\n        {poster ? (\n          <img alt={title} src={poster} width={width} height={height} />\n        ) : (\n          title\n        )}\n      </a>\n    </div>\n  );\n}\n\nsave.propTypes = {\n  attributes: PropTypes.shape({\n    url: PropTypes.string,\n    title: PropTypes.string,\n    poster: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    align: PropTypes.string,\n  }).isRequired,\n};\n\nexport default save;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * WordPress dependencies\n */\nimport { createBlock } from '@wordpress/blocks';\n/**\n * Internal dependencies\n */\nimport { BLOCK_TYPE_LATEST_STORIES, BLOCK_TYPE_URL } from './constants';\nimport metadata from './block';\n\nconst { attributes } = metadata;\n\nconst transforms = {\n  from: [\n    {\n      type: 'shortcode',\n      tag: 'web_stories_embed',\n      attributes: {\n        ...attributes,\n        align: {\n          type: 'string',\n          shortcode: ({ named: { align } }) => {\n            return align;\n          },\n        },\n        height: {\n          type: 'number',\n          shortcode: ({ named: { height } }) => {\n            return height;\n          },\n        },\n        poster: {\n          type: 'string',\n          shortcode: ({ named: { poster } }) => {\n            return poster;\n          },\n        },\n        title: {\n          type: 'string',\n          shortcode: ({ named: { title } }) => {\n            return title;\n          },\n        },\n        url: {\n          type: 'string',\n          shortcode: ({ named: { url } }) => {\n            return url;\n          },\n        },\n        width: {\n          type: 'number',\n          shortcode: ({ named: { width } }) => {\n            return width;\n          },\n        },\n        blockType: {\n          type: 'string',\n          default: BLOCK_TYPE_URL,\n        },\n      },\n      priority: 9,\n    },\n    {\n      type: 'shortcode',\n      tag: 'web_stories',\n      attributes: {\n        ...attributes,\n        blockType: {\n          type: 'string',\n          default: BLOCK_TYPE_LATEST_STORIES,\n        },\n        align: {\n          type: 'string',\n          shortcode: ({ named: { align } }) => {\n            return align;\n          },\n        },\n        archiveLinkLabel: {\n          type: 'string',\n          shortcode: ({ named: { archive_link_label } }) => {\n            return archive_link_label;\n          },\n        },\n        viewType: {\n          type: 'string',\n          shortcode: ({ named: { view } }) => {\n            return view;\n          },\n        },\n        numOfStories: {\n          type: 'number',\n          shortcode: ({ named: { number } }) => {\n            return number;\n          },\n        },\n        numOfColumns: {\n          type: 'number',\n          shortcode: ({ named: { columns } }) => {\n            return columns;\n          },\n        },\n        circleSize: {\n          type: 'number',\n          shortcode: ({ named: { circle_size } }) => {\n            return circle_size;\n          },\n        },\n        fieldState: {\n          type: 'object',\n          shortcode: ({\n            named: { title, excerpt, author, date, archive_link, image_align },\n          }) => {\n            // Need this type conversion as the block is expecting following to be boolean.\n            return {\n              show_archive_link: 'true' === archive_link,\n              show_author: 'true' === author,\n              show_date: 'true' === date,\n              show_excerpt: 'true' === excerpt,\n              show_image_align: 'true' === image_align,\n              show_title: 'true' === title,\n            };\n          },\n        },\n      },\n    },\n    {\n      type: 'block',\n      blocks: ['core/legacy-widget'],\n      isMatch: ({ idBase, instance }) => {\n        if (!instance?.raw) {\n          // Can't transform if raw instance is not shown in REST API.\n          return false;\n        }\n        return idBase === 'web_stories_widget';\n      },\n      transform: ({ instance }) => {\n        const {\n          raw: {\n            archive_link_label: archiveLinkLabel,\n            circle_size: circleSize,\n            image_alignment: imageAlignment,\n            number_of_columns: numOfColumns,\n            number_of_stories: numOfStories,\n            view_type: viewType,\n            show_title,\n            show_author,\n            show_date,\n            show_excerpt,\n            show_archive_link,\n            sharp_corners: show_sharp_corners,\n            show_image_alignment,\n            title,\n            orderby = '',\n            order = '',\n          },\n        } = instance;\n\n        const transformedBlock = createBlock('web-stories/embed', {\n          blockType: 'latest-stories',\n          viewType,\n          fieldState: {\n            show_title,\n            show_author,\n            show_date,\n            show_excerpt,\n            show_archive_link,\n            show_sharp_corners,\n            show_image_alignment,\n          },\n          archiveLinkLabel,\n          circleSize,\n          numOfColumns,\n          imageAlignment,\n          numOfStories,\n          orderby: orderby.replace('post_', ''),\n          order: order.toLowerCase(),\n        });\n        if (!title) {\n          return transformedBlock;\n        }\n        return [\n          createBlock('core/heading', {\n            content: title,\n          }),\n          transformedBlock,\n        ];\n      },\n    },\n  ],\n};\n\nexport default transforms;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\n// The __webpack_public_path__ assignment will be done after the imports.\n// That's why the public path assignment is in its own dedicated module and imported here at the very top.\n// See https://webpack.js.org/guides/public-path/#on-the-fly\nimport './publicPath';\n\n/**\n * External dependencies\n */\nimport { initializeTracking } from '@web-stories-wp/tracking';\n\n/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { name, settings } from './block';\n\nregisterBlockType(name, settings);\n\ninitializeTracking('Embed Block', false);\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const DATA_LAYER = 'webStoriesTrackingDataLayer';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { config } from './shared';\n\nfunction disableTracking() {\n  config.trackingEnabled = false;\n}\n\nexport default disableTracking;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { DATA_LAYER } from './constants';\nimport { config, gtag } from './shared';\n\nconst SCRIPT_IDENTIFIER = 'data-web-stories-tracking';\n\nfunction loadScriptTag(url) {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement('script');\n    script.setAttribute(SCRIPT_IDENTIFIER, '');\n    script.async = true;\n    script.src = url;\n    script.addEventListener('load', resolve);\n    script.addEventListener('error', reject);\n    document.head.appendChild(script);\n  });\n}\n\n/**\n * Loads the Analytics tracking script.\n *\n * @param {boolean} [sendPageView=true] Whether to send a page view event or not upon loading.\n * @return {Promise<void>} Promise.\n */\nasync function loadTrackingScript(sendPageView = true) {\n  if (document.querySelector(`script[${SCRIPT_IDENTIFIER}]`)) {\n    return;\n  }\n\n  try {\n    await loadScriptTag(\n      `https://www.googletagmanager.com/gtag/js?id=${config.trackingId}&l=${DATA_LAYER}`\n    );\n  } catch {\n    // Loading was not possible, probably because of an ad blocker.\n    return;\n  }\n\n  // This way we'll get \"Editor\" and \"Dashboard\" instead of \"Edit Story  Web Stories Dev  WordPress\".\n  const pageTitle = config.appName;\n\n  // 'Plugin Activation' -> '/plugin-activation'\n  // This way we get nicer looking paths like '/editor' instead of 'wp-admin/post-new.php?post_type=web-story'.\n  const pagePath = '/' + config.appName.replace(/ /g, '-').toLowerCase();\n\n  gtag('js', new Date());\n\n  // Note: `set` commands need to be placed before `config` commands to ensure\n  // those values are passed along with the initial config.\n\n  // Universal Analytics custom dimensions.\n  gtag('set', {\n    custom_map: {\n      dimension1: 'analytics',\n      dimension2: 'adNetwork',\n      dimension3: 'search_order',\n      dimension4: 'search_orderby',\n      dimension5: 'file_size',\n      dimension6: 'file_type',\n      dimension7: 'status',\n      dimension8: 'siteLocale',\n      dimension9: 'userLocale',\n      dimension10: 'userRole',\n      dimension11: 'enabledExperiments',\n      dimension12: 'wpVersion',\n      dimension13: 'phpVersion',\n      dimension14: 'isMultisite',\n      dimension15: 'name',\n      dimension16: 'activePlugins',\n    },\n  });\n\n  // Google Analytics 4 user properties.\n  // See https://developers.google.com/analytics/devguides/collection/ga4/persistent-values\n  // See https://developers.google.com/analytics/devguides/collection/ga4/user-properties\n  gtag('set', 'user_properties', config.userProperties);\n\n  gtag('config', config.trackingId, {\n    anonymize_ip: true,\n    app_name: config.appName,\n    app_version: config.appVersion,\n    send_page_view: sendPageView,\n    // Setting the transport method to 'beacon' lets the hit be sent\n    // using 'navigator.sendBeacon' in browsers that support it.\n    transport_type: 'beacon',\n    page_title: pageTitle,\n    page_path: pagePath,\n    // Re-using user properties values for the custom dimensions.\n    ...config.userProperties,\n  });\n\n  // Support GA4 in parallel.\n  // At some point, only this will remain.\n  gtag('config', config.trackingIdGA4, {\n    app_name: config.appName,\n    // This doesn't seem to be fully working for web properties.\n    // See https://support.google.com/analytics/answer/9268042\n    app_version: config.appVersion,\n    send_page_view: sendPageView,\n    // Setting the transport method to 'beacon' lets the hit be sent\n    // using 'navigator.sendBeacon' in browsers that support it.\n    transport_type: 'beacon',\n    page_title: pageTitle,\n    page_path: pagePath,\n  });\n}\n\nasync function enableTracking(sendPageView) {\n  if (!config.trackingAllowed || config.trackingEnabled) {\n    return;\n  }\n\n  await loadTrackingScript(sendPageView);\n  config.trackingEnabled = true;\n}\n\nexport default enableTracking;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport trackEvent from './trackEvent';\nimport { config } from './shared';\n\n/**\n * Starts a timer and returns a callback to stop it and send an analytics timing_complete event.\n *\n * Works for both Universal Analytics and Google Analytics 4.\n *\n * @see https://developers.google.com/analytics/devguides/collection/gtagjs/user-timings\n * @param {string} eventName The event nae (e.g. 'load_items').\n * @return {Function} Callback to stop timer and send tracking event.\n */\nfunction getTimeTracker(eventName) {\n  const before = window.performance.now();\n  return () => {\n    const after = window.performance.now();\n    const value = after - before;\n\n    // Universal Analytics has a special `timing_complete` event which\n    // does not exist in GA4.\n    trackEvent('timing_complete', {\n      name: eventName,\n      value,\n      send_to: config.trackingId,\n    });\n    trackEvent(eventName, {\n      value,\n      send_to: config.trackingIdGA4,\n    });\n  };\n}\n\nexport default getTimeTracker;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport initializeTracking from './initializeTracking';\nimport enableTracking from './enableTracking';\nimport disableTracking from './disableTracking';\nimport isTrackingEnabled from './isTrackingEnabled';\nimport trackClick from './trackClick';\nimport trackError from './trackError';\nimport trackEvent from './trackEvent';\nimport trackTiming from './trackTiming';\nimport trackScreenView from './trackScreenView';\nimport getTimeTracker from './getTimeTracker';\n\nexport {\n  initializeTracking,\n  enableTracking,\n  disableTracking,\n  isTrackingEnabled,\n  trackScreenView,\n  trackClick,\n  trackError,\n  trackEvent,\n  trackTiming,\n  getTimeTracker,\n};\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport trackError from './trackError';\n\nconst IGNORED_ERROR_MESSAGES = ['ResizeObserver loop limit exceeded'];\n\n/**\n *\n * @param {ErrorEvent} event Error event.\n */\nfunction handleErrors(event) {\n  if (event.filename && !event.filename.includes('web-stories')) {\n    return;\n  }\n\n  if (IGNORED_ERROR_MESSAGES.includes(event.message)) {\n    return;\n  }\n\n  const errorMessage = `${event.message} (${event.lineno}:${event.colno})`;\n  trackError('uncaught_error', errorMessage, true);\n}\n\n/**\n *\n * @param {PromiseRejectionEvent} event Promise rejection event.\n */\nfunction handleUncaughtPromises(event) {\n  const errorMessage = event.reason || 'Promise rejection';\n  trackError('uncaught_promise', errorMessage);\n}\n\nfunction initializeErrorReporting() {\n  window.addEventListener('error', handleErrors);\n  window.addEventListener('unhandledrejection', handleUncaughtPromises);\n}\n\nexport default initializeErrorReporting;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { config } from './shared';\nimport enableTracking from './enableTracking';\nimport initializeErrorReporting from './initializeErrorReporting';\n\n/**\n * Initializes tracking.\n *\n * @param {string} appName Name of the application, e.g. 'Dashboard' or 'Editor'.\n * @param {boolean} [sendPageView=true] Whether to send an initial page view event upon loading.\n * @return {Promise<void>} Promise.\n */\nasync function initializeTracking(appName, sendPageView = true) {\n  config.appName = appName;\n  await enableTracking(sendPageView);\n  initializeErrorReporting();\n}\n\nexport default initializeTracking;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { config } from './shared';\nimport enableTracking from './enableTracking';\n\n/**\n * Determines whether tracking is enabled or not.\n *\n * @return {Promise<boolean>} Whether tracking is enabled\n */\nasync function isTrackingEnabled() {\n  await enableTracking();\n  return Boolean(config.trackingEnabled);\n}\n\nexport default isTrackingEnabled;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { DATA_LAYER } from './constants';\n\n/**\n * Pushes data onto the data layer.\n *\n * Must push an instance of Arguments to the target.\n * Using an ES6 spread operator (i.e. `...args`) will cause tracking events to _silently_ fail.\n */\nexport function gtag() {\n  global[DATA_LAYER] = global[DATA_LAYER] || [];\n  //eslint-disable-next-line prefer-rest-params\n  global[DATA_LAYER].push(arguments);\n}\n\nconst DEFAULT_CONFIG = {\n  trackingAllowed: false,\n  trackingEnabled: false,\n  trackingId: '',\n  trackingIdGA4: '',\n  userProperties: {},\n};\n\nconst {\n  trackingAllowed,\n  trackingId,\n  trackingIdGA4,\n  appVersion,\n  userProperties,\n} = global.webStoriesTrackingSettings || {};\n\nexport const config = {\n  ...DEFAULT_CONFIG,\n  trackingAllowed,\n  trackingId,\n  trackingIdGA4,\n  appVersion,\n  userProperties,\n};\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { gtag } from './shared';\n\n/**\n * Send an Analytics tracking event.\n *\n * @param {string} eventName Event name, either 'screen_view', 'timing_complete', or something custom.\n * @param {Object<*>?} [eventData] The event data to send.\n * @return {Promise<void>} Promise that always resolves.\n */\n//eslint-disable-next-line require-await\nasync function track(eventName, eventData = {}) {\n  return new Promise((resolve) => {\n    // This timeout ensures a tracking event does not block the user\n    // event if it is not sent (in time).\n    // If this fails, it shouldn't reject the promise since event\n    // tracking should not result in user-facing errors. It will just\n    // trigger a console warning.\n    // See https://developers.google.com/analytics/devguides/collection/gtagjs/sending-data\n    const failTimeout = setTimeout(() => {\n      global.console.warn(\n        `[Web Stories] Tracking event \"${eventName}\" took too long to fire.`\n      );\n      resolve();\n    }, 1000);\n\n    gtag('event', eventName, {\n      ...eventData,\n      event_callback: () => {\n        clearTimeout(failTimeout);\n        resolve();\n      },\n    });\n  });\n}\n\nexport default track;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport isTrackingEnabled from './isTrackingEnabled';\nimport track from './track';\n\n/**\n * Send an Analytics tracking event for clicks.\n *\n * Works for both Universal Analytics and Google Analytics 4.\n *\n * @see https://developers.google.com/analytics/devguides/collection/gtagjs/events\n * @param {MouseEvent} event The actual click event.\n * @param {string} eventName The event name (e.g. 'search').\n * @return {Promise<void>} Promise that always resolves.\n */\nasync function trackClick(event, eventName) {\n  // currentTarget becomes null after event bubbles up, so we\n  // grab it for reference before any async operations occur.\n  // https://github.com/facebook/react/issues/2857#issuecomment-70006324\n  const { currentTarget } = event;\n\n  if (!(await isTrackingEnabled())) {\n    return Promise.resolve();\n  }\n\n  const openLinkInNewTab =\n    currentTarget?.target === '_blank' ||\n    event.ctrlKey ||\n    event.shiftKey ||\n    event.metaKey ||\n    event.which === 2;\n\n  if (openLinkInNewTab) {\n    return track(eventName);\n  }\n\n  event.preventDefault();\n\n  return track(eventName).finally(() => {\n    document.location = currentTarget.href;\n  });\n}\n\nexport default trackClick;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport isTrackingEnabled from './isTrackingEnabled';\nimport track from './track';\n\n/**\n * Send an Analytics tracking event for exceptions.\n *\n * Works for both Universal Analytics and Google Analytics 4.\n *\n * @see https://developers.google.com/analytics/devguides/collection/ga4/exceptions\n * @see https://developers.google.com/analytics/devguides/collection/gtagjs/exceptions\n * @param {string} prefix Error prefixed. Concatenated with description.\n * @param {string} description The error description.\n * @param {boolean} [fatal=false] Report whether there is a fatal error.\n * @return {Promise<void>} Promise that always resolves.\n */\nasync function trackError(prefix, description, fatal = false) {\n  if (!(await isTrackingEnabled())) {\n    return Promise.resolve();\n  }\n\n  const eventData = {\n    description: `${prefix}: ${description}`,\n    fatal,\n  };\n\n  return track('exception', eventData);\n}\n\nexport default trackError;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport { config } from './shared';\nimport isTrackingEnabled from './isTrackingEnabled';\nimport track from './track';\n\n/**\n * Send an Analytics tracking event.\n *\n * Note: Only use custom events if the existing events don't handle your use case.\n *\n * @see https://developers.google.com/analytics/devguides/collection/ga4/events\n * @see https://support.google.com/analytics/answer/9267735\n * @see https://support.google.com/analytics/answer/9310895?hl=en\n * @param {string} eventName The event name (e.g. 'search'). The value that will appear as the event action in Google Analytics Event reports.\n * @param {Object<*>} [eventParameters] Event parameters.\n * @return {Promise<void>} Promise that always resolves.\n */\nasync function trackEvent(eventName, eventParameters = {}) {\n  if (!(await isTrackingEnabled())) {\n    return Promise.resolve();\n  }\n\n  let gtagEventParameters = {};\n\n  // Universal Analytics backwards compatibility.\n  const { search_type, duration, title_length, unread_count, ...rest } =\n    eventParameters;\n  if (search_type) {\n    gtagEventParameters = {\n      ...rest,\n      event_label: search_type,\n    };\n  } else if (duration) {\n    gtagEventParameters = {\n      ...rest,\n      value: duration,\n    };\n  } else if (title_length) {\n    gtagEventParameters = {\n      ...rest,\n      value: title_length,\n    };\n  } else if (unread_count) {\n    gtagEventParameters = {\n      ...rest,\n      value: unread_count,\n    };\n  }\n\n  if (Object.values(gtagEventParameters).length) {\n    track(eventName, { ...gtagEventParameters, send_to: config.trackingId });\n    track(eventName, { ...eventParameters, send_to: config.trackingIdGA4 });\n    return Promise.resolve();\n  }\n\n  return track(eventName, eventParameters);\n}\n\nexport default trackEvent;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport track from './track';\nimport isTrackingEnabled from './isTrackingEnabled';\n\n/**\n * Send an Analytics screen_view event.\n *\n * Works for both Universal Analytics and Google Analytics 4.\n *\n * @see https://developers.google.com/analytics/devguides/collection/gtagjs/screens\n * @see https://developers.google.com/analytics/devguides/collection/ga4/screen-view\n * @param {string} screenName Screen name. Example: 'Explore Templates'.\n * @return {Promise<void>} Promise that always resolves.\n */\nasync function trackScreenView(screenName) {\n  if (!(await isTrackingEnabled())) {\n    return Promise.resolve();\n  }\n\n  const eventData = {\n    screen_name: screenName,\n  };\n\n  return track('screen_view', eventData);\n}\n\nexport default trackScreenView;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Internal dependencies\n */\nimport trackEvent from './trackEvent';\nimport { config } from './shared';\n\n/**\n * Track event timing for performance measuring.\n *\n * @param {string} category Category for categorizing the user timing variables into groups.\n * @param {number} time Duration in milliseconds.\n * @param {string} label Label that allows extra flexibility in reports.\n * @param {string} eventName Event name, e.g. click or mousedown.\n */\nfunction trackTiming(category, time, label = '', eventName = 'click') {\n  // Universal Analytics has a special `timing_complete` event which\n  // does not exist in GA4.\n  trackEvent('timing_complete', {\n    name: eventName,\n    value: time,\n    event_category: category,\n    event_label: label,\n    send_to: config.trackingId,\n  });\n  trackEvent(eventName, {\n    value: time,\n    event_category: category,\n    event_label: label,\n    send_to: config.trackingIdGA4,\n  });\n}\n\nexport default trackTiming;\n","(function() { module.exports = window[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"compose\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"date\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"primitives\"]; }());","(function() { module.exports = window[\"wp\"][\"url\"]; }());","(function() { module.exports = window[\"wp\"][\"viewport\"]; }());","(function() { module.exports = window[\"lodash\"]; }());","(function() { module.exports = window[\"React\"]; }());"],"sourceRoot":""}