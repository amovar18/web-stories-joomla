"use strict";(globalThis.webpackChunkweb_stories_joomla=globalThis.webpackChunkweb_stories_joomla||[]).push([[3760],{28685:(e,t,a)=>{a.d(t,{Dashboard:()=>Dashboard,InterfaceSkeleton:()=>InterfaceSkeleton});var r=a(67294),n=a(19766),o=a(74350),l=a(21275),i=a(85059),s=a(77128),c=a(45669),u=a(58804),d=a(14194),p=a(1745),m=a(35343),f=(0,m.createContext)({api:{}});function ConfigProvider(e){let{config:t,children:a}=e;return r.createElement(f.Provider,{value:t},a)}var h,g,y=a(26613),b=a(58167);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_.apply(this,arguments)}const E=(0,r.memo)((e=>{let{title:t,titleId:a,...n}=e;return r.createElement("svg",_({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,h||(h=r.createElement("path",{d:"M12.5 3v3M22 12.5h-3M12.5 22v-3M3 12.5h3M12.5 22a9.5 9.5 0 1 0 0-19 9.5 9.5 0 0 0 0 19Z",stroke:"currentColor",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),g||(g=r.createElement("path",{d:"M15.851 8.492a.5.5 0 0 1 .657.657l-2.13 4.967a.5.5 0 0 1-.262.263L9.15 16.508a.5.5 0 0 1-.657-.657l2.13-4.967a.5.5 0 0 1 .262-.263l4.967-2.129Z",stroke:"currentColor",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})))}));var w,v;function homeWithHeart_svg_n(){return homeWithHeart_svg_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},homeWithHeart_svg_n.apply(this,arguments)}const S=(0,r.memo)((e=>{let{title:t,titleId:a,...n}=e;return r.createElement("svg",homeWithHeart_svg_n({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,w||(w=r.createElement("path",{d:"M15.781 10.72a2.44 2.44 0 0 0-2.999-.367 2.493 2.493 0 0 0-.782.748 2.493 2.493 0 0 0-.782-.748 2.45 2.45 0 0 0-2.088-.21 2.47 2.47 0 0 0-1.443 1.375 2.476 2.476 0 0 0 .532 2.687L12 18l3.781-3.795a2.477 2.477 0 0 0 0-3.484Z",stroke:"currentColor",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),v||(v=r.createElement("path",{d:"m1 11 10.367-8.482a1 1 0 0 1 1.266 0L23 11M4 9v12a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V9",stroke:"currentColor",strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})))}));var T=a(65197);const C="open-in-editor-action",A="rename-action",x="duplicate-action",I="delete-story-action",L="copy-story-link",R="open-story-link",k=[{label:(0,b.__)("Open in editor","web-stories"),value:C,isEnabled:e=>Boolean(e?.capabilities?.hasEditAction)},{label:(0,b.__)("Open in new tab","web-stories"),value:R,isEnabled:e=>Boolean(e?.previewLink)},{label:(0,b.__)("Copy Story URL","web-stories"),value:L,isEnabled:e=>Boolean(e?.previewLink)},{label:(0,b.__)("Rename","web-stories"),value:A,separator:"top",isEnabled:e=>Boolean(e?.capabilities?.hasEditAction)},{label:(0,b.__)("Duplicate","web-stories"),value:x,isEnabled:e=>Boolean(e?.capabilities?.hasEditAction)},{label:(0,b.__)("Delete Story","web-stories"),value:I,separator:"top",isEnabled:e=>Boolean(e?.capabilities?.hasDeleteAction)}],M={ASC:"asc",DESC:"desc"},O={NAME:"title",DATE_CREATED:"date",LAST_MODIFIED:"modified",CREATED_BY:"story_author"},P={[O.NAME]:M.ASC,[O.DATE_CREATED]:M.DESC,[O.LAST_MODIFIED]:M.DESC,[O.CREATED_BY]:M.ASC},D=[{label:(0,b.__)("Name","web-stories"),value:O.NAME},{label:(0,b.__)("Date Created","web-stories"),value:O.DATE_CREATED},{label:(0,b.__)("Last Modified","web-stories"),value:O.LAST_MODIFIED},{label:(0,b.__)("Created By","web-stories"),value:O.CREATED_BY}],N={DRAFT:"draft",FUTURE:"future",PENDING:"pending",PUBLISH:"publish",PRIVATE:"private"},B={ALL:Object.values(N).join(","),PUBLISHED_AND_FUTURE:[N.PUBLISH,N.FUTURE].join(","),...N},F={[B.PUBLISH]:(0,b.__)("Published","web-stories"),[B.PENDING]:(0,b.__)("Pending","web-stories"),[B.FUTURE]:(0,b.__)("Scheduled","web-stories"),[B.DRAFT]:(0,b.__)("Draft","web-stories"),[B.PRIVATE]:(0,b.__)("Private","web-stories")},U=[{label:(0,b.__)("All Stories","web-stories"),value:B.ALL,status:"all"},{label:(0,b.__)("Drafts","web-stories"),value:B.DRAFT,status:B.DRAFT},{label:(0,b.__)("Pending","web-stories"),value:B.PENDING,status:B.PENDING},{label:(0,b.__)("Published","web-stories"),value:B.PUBLISH,status:B.PUBLISH},{label:(0,b.__)("Scheduled","web-stories"),value:B.FUTURE,status:B.FUTURE},{label:(0,b.__)("Private","web-stories"),value:B.PRIVATE,status:B.PRIVATE}],H={[B.ALL]:e=>(0,T.default)(
/* translators: %d: number of stories in view */
(0,b._n)("Viewing <strong>%d</strong> story","Viewing all <strong>%d</strong> stories",e,"web-stories"),e),[B.DRAFT]:e=>(0,T.default)(
/* translators: %d: number of draft stories in view */
(0,b._n)("Viewing <strong>%d</strong> draft","Viewing <strong>%d</strong> drafts",e,"web-stories"),e),[B.PUBLISH]:e=>(0,T.default)(
/* translators: %d: number of stories */
(0,b._n)("Viewing <strong>%d</strong> published story","Viewing <strong>%d</strong> published stories",e,"web-stories"),e),[B.FUTURE]:e=>(0,T.default)(
/* translators: %d: number of stories */
(0,b._n)("Viewing <strong>%d</strong> scheduled story","Viewing <strong>%d</strong> scheduled stories",e,"web-stories"),e),[B.PENDING]:e=>(0,T.default)(
/* translators: %d: number of stories */
(0,b._n)("Viewing <strong>%d</strong> pending story","Viewing <strong>%d</strong> pending stories",e,"web-stories"),e),[B.PRIVATE]:e=>(0,T.default)(
/* translators: %d: number of stories */
(0,b._n)("Viewing <strong>%d</strong> private story","Viewing <strong>%d</strong> private stories",e,"web-stories"),e)},j="diy_crafts",Y="movies_tv",V="beauty_style",z="fitness_wellbeing",G="food",$="travel",q="music",Z="sports",W=((0,b._x)("DIY & Crafts","template vertical","web-stories"),(0,b._x)("Movies & TV","template vertical","web-stories"),(0,b._x)("Beauty & Style","template vertical","web-stories"),(0,b._x)("Fitness & Wellbeing","template vertical","web-stories"),(0,b._x)("Food","template vertical","web-stories"),(0,b._x)("Travel","template vertical","web-stories"),(0,b._x)("Music","template vertical","web-stories"),(0,b._x)("Sports","template vertical","web-stories"),"white"),X="black",K="gray",Q="brown",J="red",ee="orange",te="yellow",ae="green",re="blue",ne="pink",oe="purple",le=((0,b._x)("White","color","web-stories"),(0,b._x)("Black","color","web-stories"),(0,b._x)("Gray","color","web-stories"),(0,b._x)("Brown","color","web-stories"),(0,b._x)("Red","color","web-stories"),(0,b._x)("Orange","color","web-stories"),(0,b._x)("Yellow","color","web-stories"),(0,b._x)("Green","color","web-stories"),(0,b._x)("Blue","color","web-stories"),(0,b._x)("Pink","color","web-stories"),(0,b._x)("Purple","color","web-stories"),{ALL:"template"}),ie={[le.ALL]:e=>(0,T.default)(
/* translators: %d: number of templates in view */
(0,b._n)("Viewing <strong>%d</strong> template","Viewing all <strong>%d</strong> templates",e,"web-stories"),e)},se={POPULAR:"popular",RECENT:"recent"},ce=[{label:(0,b.__)("Popular","web-stories"),value:se.POPULAR},{label:(0,b.__)("Recent","web-stories"),value:se.RECENT}],ue={template:(0,b.__)("See details","web-stories")},de="wpbody",pe=288,me=1098,fe="tablet",he="desktop",ge="thumbnail",ye={[fe]:200,[he]:232,[ge]:33},be=24,_e=32,Ee=52,we=5,ve={DASHBOARD:"/",TEMPLATES_GALLERY:"/templates-gallery",TEMPLATE_DETAIL:"template-detail"},Se={[ve.DASHBOARD]:(0,b.__)("Dashboard","web-stories"),[ve.TEMPLATES_GALLERY]:(0,b.__)("Explore Templates","web-stories"),[`${ve.TEMPLATES_GALLERY}/${ve.TEMPLATE_DETAIL}`]:(0,b.__)("Template Details","web-stories"),DEFAULT:(0,b.__)("Dashboard","web-stories")},Te=[{value:ve.DASHBOARD,label:Se[ve.DASHBOARD],Icon:S},{value:ve.TEMPLATES_GALLERY,label:Se[ve.TEMPLATES_GALLERY],Icon:E}],Ce={GRID:"grid",LIST:"list"},Ae={[Ce.GRID]:(0,b.__)("Switch to List View","web-stories"),[Ce.LIST]:(0,b.__)("Switch to Grid View","web-stories")},xe="DASHBOARD",Ie="TEMPLATES_GALLERY",Le={[xe]:{...H},[Ie]:{...ie}},Re=853,ke=640,Me="creating_story_from_template",Oe="create_story_from_template_success",Pe="create_story_from_template_failure",De="loading_stories",Ne="fetch_stories_success",Be="fetch_stories_failure",Fe="update_story",Ue="update_story_failure",He="trash_story",je="trash_story_failure",Ye="duplicate_story",Ve="duplicate_story_failure",ze={error:{},isLoading:!1,stories:{},storiesOrderById:[],totalStoriesByStatus:{},totalPages:null};function Ge(e,t){switch(t.type){case De:case Me:return{...e,isLoading:t.payload};case Pe:case Be:case Ue:case je:case Ve:return{...e,error:{...t.payload,id:Date.now()}};case Oe:return{...e,error:{}};case Fe:return{...e,error:{},stories:{...e.stories,[t.payload.id]:t.payload}};case He:{const a=t.payload.storyStatus===B.DRAFT?B.DRAFT:B.PUBLISH;return{...e,error:{},storiesOrderById:e.storiesOrderById.filter((e=>e!==t.payload.id)),totalStoriesByStatus:{...e.totalStoriesByStatus,all:e.totalStoriesByStatus.all-1,[a]:e.totalStoriesByStatus[a]-1},stories:Object.keys(e.stories).reduce(((a,r)=>(parseInt(r)!==t.payload.id&&(a[r]=e.stories[r]),a)),{})}}case Ye:return{...e,error:{},storiesOrderById:[t.payload.id,...e.storiesOrderById],totalStoriesByStatus:{...e.totalStoriesByStatus,all:e.totalStoriesByStatus.all+1,[t.payload.status]:e.totalStoriesByStatus[t.payload.status]+1},stories:{...e.stories,[t.payload.id]:t.payload}};case Ne:{const{fetchedStoryIds:a,totalStoriesByStatus:r,totalPages:n,page:o,stories:l}=t.payload,{storiesOrderById:i,stories:s}=e,c=1===o?a:[...i,...a],u=[...new Set(c)];return{...e,error:{},storiesOrderById:u,stories:{...s,...l},totalPages:n,totalStoriesByStatus:r,allPagesFetched:o>=n}}default:return e}}const $e={LOAD_STORIES:{MESSAGE:(0,b.__)("Unable to load stories","web-stories")},UPDATE_STORY:{MESSAGE:(0,b.__)("Unable to update story","web-stories")},DELETE_STORY:{MESSAGE:(0,b.__)("Unable to delete story","web-stories")},CREATE_STORY_FROM_TEMPLATE:{MESSAGE:(0,b.__)("Unable to create story from template","web-stories")},DUPLICATE_STORY:{MESSAGE:(0,b.__)("Unable to duplicate story","web-stories")},LOAD_TEMPLATES:{DEFAULT_MESSAGE:(0,b.__)("Cannot connect to data source","web-stories"),MESSAGE:(0,b.__)("Unable to load templates","web-stories")},RENDER_PREVIEW:{MESSAGE:(0,b.__)("Unable to render preview","web-stories")},LOAD_TEMPLATE:{DEFAULT_MESSAGE:(0,b.__)("Could not load the template","web-stories")}};function qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.identity;return(0,m.useContextSelector)(f,e)}var Ze=a(92790);const We=(e,t)=>e.reduce(((e,a)=>a[t]?(e[a[t]],e[a[t]]=a,e):e),{}),Xe="loading_templates",Ke="fetch_templates_success",Qe="fetch_templates_failure",Je="placeholder",et={allPagesFetched:!1,error:{},isLoading:!1,templates:{},templatesByTag:{},templatesOrderById:[],totalTemplates:null,totalPages:null};function tt(e,t){switch(t.type){case Xe:return{...e,isLoading:t.payload};case Qe:return{...e,error:{...t.payload,id:Date.now()}};case Ke:{const a=t.payload.templates.map((e=>{let{id:t}=e;return t})),r=1===t.payload.page?a:[...e.templatesOrderById,...a],n=[...new Set(r)];return{...e,error:{},templatesOrderById:n,templates:{...e.templates,...We(t.payload.templates,"id")},isLoading:!1,totalPages:t.payload.totalPages,totalTemplates:t.payload.totalTemplates,allPagesFetched:t.payload.page>=t.payload.totalPages,templatesByTag:t.payload.templatesByTag}}case Je:return et;default:return e}}const at=()=>{const[e,t]=(0,m.useReducer)(tt,et),{cdnURL:r}=qe(),n=(0,m.useCallback)((async()=>{t({type:Xe,payload:!0});const e={},{getAllTemplates:n}=await Promise.all([a.e(400),a.e(4e3)]).then(a.bind(a,54e3)),o=(await n({cdnURL:r})).map((t=>{const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{id:a,slug:r,modified:n,creationDate:o}=e;return a&&r?{...e,id:a,slug:r,creationDate:(0,Ze.toDate)(o,(0,Ze.getOptions)()),status:"template",modified:(0,Ze.toUTCDate)(n),isLocal:t}:null}(t);return a.tags.forEach((t=>{e[t]?e[t].push(a.id):e[t]=[a.id]})),a})).sort(((e,t)=>(0,Ze.compareDesc)(e.creationDate,t.creationDate)));t({type:Ke,payload:{page:1,templates:o,totalPages:1,totalTemplates:o.length,templatesByTag:e}})}),[r]),o=(0,m.useCallback)((t=>e.templates[t]?Promise.resolve(e.templates[t]):Promise.reject(new Error)),[e]);return{templates:e,api:{fetchExternalTemplates:n,fetchExternalTemplateById:o}}};const rt=(0,m.createContext)({state:{},actions:{}});function ApiProvider(e){let{children:t}=e;const{api:a}=function(){const{apiCallbacks:{getAuthors:e}}=qe();return{api:{getAuthors:e}}}(),{templates:n,api:o}=at(),{stories:l,api:i}=(()=>{const e=(0,m.useRef)(!0),t=(0,m.useMemo)((()=>new Map),[]),[a,r]=(0,m.useReducer)(Ge,ze),{apiCallbacks:n}=qe(),o=(0,m.useRef)(!1);(0,m.useEffect)((()=>(o.current=!0,()=>{o.current=!1})),[]);const l=(0,m.useCallback)((async a=>{r({type:De,payload:!0});const l=(0,y.getTimeTracker)("load_stories");try{const{stories:i,fetchedStoryIds:s,totalPages:c,totalStoriesByStatus:u}=await n.fetchStories(a);if(!o.current)return;e.current&&t.forEach((e=>{e(u)})),e.current=!1,r({type:Ne,payload:{stories:i,totalPages:c,totalStoriesByStatus:u,fetchedStoryIds:s,page:a.page}})}catch(a){r({type:Be,payload:{message:$e.LOAD_STORIES.MESSAGE,code:a.code}})}finally{r({type:De,payload:!1}),l()}}),[n,t]),i=(0,m.useCallback)((async e=>{const t=(0,y.getTimeTracker)("load_update_story");try{const a=await n.updateStory(e);r({type:Fe,payload:a})}catch(e){r({type:Ue,payload:{message:$e.UPDATE_STORY.MESSAGE,code:e.code}})}finally{t()}}),[n]),s=(0,m.useCallback)((async e=>{const t=(0,y.getTimeTracker)("load_trash_story");try{await n.trashStory(e.id),r({type:He,payload:{id:e.id,storyStatus:e.status}})}catch(e){r({type:je,payload:{message:$e.DELETE_STORY.MESSAGE,code:e.code}})}finally{t()}}),[n]),c=(0,m.useCallback)((async e=>{r({type:Me,payload:!0});try{const t=await n.createStoryFromTemplate(e);r({type:Oe}),window.location=t.editLink}catch(e){r({type:Pe,payload:{message:$e.CREATE_STORY_FROM_TEMPLATE.MESSAGE,code:e.code}})}finally{r({type:Me,payload:!1})}}),[n]);return{stories:a,api:{duplicateStory:(0,m.useCallback)((async e=>{const t=(0,y.getTimeTracker)("load_duplicate_story");try{const a=await n.duplicateStory(e);r({type:Ye,payload:a})}catch(e){r({type:Ve,payload:{message:$e.DUPLICATE_STORY.MESSAGE,code:e.code}})}finally{t()}}),[n]),fetchStories:l,createStoryFromTemplate:c,trashStory:s,updateStory:i,addInitialFetchListener:(0,m.useCallback)((e=>{const a=Symbol();return t.set(a,e),()=>{t.delete(a)}}),[t])}}})(),s={state:{stories:l,templates:n},actions:{storyApi:i,templateApi:o,usersApi:a}};return r.createElement(rt.Provider,{value:s},t)}var nt=a(45697),ot=a.n(nt),lt=a(90949),it=a(77904);const st=(0,u.css)(["picture{display:block;& > img{display:block;height:100%;width:100%;object-fit:fill;border-radius:",";border:",";}}"],(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return`1px solid ${t.colors.border.defaultNormal}`})),ct=u.default.div.withConfig({displayName:"components__GalleryContainer",componentId:"sc-8jnrkn-0"})(["flex:1;display:flex;justify-content:space-between;align-items:start;"]),ut=u.default.div.withConfig({displayName:"components__DisplayPage",componentId:"sc-8jnrkn-1"})(["overflow:hidden;width:38.6%;margin-left:2.1%;"," @media screen and (min-width:1600px){width:45.2%;margin-left:2.4%;}"],st);ut.propTypes={$isThreeRows:ot().bool};const dt=u.default.div.withConfig({displayName:"components__Thumbnails",componentId:"sc-8jnrkn-2"})(["position:relative;display:grid;width:52.3%;grid-template-columns:repeat(3,1fr);column-gap:8px;row-gap:16px;margin-right:16px;@media screen and (min-width:1600px){width:59.3%;grid-template-columns:repeat(4,1fr);}"]),pt=(0,u.default)(lt.Button).attrs({type:it.BUTTON_TYPES.PLAIN}).withConfig({displayName:"components__ThumbnailButton",componentId:"sc-8jnrkn-3"})(["display:block;height:100%;padding:0;border:none;background-color:transparent;position:relative;&:active{background-color:transparent;}"," ",";"],(e=>{let{$isSelected:t,theme:a}=e;return t&&(0,u.css)(["&:after{content:'';position:absolute;box-sizing:border-box;width:100%;height:100%;display:block;top:0;right:0;border-radius:",";border:4px solid ",";}"],a.borders.radius.medium,a.colors.interactiveBg.active)}),st);pt.propTypes={$isSelected:ot().bool};var mt=a(16087),ft=a(19977);const ht=ot().oneOf([...Object.values(B),...Object.values(le)]),gt=ot().shape({id:ot().number.isRequired,status:ht,title:ot().string.isRequired,modified:ot().oneOfType([ot().object,ot().string]),author:ot().object,capabilities:ot().shape({hasDeleteAction:ot().bool,hasEditAction:ot().bool})}),yt=ot().shape({id:ot().number.isRequired,status:ht,title:ot().string.isRequired,pages:ot().array,modified:ot().object,colors:ot().arrayOf(ot().shape({label:ot().string.isRequired,color:ot().string.isRequired})),description:ot().string,tags:ot().arrayOf(ot().string),createdBy:ot().string,postersByPage:ot().arrayOf(ot().shape({webp:ot().string,png:ot().string,type:ot().string}))});ot().shape({id:ot().number.isRequired,name:ot().string.isRequired,slug:ot().string.isRequired,count:ot().number.isRequired}),ot().shape({id:ot().number.isRequired,parent:ot().number.isRequired,name:ot().string.isRequired,slug:ot().string.isRequired,count:ot().number.isRequired}),ot().shape({id:ot().number.isRequired,name:ot().string.isRequired,slug:ot().string.isRequired,avatarUrls:ot().object}),ot().arrayOf(gt),ot().arrayOf(yt).isRequired,ot().shape({duplicateStory:ot().func,trashStory:ot().func,updateStory:ot().func}),ot().shape({createStoryFromTemplate:ot().func,handleDetailsToggle:ot().func,switchToTemplateByOffset:ot().func}),ot().shape({all:ot().number,draft:ot().number,publish:ot().number});const bt=ot().shape({width:ot().number,height:ot().number});ot().shape({handleMenuToggle:ot().func.isRequired,contextMenuId:ot().number.isRequired,menuItems:ot().arrayOf(ot().shape({label:ot().string,value:ot().oneOfType([ot().string,ot().bool]),url:ot().string,isEnabled:ot().func,action:ot().func}))}),ot().shape({handleOnRenameStory:ot().func,id:ot().number,handleCancelRename:ot().func});const _t=u.default.div.withConfig({displayName:"cardGrid__DashboardGrid",componentId:"sc-1kbl74q-0"})(["display:grid;width:100%;grid-column-gap:","px;grid-row-gap:","px;grid-template-columns:",";grid-template-rows:",";scroll-margin-top:30vh;",";"],be,_e,(e=>{let{columnWidth:t}=e;return`\n    repeat(auto-fill, ${t}px)`}),(e=>{let{columnHeight:t}=e;return`minmax(${t}px, auto)`}),(e=>{let{theme:t}=e;return(0,u.css)(["&.","{",";}"],ft.FOCUS_VISIBLE_SELECTOR,mt.focusCSS(t.colors.border.focus))}));_t.propTypes={columnHeight:ot().number,columnWidth:ot().number};const Et=(0,m.forwardRef)((function CardGrid(e,t){let{ariaLabel:a,children:n,pageSize:o}=e;return r.createElement(_t,{ref:t,role:"list","data-testid":"dashboard-grid-list",tabIndex:0,"aria-label":a,columnWidth:o.width,columnHeight:o.height},n)}));var wt=a(42936),vt=a(44586),St=a(21931),Tt=a(18781),Ct=a(14636);function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},At.apply(this,arguments)}const xt=(0,u.default)(St.Link).withConfig({displayName:"link__StyledLink",componentId:"sc-1q07ax2-0"})(["",";background-color:transparent;text-decoration:none;:active,:hover,:focus,:active *,:hover *,:focus *{color:"," !important;}:hover{background-color:",";}:active{background-color:",";}"],Tt.menuItemStyles,(e=>{let{theme:t}=e;return t.colors.fg.primary}),(e=>{let{theme:t}=e;return t.colors.interactiveBg.secondaryHover}),(e=>{let{theme:t}=e;return t.colors.interactiveBg.secondaryPress}));function Link(e){let{id:t,onBlur:a,onClick:n,onFocus:o,openNewTab:l,...i}=e;const{focusedId:s,onDismiss:c,onMenuItemBlur:u,onMenuItemFocus:d}=(0,Ct.default)((e=>{let{state:t,actions:a}=e;return{focusedId:t.focusedId,onDismiss:a.onDismiss,onMenuItemBlur:a.onMenuItemBlur,onMenuItemFocus:a.onMenuItemFocus}})),p=(0,m.useMemo)(vt.default,[]),f=t||p,h=l?{target:"_blank",rel:"noreferrer"}:{};return r.createElement(xt,At({id:f,tabIndex:s===f?0:-1,role:"menuitem",onBlur:e=>{u(),a?.(e)},onClick:e=>{n?.(e),c(e)},onFocus:e=>{d(f),o?.(e)}},h,i))}var It,Lt=a(3978),Rt=a(71482);function kt(){return kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},kt.apply(this,arguments)}const Mt=(0,r.memo)((e=>{let{title:t,titleId:a,...n}=e;return r.createElement("svg",kt({fill:"none",viewBox:"0 0 4 16",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,It||(It=r.createElement("path",{d:"M2 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2C.9 6 0 6.9 0 8s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z",fill:"currentColor"})))})),Ot=u.default.button.withConfig({displayName:"storyMenu__MoreVerticalButton",componentId:"sc-1vaaobv-0"})(["display:flex;background:transparent;padding:0 8px;opacity:",";transition:opacity ease-in-out 300ms;cursor:pointer;color:",";& > svg{width:4px;max-height:100%;}border:0;border-radius:",";",";"],(e=>{let{menuOpen:t,isVisible:a}=e;return t||a?1:0}),(e=>{let{theme:t,$isInverted:a}=e;return a?t.colors.inverted.fg.primary:t.colors.interactiveFg.brandNormal}),(e=>{let{theme:t}=e;return t.borders.radius.small}),(e=>{let{theme:t,$isInverted:a}=e;return mt.focusableOutlineCSS(!1,!!a&&t.colors.standard.black)}));Ot.propTypes={menuOpen:ot().bool};const Pt=u.default.div.withConfig({displayName:"storyMenu__MenuContainer",componentId:"sc-1vaaobv-1"})(["position:relative;align-self:",";text-align:right;"," & > div{margin:0;}"],(e=>{let{verticalAlign:t="flex-start"}=e;return t}),(e=>{let{$menuStyleOverrides:t}=e;return t}));function StoryMenu(e){let{contextMenuId:t,onMoreButtonSelected:a,storyId:n,verticalAlign:o,menuItems:l,itemActive:i,tabIndex:s,menuStyleOverrides:c,menuLabel:u,isInverted:d}=e;const p=t===n,f=(0,m.useCallback)((e=>a(e,-1)),[a]);return r.createElement(Pt,{verticalAlign:o,"data-testid":`story-context-menu-${n}`,$menuStyleOverrides:c},r.createElement(Ot,{"data-testid":`story-context-button-${n}`,tabIndex:s,menuOpen:p,isVisible:i,"aria-label":u||(0,b.__)("More Options","web-stories"),onClick:e=>a(e,p?-1:n),className:"context-menu-button",$isInverted:d},r.createElement(Mt,null)),r.createElement(wt.default,{animate:!0,isOpen:p,onDismiss:f},l.map((e=>{let{label:t,separator:a,...n}=e;const o=n.href?Link:Lt.default;return r.createElement(m.Fragment,{key:t},"top"===a&&r.createElement(Rt.default,null),r.createElement(o,n,t),"bottom"===a&&r.createElement(Rt.default,null))}))))}Pt.propTypes={verticalAlign:ot().oneOf(["center","flex-start","flex-end"])};const Dt=u.default.div.attrs({role:"listitem"}).withConfig({displayName:"cardGridItem__CardGridItem",componentId:"sc-w3d579-0"})(["margin:0;width:100%;display:grid;grid-template-columns:100%;grid-template-rows:",";","{margin:12px 0;}&:hover ",",&:active ",",&:focus-within ","{opacity:1;}&:hover .card_buttons,&:active .card_buttons,&:focus-within .card_buttons{opacity:1;}"],(e=>{let{$posterHeight:t}=e;return`${t}px auto`}),Ot,Ot,Ot,Ot);Dt.propTypes={$posterHeight:ot().number};var Nt=a(43040);ot().shape({label:ot().string.isRequired,color:ot().string.isRequired});const Bt=u.default.ul.withConfig({displayName:"colorList__ColorContainer",componentId:"sc-uphoth-0"})(["display:flex;margin:0;"]),Ft=u.default.li.withConfig({displayName:"colorList__Color",componentId:"sc-uphoth-1"})(["",""],(e=>{let{theme:t,$backgroundColor:a,color:r,size:n,spacing:o}=e;return`\n    width: ${n}px;\n    height: ${n}px;\n    border-radius: 50%;\n    margin-bottom: 0;\n    background-color: rgb(${a});\n    ${(e=>({"#fff":`border: solid 1px ${e}`,"#ffffff":`border: solid 1px ${e}`,white:`border: solid 1px ${e}`,"#fef9f1":`border: solid 1px ${e}`,"#fff8f2":`border: solid 1px ${e}`,"#f9f9f9":`border: solid 1px ${e}`,"#fcfcfc":`border: solid 1px ${e}`}))(t.colors.border.defaultNormal)[r]||""};\n\n    & + & {\n      margin-left: ${o||10}px;\n    }\n  `}));function ColorList(e){let{colors:t,size:a,spacing:n,...o}=e;return r.createElement(Bt,o,t.map((e=>{let{label:t,color:o}=e;const{r:l,g:i,b:s}=(0,Nt.default)(o).color,c=`${l}, ${i}, ${s}`;return r.createElement(Ft,{key:o,size:a,spacing:n,color:o,$backgroundColor:c,title:t,ariaLabel:t,"data-testid":"detail-template-color"})})))}const Ut=u.default.div.withConfig({displayName:"contentGutter__StandardViewContentGutter",componentId:"sc-17seiz9-0"})(["margin:0 ","px;"],Ee);var Ht=a(58286),jt=a(46638);const Yt="menu";(0,u.default)(lt.Button).withConfig({displayName:"fileUpload__StyledButton",componentId:"sc-1egk7ci-0"})([":focus-within{","}"],(e=>{let{theme:t}=e;return mt.focusCSS(t.colors.border.focus)})),u.default.input.withConfig({displayName:"fileUpload__Input",componentId:"sc-1egk7ci-1"})(jt.visuallyHidden),u.default.div.withConfig({displayName:"fileUpload__UploadFormArea",componentId:"sc-1egk7ci-2"})(["display:flex;flex-direction:column;align-items:center;position:relative;justify-content:flex-end;width:100%;min-height:153px;padding:40px 0;border-radius:4px;border:1px dashed ",";transition:border-color 300ms ease-in;"],(e=>{let{isDragging:t,theme:a}=e;return t?a.colors.border.focus:a.colors.border.defaultNormal})),(0,u.default)(Ht.Text).withConfig({displayName:"fileUpload__UploadHelperText",componentId:"sc-1egk7ci-3"})(["margin:0 auto 16px;padding:0 20%;text-align:center;color:",";"],(e=>{let{theme:t}=e;return t.colors.fg.tertiary})),u.default.div.withConfig({displayName:"fileUpload__LoadingIndicator",componentId:"sc-1egk7ci-4"})(["display:flex;align-items:center;justify-content:center;position:absolute;top:0;width:100%;height:100%;background-color:",";opacity:",";z-index:",";pointer-events:none;transition:opacity ease-in-out 300ms;p{font-style:italic;}"],(e=>{let{theme:t}=e;return t.colors.standard.white}),(e=>{let{isLoading:t}=e;return t?.6:0}),(e=>{let{isLoading:t}=e;return t?"100":"0"}));var Vt=a(32072),zt=a(71314);const Gt=u.default.div.withConfig({displayName:"infiniteScroller__ScrollMessage",componentId:"sc-1gpz4fk-0"})(["width:100%;padding:140px 0 40px;margin:-100px auto 0;text-align:center;p{color:",";}"],(e=>{let{theme:t}=e;return t.colors.fg.tertiary})),$t=u.default.div.withConfig({displayName:"infiniteScroller__LoadingContainer",componentId:"sc-1gpz4fk-1"})(["display:flex;justify-content:center;"]),qt=u.default.span.withConfig({displayName:"infiniteScroller__AriaOnlyAlert",componentId:"sc-1gpz4fk-2"})(jt.visuallyHidden),Zt="loadable",Wt="loading_internal",Xt="loading_external",Kt="complete",Qt="internal on load",Jt="external on load",ea="all loaded",ta="load success",aa="can load more",ra={[Zt]:{[Qt]:Wt,[Jt]:Xt},[Wt]:{[ea]:Kt,[ta]:Zt},[Xt]:{[ea]:Kt,[ta]:Zt},[Kt]:{[aa]:Zt}},na=(e,t)=>ra[e][t]||e,InfiniteScroller=e=>{let{allDataLoadedMessage:t=(0,b.__)("No more stories","web-stories"),allDataLoadedAriaMessage:a=(0,b.__)("All stories are loaded","web-stories"),onLoadMore:n,canLoadMore:o,isLoading:l,loadingAriaMessage:i=(0,b.__)("Loading more stories","web-stories")}=e;const s=(0,m.useRef)(null),c=(0,m.useRef)(n);c.current=n;const[u,d]=(0,m.useReducer)(na,Zt),p=(0,m.useMemo)((()=>u===Wt?i:u===Xt||o?null:a),[a,i,u,o]);(0,m.useEffect)((()=>{u===Wt&&c.current()}),[u]),(0,m.useEffect)((()=>{l&&d(Jt)}),[l]),(0,m.useEffect)((()=>{l||d(o?ta:ea)}),[l,o]),(0,m.useEffect)((()=>{o&&d(aa)}),[o]),(0,m.useEffect)((()=>{if(!s.current)return()=>{};const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&d(Qt)}))}),{rootMargin:"0px",threshold:0}),t=s.current;return e.observe(t),()=>{e.unobserve(t)}}),[]);const f=(0,m.useMemo)((()=>u===Xt?null:o?r.createElement($t,null,r.createElement(Vt.LoadingSpinner,{animationSize:50,circleSize:6})):r.createElement(Ht.Text,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},t)),[t,o,u]);return r.createElement(Gt,{"data-testid":"load-more-on-scroll",ref:s},p&&r.createElement(qt,{role:"status"},p),f)};var oa=a(78955);const la=(0,u.default)(oa.Input).withConfig({displayName:"inlineInputForm__StyledInput",componentId:"sc-21xnmy-0"})(["div{height:auto;}",""],(e=>{let{$isInverted:t,theme:a}=e;return t&&(0,u.css)(["input{color:",";}"],a.colors.inverted.fg.primary)})),InlineInputForm=e=>{let{noAutoFocus:t,error:a,id:n,isInverted:o,label:l,onEditCancel:i,onEditComplete:s,placeholder:c,value:u}=e;const d=(0,m.useRef)(null),[p,f]=(0,m.useState)(u);(0,m.useEffect)((()=>{f(u)}),[u]),(0,m.useFocusOut)(d,(()=>{i()}),[i]),(0,m.useEffect)((()=>{!t&&d.current&&d.current.querySelector("input")?.focus()}),[t]);const h=(0,m.useCallback)((e=>{let{target:t}=e;f(t.value)}),[f]),g=(0,m.useCallback)((e=>{let{nativeEvent:t}=e;13===t.keyCode?s(p):27===t.keyCode&&i()}),[p,s,i]);return r.createElement("div",{ref:d},r.createElement(la,{"aria-label":l,id:`${n}`,"data-testid":"inline-input-form",value:p,onKeyDown:g,onChange:h,placeholder:c,hasError:Boolean(a),hint:a,$isInverted:o}))},ia=(0,m.createContext)(null),sa=()=>{const e=(0,m.useContext)(ia);if(!e)throw new Error("useLayoutContext() must be used within a <Layout.Provider />");return e},ca=u.default.div.withConfig({displayName:"scrollable__ScrollContent",componentId:"sc-17i1z8u-0"})([""]),ua=u.default.div.withConfig({displayName:"fixed__FixedContent",componentId:"sc-735v4o-0"})(["position:absolute;top:0;right:0;bottom:0;left:0;z-index:",";overflow:hidden;pointer-events:none;& > *{pointer-events:auto;}"],we),da=u.default.div.withConfig({displayName:"pageStructureComponents__AppFrame",componentId:"sc-199ev3j-0"})(["width:100%;@media screen and (max-width:","px){width:","px;}"],me,me),pa=u.default.div.withConfig({displayName:"pageStructureComponents__PageContent",componentId:"sc-199ev3j-1"})(["position:relative;padding-top:10px;width:",";left:",";@media screen and (max-width:","px){left:0;width:100%;}"],(e=>{let{fullWidth:t}=e;return t?"100%":"calc(100% - 288px)"}),(e=>{let{fullWidth:t}=e;return t?"0":"288px"}),me),ma=u.default.nav.attrs({"data-testid":"dashboard-left-rail"}).withConfig({displayName:"pageStructureComponents__LeftRailContainer",componentId:"sc-199ev3j-2"})(["position:fixed;display:flex;justify-content:space-between;flex-direction:column;top:",";bottom:0;width:","px;background:",";z-index:",";transition:transform 0.25s ",",opacity 0.25s linear;@media screen and (max-width:","px){padding-left:0;opacity:",";visibility:",";transform:translateX(",");}"],(e=>{let{topOffset:t}=e;return`${t}px`}),pe,(e=>{let{theme:t}=e;return t.colors.bg.primary}),we,zt.BEZIER.outCubic,me,(e=>{let{isOpen:t}=e;return t?1:0}),(e=>{let{isOpen:t}=e;return t?"visible":"hidden"}),(e=>{let{isOpen:t}=e;return t?"none":"-100%"})),fa=u.default.div.withConfig({displayName:"pageStructureComponents__LoadingContainer",componentId:"sc-199ev3j-3"})(["display:flex;justify-content:center;align-items:center;min-height:550px;"]);var ha,ga,ya,ba;function logo_with_type_circle_color_svg_n(){return logo_with_type_circle_color_svg_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},logo_with_type_circle_color_svg_n.apply(this,arguments)}var _a,Ea=(0,r.memo)((e=>{let{title:t,titleId:a,...n}=e;return r.createElement("svg",logo_with_type_circle_color_svg_n({viewBox:"0 0 212 64",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,ha||(ha=r.createElement("circle",{cx:32,cy:32,r:32,transform:"rotate(-180 32 32)",fill:"url(#a)"})),ga||(ga=r.createElement("g",{filter:"url(#b)",fill:"#fff"},r.createElement("path",{d:"M41.6 19.2a3.2 3.2 0 0 1 3.2 3.2v19.2a3.2 3.2 0 0 1-3.2 3.2V19.2zm-24 0a3.2 3.2 0 0 1 3.2-3.2h14.4a3.2 3.2 0 0 1 3.2 3.2v25.6a3.2 3.2 0 0 1-3.2 3.2H20.8a3.2 3.2 0 0 1-3.2-3.2V19.2zM48 22.4a2.4 2.4 0 0 1 2.4 2.4v14.4a2.4 2.4 0 0 1-2.4 2.4V22.4z"}))),ya||(ya=r.createElement("path",{d:"m80.78 40.4-4.967-18.33h2.407l3.328 13.466.307 1.254h.102l.384-1.254 4.096-13.466h2.253l3.917 13.466.384 1.254h.102l3.61-14.72h2.406L94.17 40.4h-2.253l-3.892-13.261-.41-1.434h-.102l-.435 1.434-4.045 13.26H80.78zm24.747.41c-1.263 0-2.389-.3-3.379-.897a6.391 6.391 0 0 1-2.304-2.457c-.546-1.041-.82-2.227-.82-3.559 0-1.245.257-2.397.769-3.456.529-1.058 1.263-1.903 2.201-2.534.956-.649 2.074-.973 3.354-.973 1.297 0 2.406.29 3.328.87a5.53 5.53 0 0 1 2.15 2.356c.512 1.007.768 2.159.768 3.456 0 .12-.008.239-.025.358 0 .12-.009.222-.026.307h-10.342c.068 1.024.315 1.878.742 2.56.444.666.99 1.17 1.638 1.51a4.47 4.47 0 0 0 2.023.487c.956 0 1.741-.222 2.355-.665a5.278 5.278 0 0 0 1.51-1.69l1.844.896a6.603 6.603 0 0 1-2.202 2.458c-.956.648-2.15.972-3.584.972zm-.179-11.905c-1.058 0-1.937.333-2.637.999s-1.161 1.527-1.382 2.585h7.961c-.017-.495-.162-1.015-.435-1.561-.256-.563-.666-1.041-1.229-1.434-.563-.392-1.322-.589-2.278-.589zm15.423 11.904c-1.041 0-1.954-.239-2.739-.716-.785-.478-1.357-1.016-1.715-1.613h-.103v1.92h-2.073V22.07h2.176v5.402l-.103 1.817h.103c.358-.614.93-1.16 1.715-1.638s1.698-.717 2.739-.717c1.195 0 2.262.299 3.2.896.939.598 1.681 1.417 2.227 2.458.547 1.04.82 2.236.82 3.584 0 1.348-.273 2.543-.82 3.584-.546 1.04-1.288 1.86-2.227 2.457-.938.598-2.005.896-3.2.896zm-.23-1.97a3.98 3.98 0 0 0 2.099-.59c.666-.41 1.195-.99 1.587-1.74.41-.751.615-1.63.615-2.637 0-1.024-.205-1.903-.615-2.637-.392-.75-.921-1.323-1.587-1.715a3.857 3.857 0 0 0-2.099-.615c-.751 0-1.459.205-2.125.615-.648.392-1.178.964-1.587 1.715-.41.734-.615 1.613-.615 2.637s.205 1.911.615 2.662c.409.734.939 1.306 1.587 1.715a4.116 4.116 0 0 0 2.125.59zm19.73 1.97a6.608 6.608 0 0 1-2.637-.563 6.642 6.642 0 0 1-2.304-1.664c-.665-.734-1.152-1.647-1.459-2.739l2.074-.845c.29 1.058.819 1.946 1.587 2.663.768.716 1.698 1.075 2.79 1.075.683 0 1.306-.12 1.869-.359a3.286 3.286 0 0 0 1.382-1.1c.359-.478.538-1.059.538-1.741 0-.905-.341-1.622-1.024-2.15-.666-.547-1.655-1.05-2.97-1.511l-1.152-.41a13.954 13.954 0 0 1-2.048-.972 5.22 5.22 0 0 1-1.689-1.536c-.444-.649-.666-1.46-.666-2.432 0-.888.239-1.699.717-2.432.478-.734 1.135-1.323 1.971-1.767.837-.444 1.801-.665 2.893-.665 1.143 0 2.099.213 2.867.64.785.41 1.4.904 1.843 1.484.461.564.768 1.084.922 1.562l-2.022.87c-.103-.358-.299-.725-.589-1.1-.29-.393-.683-.717-1.178-.973-.478-.273-1.083-.41-1.817-.41-.598 0-1.161.12-1.69.359-.512.239-.93.571-1.254.998-.308.41-.461.887-.461 1.434 0 .768.307 1.373.921 1.817.615.444 1.443.845 2.484 1.203l1.203.41c.546.188 1.101.418 1.664.691.58.273 1.118.623 1.613 1.05.495.426.896.956 1.203 1.587.307.614.461 1.357.461 2.227 0 .939-.188 1.75-.564 2.432a4.746 4.746 0 0 1-1.433 1.639 5.972 5.972 0 0 1-1.971.921c-.7.205-1.391.307-2.074.307zm13.187-.204c-1.092 0-1.971-.316-2.636-.948-.666-.648-.999-1.544-.999-2.688v-7.654h-2.278v-1.971h2.278v-3.687h2.176v3.687h3.2v1.971h-3.2v7.117c0 .683.137 1.212.41 1.587.29.376.759.563 1.408.563.29 0 .555-.042.793-.128.239-.085.453-.187.64-.307v2.125c-.221.102-.469.179-.742.23-.256.069-.606.103-1.05.103zm9.799.204c-1.314 0-2.475-.307-3.482-.921a6.658 6.658 0 0 1-2.381-2.483c-.563-1.058-.844-2.236-.844-3.533 0-1.297.281-2.466.844-3.507a6.605 6.605 0 0 1 2.381-2.51c1.007-.614 2.168-.92 3.482-.92s2.474.315 3.481.946a6.418 6.418 0 0 1 2.356 2.51c.58 1.04.87 2.2.87 3.48 0 1.298-.29 2.475-.87 3.534a6.465 6.465 0 0 1-2.356 2.483c-1.007.614-2.167.921-3.481.921zm0-1.97a4.34 4.34 0 0 0 2.201-.59 4.462 4.462 0 0 0 1.69-1.69c.427-.75.64-1.646.64-2.687s-.213-1.929-.64-2.663c-.427-.75-.99-1.322-1.69-1.715a4.34 4.34 0 0 0-2.201-.589c-.785 0-1.528.197-2.227.59-.7.392-1.263.963-1.69 1.714-.427.734-.64 1.622-.64 2.663 0 1.04.213 1.937.64 2.688.427.734.99 1.297 1.69 1.69a4.48 4.48 0 0 0 2.227.588zm8.984 1.56V27.345h2.073v2.099h.103a3.05 3.05 0 0 1 .845-1.28 4.5 4.5 0 0 1 1.382-.87 4.02 4.02 0 0 1 1.562-.333c.392 0 .699.025.921.077.222.034.427.094.615.179v2.355c-.547-.273-1.161-.41-1.844-.41-.631 0-1.211.18-1.74.538a4.003 4.003 0 0 0-1.28 1.434 4.236 4.236 0 0 0-.461 1.97V40.4h-2.176zm10.88-15.462c-.427 0-.794-.153-1.101-.46a1.503 1.503 0 0 1-.461-1.101c0-.444.154-.81.461-1.101.307-.307.674-.46 1.101-.46.444 0 .81.153 1.101.46.307.29.46.657.46 1.1 0 .428-.153.794-.46 1.102a1.45 1.45 0 0 1-1.101.46zM182.046 40.4V27.344h2.176V40.4h-2.176zm11.256.41c-1.263 0-2.389-.3-3.379-.897a6.39 6.39 0 0 1-2.304-2.457c-.546-1.041-.819-2.227-.819-3.559 0-1.245.256-2.397.768-3.456.529-1.058 1.263-1.903 2.201-2.534.956-.649 2.074-.973 3.354-.973 1.297 0 2.406.29 3.328.87a5.523 5.523 0 0 1 2.15 2.356c.512 1.007.768 2.159.768 3.456 0 .12-.008.239-.025.358 0 .12-.009.222-.026.307h-10.342c.068 1.024.315 1.878.742 2.56.444.666.99 1.17 1.638 1.51a4.47 4.47 0 0 0 2.023.487c.956 0 1.741-.222 2.355-.665a5.278 5.278 0 0 0 1.51-1.69l1.844.896a6.603 6.603 0 0 1-2.202 2.458c-.956.648-2.15.972-3.584.972zm-.179-11.905c-1.058 0-1.937.333-2.637.999s-1.16 1.527-1.382 2.585h7.961c-.017-.495-.162-1.015-.435-1.561-.256-.563-.666-1.041-1.229-1.434-.563-.392-1.322-.589-2.278-.589zm13.475 11.904c-1.468 0-2.663-.34-3.584-1.024-.922-.7-1.562-1.527-1.92-2.483l1.945-.87c.342.785.828 1.39 1.459 1.817a3.75 3.75 0 0 0 2.1.64c.768 0 1.45-.162 2.048-.486.614-.324.921-.802.921-1.434 0-.58-.256-1.032-.768-1.356-.495-.325-1.194-.598-2.099-.82l-1.587-.41c-.615-.17-1.195-.409-1.741-.716s-.99-.7-1.331-1.178c-.324-.494-.487-1.092-.487-1.792 0-.785.231-1.459.692-2.022.46-.563 1.066-.99 1.817-1.28a6.294 6.294 0 0 1 2.407-.46c1.109 0 2.116.247 3.02.742.922.478 1.571 1.169 1.946 2.073l-1.894.87c-.325-.648-.76-1.1-1.306-1.356s-1.143-.384-1.792-.384c-.683 0-1.306.162-1.869.486-.546.307-.819.734-.819 1.28s.213.956.64 1.229c.444.273.981.495 1.613.666l1.894.486c2.577.666 3.866 1.929 3.866 3.789 0 .819-.231 1.527-.691 2.125-.461.597-1.084 1.058-1.869 1.382-.785.324-1.656.486-2.611.486z",fill:"#000"})),ba||(ba=r.createElement("defs",null,r.createElement("linearGradient",{id:"a",x1:13.255,y1:6.599,x2:35.289,y2:62.791,gradientUnits:"userSpaceOnUse"},r.createElement("stop",{stopColor:"#79B3FF"}),r.createElement("stop",{offset:1,stopColor:"#CBACFF"})),r.createElement("filter",{id:"b",x:8.96,y:10.24,width:46.08,height:46.08,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},r.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),r.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.createElement("feOffset",{dy:1.28}),r.createElement("feGaussianBlur",{stdDeviation:1.92}),r.createElement("feColorMatrix",{values:"0 0 0 0 0.423529 0 0 0 0 0.490196 0 0 0 0 0.733333 0 0 0 0.3 0"}),r.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})))))})),wa=a(87462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_a||(_a={}));var va=function(e){return e};var Sa="beforeunload",Ta="popstate";function Ca(e){void 0===e&&(e={});var t=e.window,a=void 0===t?document.defaultView:t,r=a.history;function n(){var e=Ra(a.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,o=e.search,l=void 0===o?"":o,i=e.hash,s=void 0===i?"":i,c=r.state||{};return[c.idx,va({pathname:n,search:l,hash:s,state:c.usr||null,key:c.key||"default"})]}var o=null;function l(){if(o)p.call(o),o=null;else{var e=_a.Pop,t=n(),a=t[0],r=t[1];if(p.length){if(null!=a){var l=c-a;l&&(o={action:e,location:r,retry:function(){b(-1*l)}},b(l))}}else y(e)}}a.addEventListener(Ta,l),a.addEventListener("hashchange",(function(){La(n()[1])!==La(u)&&l()}));var i=_a.Pop,s=n(),c=s[0],u=s[1],d=xa(),p=xa();function m(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=a.location.href,n=r.indexOf("#");t=-1===n?r:r.slice(0,n)}return t}()+"#"+("string"==typeof e?e:La(e))}function f(e,t){return void 0===t&&(t=null),va((0,wa.default)({pathname:u.pathname,hash:"",search:""},"string"==typeof e?Ra(e):e,{state:t,key:Ia()}))}function h(e,t){return[{usr:e.state,key:e.key,idx:t},m(e)]}function g(e,t,a){return!p.length||(p.call({action:e,location:t,retry:a}),!1)}function y(e){i=e;var t=n();c=t[0],u=t[1],d.call({action:i,location:u})}function b(e){r.go(e)}null==c&&(c=0,r.replaceState((0,wa.default)({},r.state,{idx:c}),""));var _={get action(){return i},get location(){return u},createHref:m,push:function e(t,n){var o=_a.Push,l=f(t,n);if(g(o,l,(function(){e(t,n)}))){var i=h(l,c+1),s=i[0],u=i[1];try{r.pushState(s,"",u)}catch(e){a.location.assign(u)}y(o)}},replace:function e(t,a){var n=_a.Replace,o=f(t,a);if(g(n,o,(function(){e(t,a)}))){var l=h(o,c),i=l[0],s=l[1];r.replaceState(i,"",s),y(n)}},go:b,back:function(){b(-1)},forward:function(){b(1)},listen:function(e){return d.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&a.addEventListener(Sa,Aa),function(){t(),p.length||a.removeEventListener(Sa,Aa)}}};return _}function Aa(e){e.preventDefault(),e.returnValue=""}function xa(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Ia(){return Math.random().toString(36).substr(2,8)}function La(e){var t=e.pathname,a=void 0===t?"/":t,r=e.search,n=void 0===r?"":r,o=e.hash,l=void 0===o?"":o;return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),l&&"#"!==l&&(a+="#"===l.charAt(0)?l:"#"+l),a}function Ra(e){var t={};if(e){var a=e.indexOf("#");a>=0&&(t.hash=e.substr(a),e=e.substr(0,a));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}const ka=(0,m.createContext)({state:{},actions:{}});function RouterProvider(e){let{children:t,...a}=e;const n=(0,m.useRef)(a.history||Ca()),[o,l]=(0,m.useState)(n.current.location.pathname),[i,s]=(0,m.useState)([]),c=ve.DASHBOARD,u=(0,m.useMemo)((()=>(e=>{let{availableRoutes:t,currentPath:a,defaultRoute:r}=e;return t.filter((e=>a.startsWith(e))).length<=1?r:a})({availableRoutes:i,currentPath:o,defaultRoute:c})),[i,o,c]),d=e=>{const t=new URLSearchParams(e);return Object.fromEntries(t)},[p,f]=(0,m.useState)(d(n.current.location.search));(0,m.useEffect)((()=>n.current.listen((e=>{let{location:t}=e;f(d(t.search)),l(t.pathname)}))),[]);const h=(0,m.useMemo)((()=>({state:{activeRoute:u,currentPath:o,queryParams:p,availableRoutes:i,defaultRoute:c},actions:{push:n.current.push,replace:n.current.replace,setAvailableRoutes:s}})),[u,i,o,c,p]);return r.createElement(ka.Provider,{value:h},t)}function Ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.identity;return(0,m.useContextSelector)(ka,e)}function Oa(e){return e.toLowerCase().startsWith("http://")||e.toLowerCase().startsWith("https://")?e:e.startsWith("/")?`#${e}`:""===e?"#/":`${window.location.hash}/${e}`}function Route(e){let{component:t,path:a,exact:r=!1,isDefault:n=!1}=e;const{availableRoutes:o,currentPath:l,defaultRoute:i}=Ma((e=>{let{state:t}=e;return t}));return function(e){let{currentPath:t,path:a,availableRoutes:r,defaultRoute:n,isDefault:o=!1,exact:l=!1}=e;const i=new RegExp(`^${a}`).exec(t);if(!i&&!o)return null;const s=i?.[0];return o&&r.filter((e=>t.startsWith(e))).length<=1?n:l&&t!==s?null:s}({currentPath:l,availableRoutes:o,defaultRoute:i,path:a,exact:r,isDefault:n})?t:null}Route.propTypes={component:ot().node.isRequired,path:ot().string.isRequired,exact:ot().bool};const Pa=(0,m.createContext)({actions:{},state:{}});function Da(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.identity;return(0,m.useContextSelector)(Pa,e)}function NavProvider(e){let{children:t}=e;const[a,n]=(0,m.useState)(!1),o=(0,m.useCallback)((()=>{n(!a)}),[a]),l=(0,m.useMemo)((()=>({actions:{toggleSideBar:o},state:{sideBarVisible:a}})),[a,o]);return r.createElement(Pa.Provider,{value:l},t)}var Na=a(28633);const Ba=u.default.div.withConfig({displayName:"navigationComponents__Content",componentId:"sc-6htb2i-0"})(["display:flex;flex-direction:column;margin:20px 0;> *{margin:20px 28px;}"]),Fa=(0,u.default)(Na.Headline).withConfig({displayName:"navigationComponents__Header",componentId:"sc-6htb2i-1"})(["margin:42px 0px 72px;& > svg{margin:0 28px;height:64px;}"]),Ua=u.default.ul.withConfig({displayName:"navigationComponents__NavList",componentId:"sc-6htb2i-2"})(["margin:0;padding:0;"]),Ha=u.default.li.withConfig({displayName:"navigationComponents__NavListItem",componentId:"sc-6htb2i-3"})(["margin:10px 28px;padding:0;list-style-type:none;"]),ja=(0,u.css)(["span{color:",";}svg path{stroke:",";}"],(e=>{let{theme:t}=e;return t.colors.interactiveFg.brandPress}),(e=>{let{theme:t}=e;return t.colors.interactiveFg.brandPress})),Ya=(0,u.default)(St.Link).withConfig({displayName:"navigationComponents__NavLink",componentId:"sc-6htb2i-4"})((e=>{let{active:t,theme:a,isIconLink:r}=e;return(0,u.css)([""," color:",";*{transition:color 0.25s linear,stroke 0.25s linear;}",";:hover{",";}"],r&&(0,u.css)(["display:grid;grid-template-columns:1fr 4fr;grid-template-areas:'icon link link link link';"]),a.colors.fg.secondary,t&&ja,ja)})),Va=(0,u.default)(Ht.Text).withConfig({displayName:"navigationComponents__PathName",componentId:"sc-6htb2i-5"})(["grid-area:link;"]),za=(0,u.default)(Ht.Text).withConfig({displayName:"navigationComponents__AppInfo",componentId:"sc-6htb2i-6"})((e=>{let{theme:t}=e;return(0,u.css)(["color:",";"],t.colors.fg.secondary)}));function Ga(){return Ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ga.apply(this,arguments)}const $a=u.default.div.withConfig({displayName:"leftRail__IconWrap",componentId:"sc-wua966-0"})(["position:relative;"]);function LeftRail(){const e=Ma((e=>{let{state:t}=e;return t.activeRoute})),{newStoryURL:t,version:a,leftRailSecondaryNavigation:n,canViewDefaultTemplates:o,styleConstants:{topOffset:l}}=qe(),i=(0,m.useRef)(null),s=(0,m.useRef)(null),{state:{sideBarVisible:c},actions:{toggleSideBar:u}}=Da(),d=(0,m.useCallback)((e=>{let{target:t}=e;t!==i.current&&t!==s.current&&u()}),[u,i,s]),p=(0,m.useCallback)((()=>{c&&u()}),[u,c]);(0,m.useFocusOut)(i,p,[c]),(0,m.useLayoutEffect)((()=>{c&&i.current&&i.current.focus()}),[c]);const f=(0,m.useCallback)((()=>{(0,y.trackEvent)("create_new_story")}),[]),h=(0,m.useCallback)(((e,t)=>{(0,y.trackClick)(e,t.trackingEvent)}),[]);return r.createElement(ma,{onClickCapture:d,ref:i,isOpen:c,topOffset:l,role:"navigation","aria-label":(0,b.__)("Main dashboard navigation","web-stories")},r.createElement("div",{ref:s},r.createElement(Fa,{forwardedAs:"h2"},r.createElement(Ea,{title:(0,b.__)("Web Stories Dashboard","web-stories")})),r.createElement(Ba,null,r.createElement(lt.Button,{type:it.BUTTON_TYPES.QUATERNARY,size:it.BUTTON_SIZES.SMALL,href:t,onClick:f},(0,b.__)("Create New Story","web-stories"))),r.createElement(Ba,null,r.createElement(Ua,null,Te.map((t=>{let{Icon:a,...n}=t;return n.value!==ve.TEMPLATES_GALLERY||o?r.createElement(Ha,{key:n.value},r.createElement(Ya,Ga({active:e===n.value,href:Oa(n.value),size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,isBold:!0,isIconLink:Boolean(a),"aria-label":e===n.value?(0,T.default)(
/* translators: %s: the current page, for example "Dashboard". */
(0,b.__)("%s (active view)","web-stories"),n.label):n.label},n.isExternal&&{rel:"noreferrer",target:"_blank",onClick:e=>h(e,n)}),r.createElement($a,null,a&&r.createElement(a,{width:"22px"})),r.createElement(Va,{as:"span",isBold:!0},n.label))):null}))))),r.createElement(Ba,null,n&&r.createElement(Ua,null,n.map((t=>r.createElement(Ha,{key:t.value},r.createElement(Ya,Ga({active:e===t.value,href:Oa(t.value),size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,"aria-label":e===t.value?(0,T.default)(
/* translators: %s: the current page, for example "Dashboard". */
(0,b.__)("%s (active view)","web-stories"),t.label):t.label},t.isExternal&&{rel:"noreferrer",target:"_blank",onClick:e=>h(e,t)}),r.createElement(Ht.Text,{as:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,isBold:!0},t.label)))))),r.createElement(za,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL},(0,T.default)(
/* translators: 1: Current Year, 2: App Version */
(0,b.__)("© %1$s Google Version %2$s","web-stories"),(new Date).getFullYear(),a))))}var qa;function Za(){return Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Za.apply(this,arguments)}const Wa=(0,r.memo)((e=>{let{title:t,titleId:a,...n}=e;return r.createElement("svg",Za({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,qa||(qa=r.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z",fill:"currentColor"})))})),Xa=(0,u.default)(Wa).attrs({width:24,height:24}).withConfig({displayName:"menuButton__MenuIcon",componentId:"sc-ov12l5-0"})(["display:block;color:",";"],(e=>{let{theme:t}=e;return t.colors.interactiveFg.brandNormal})),Ka=u.default.button.withConfig({displayName:"menuButton__TransparentButton",componentId:"sc-ov12l5-1"})(["display:inline-flex;align-items:center;justify-content:center;width:24px;height:24px;padding:0;margin-right:16px;background:transparent;border:0;border-radius:",";"," ",""],(e=>{let{theme:t}=e;return t.borders.radius.small}),mt.focusableOutlineCSS,(e=>{let{showOnlyOnSmallViewport:t}=e;return t&&(0,u.css)(["display:none;@media screen and (max-width:","px){display:inline-block;}"],me)}));function NavMenuButton(e){let{showOnlyOnSmallViewport:t}=e;const{actions:a}=Da();return r.createElement(Ka,{onClick:a.toggleSideBar,showOnlyOnSmallViewport:t,"aria-label":(0,b.__)("Toggle main navigation","web-stories")},r.createElement(Xa,{"aria-hidden":!0}))}var Qa=a(75225);const Ja=(0,u.default)(lt.Button).withConfig({displayName:"scrollToTop__StyledButton",componentId:"sc-o0u22z-0"})((e=>{let{$isVisible:t,theme:a}=e;return(0,u.css)(["position:fixed;right:40px;bottom:40px;height:50px;width:50px;display:flex;align-self:center;justify-content:space-around;align-items:center;contain:content;padding:8px;background-color:",";pointer-events:",";box-shadow:0px 4px 14px rgba(0,0,0,0.25);opacity:",";transition:opacity 300ms ease-in-out;"],a.colors.opacity.white64,t?"auto":"none",Number(t))})),er=(0,u.default)(Qa.default).withConfig({displayName:"scrollToTop__DropUpArrowIcon",componentId:"sc-o0u22z-1"})(["position:relative;transform:scale(2.4);"]),ScrollToTop=()=>{const[e,t]=(0,m.useState)(!1),{actions:{scrollToTop:a}}=sa(),n=(0,m.useDebouncedCallback)((()=>t(window.scrollY>0)),100);return(0,m.useEffect)((()=>(window.addEventListener("scroll",n,{passive:!0}),function(){window.removeEventListener("scroll",n,{passive:!0})})),[n]),r.createElement(Ja,{disabled:!e,"aria-label":(0,b.__)("Scroll back to top","web-stories"),"data-testid":"scroll-to-top-button",$isVisible:e,onClick:a,variant:it.BUTTON_VARIANTS.CIRCLE},r.createElement(er,{"aria-hidden":!0}))};var tr=a(207);const ar=u.default.table.withConfig({displayName:"table__Table",componentId:"sc-16y5cap-0"})([""," border-collapse:collapse;width:inherit;"],tr.expandTextPreset(((e,t)=>{let{paragraph:a}=e,{SMALL:r}=t;return a[r]}))),rr=u.default.tbody.withConfig({displayName:"table__TableBody",componentId:"sc-16y5cap-1"})([""]),nr=u.default.thead.withConfig({displayName:"table__TableHeader",componentId:"sc-16y5cap-2"})(["background:",";"],(e=>{let{theme:t}=e;return t.colors.bg.secondary})),or=(0,u.default)(nr).withConfig({displayName:"table__StickyTableHeader",componentId:"sc-16y5cap-3"})(["width:100%;border-top:0;border-bottom:0;th{height:100%;background:",";position:sticky;z-index:2;top:",";:first-child{border-top-left-radius:",";border-bottom-left-radius:",";}:last-child{border-top-right-radius:",";border-bottom-right-radius:",";}}"],(e=>{let{theme:t}=e;return t.colors.bg.secondary}),(e=>{let{topOffset:t}=e;return`${t}px`}),(e=>{let{theme:t}=e;return t.borders.radius.small}),(e=>{let{theme:t}=e;return t.borders.radius.small}),(e=>{let{theme:t}=e;return t.borders.radius.small}),(e=>{let{theme:t}=e;return t.borders.radius.small})),lr=u.default.th.withConfig({displayName:"table__TableHeaderCell",componentId:"sc-16y5cap-4"})(["padding:16px;text-align:left;white-space:nowrap;"]),ir=(0,u.default)(lr).withConfig({displayName:"table__TablePreviewHeaderCell",componentId:"sc-16y5cap-5"})(["padding-right:0;"]),sr=(0,u.default)(lr).withConfig({displayName:"table__TableDateHeaderCell",componentId:"sc-16y5cap-6"})(["min-width:160px;"]),cr=(0,u.default)(lr).withConfig({displayName:"table__TableStatusHeaderCell",componentId:"sc-16y5cap-7"})(["display:table-cell;min-width:100px;@media ","{display:none;}"],(e=>{let{theme:t}=e;return t.breakpoint.tabletMax})),ur=(0,u.default)(lr).withConfig({displayName:"table__TableAuthorHeaderCell",componentId:"sc-16y5cap-8"})(["min-width:110px;"]),dr=(0,u.default)(lr).withConfig({displayName:"table__TableTitleHeaderCell",componentId:"sc-16y5cap-9"})(["padding-left:0;width:30%;min-width:135px;span{display:none;margin-right:5px;}"]),pr=((0,u.default)(lr).withConfig({displayName:"table__TableContentHeaderCell",componentId:"sc-16y5cap-10"})(["width:17.5%;min-width:150px;"]),u.default.tr.withConfig({displayName:"table__TableRow",componentId:"sc-16y5cap-11"})(["min-width:1250px;@media ","{min-width:0;}"],(e=>{let{theme:t}=e;return t.breakpoint.tabletMax}))),mr=u.default.td.withConfig({displayName:"table__TableCell",componentId:"sc-16y5cap-12"})(["padding:","px;font-weight:normal;word-break:break-word;height:","px;vertical-align:middle;span{color:",";line-height:20px;}"],16,82,(e=>{let{theme:t}=e;return t.colors.standard.black})),fr=(0,u.default)(mr).withConfig({displayName:"table__TableStatusCell",componentId:"sc-16y5cap-13"})(["display:table-cell;span{color:",";}@media ","{display:none;}"],(e=>{let{theme:t}=e;return t.colors.fg.secondary}),(e=>{let{theme:t}=e;return t.breakpoint.tabletMax})),hr=((0,u.default)(mr).withConfig({displayName:"table__TableTitleCell",componentId:"sc-16y5cap-14"})(["width:30%;word-wrap:break-word;"]),(0,u.default)(mr).withConfig({displayName:"table__TableContentCell",componentId:"sc-16y5cap-15"})(["width:17.5%;min-width:150px;word-wrap:break-word;"]),(0,u.default)(mr).withConfig({displayName:"table__TablePreviewCell",componentId:"sc-16y5cap-16"})(["width:","px;"],ye[ge]));var gr=a(38421),yr=a(30801),br=a(19597),_r=a(55859);function tooltip_n(){return tooltip_n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},tooltip_n.apply(this,arguments)}function Tooltip(e){let{placement:t=gr.PLACEMENT.BOTTOM,...a}=e;const{isRTL:n}=qe(),o=n?gr.RTL_PLACEMENT[t]:t;return r.createElement(_r.Tooltip,tooltip_n({placement:o,isMirrored:n},a))}const Er=u.default.div.withConfig({displayName:"viewStyleBar__Container",componentId:"sc-17r9rf0-0"})(["display:flex;justify-content:flex-end;align-items:center;"]),wr=u.default.button.withConfig({displayName:"viewStyleBar__ToggleButton",componentId:"sc-17r9rf0-1"})(["border:none;border-radius:",";"," padding:0;background:transparent;cursor:pointer;&:hover svg{color:",";}&:active svg{color:",";}"],(e=>{let{theme:t}=e;return t.borders.radius.small}),mt.focusableOutlineCSS,(e=>{let{theme:t}=e;return t.colors.interactiveFg.hover}),(e=>{let{theme:t}=e;return t.colors.interactiveFg.active}));function ViewStyleBar(e){let{onPress:t,layoutStyle:a}=e;return r.createElement(Er,null,r.createElement(Tooltip,{title:Ae[a],placement:gr.PLACEMENT.BOTTOM_END,hasTail:!0},r.createElement(wr,{"aria-label":Ae[a],onClick:t},a===Ce.GRID&&r.createElement(yr.default,{height:"32px",width:"32px","data-testid":"list-icon"}),a===Ce.LIST&&r.createElement(br.default,{height:"32px",width:"32px","data-testid":"grid-icon"}))))}const vr=(0,u.createGlobalStyle)(["h1,h2,h3,h4,h5,h6,p,a{margin:0;}"]),Sr=(0,u.createGlobalStyle)(["*:focus{outline:none !important;}"]),Tr=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Tab"],KeyboardOnlyOutline=()=>{const[e,t]=(0,m.useState)(!1),a=a=>{!e&&Tr.includes(a.key)&&t(!0)},n=()=>{e&&t(!1)};return document.addEventListener("keydown",a),document.addEventListener("mousedown",n),(0,m.useEffect)((()=>function(){document.removeEventListener("keydown",a),document.removeEventListener("mousedown",n)})),(0,m.useEffect)((()=>{document.body.classList.toggle("useskeyboard",e)}),[e]),e?null:r.createElement(Sr,null)};var Cr=a(61342),Ar=a(59426);const xr=e=>Math.round(e/Ar.PAGE_RATIO),Ir=e=>e<=me?fe:he,Lr=(e,t)=>{let{bp:a,respectSetWidth:r,availableContainerSpace:n}=t;if(r)return{width:e,height:xr(e)};a===he&&(n-=pe);const o=Math.floor(n/e),l=e+(n-(e*o+be*(o-1)+2*Ee))/o;return{width:l,height:xr(l)}},Rr=e=>window.innerWidth<me?me:e;function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{thumbnailMode:t=!1,isGrid:a}=e,r=(0,m.useRef)(document.getElementById(de)),[n,o]=(0,m.useState)(window.innerWidth),[l,i]=(0,m.useState)(Ir(n)),[s,c]=(0,m.useState)(Rr(r.current?.offsetWidth||window.innerWidth)),u=(0,m.useDebouncedCallback)((e=>{o(e)}),500);return(0,m.useEffect)((()=>{i(Ir(n))}),[n]),(0,m.useResizeEffect)(r,(e=>{let{width:t}=e;c(Rr(t)),window.innerWidth!==n&&u(window.innerWidth)}),[c,n,u]),(0,m.useMemo)((()=>({pageSize:Lr(ye[t?ge:l],{respectSetWidth:!a||t,availableContainerSpace:s,bp:l})})),[l,a,t,s])}ot().shape({style:ot().oneOf(Object.values(Ce)),toggleStyle:ot().func,pageSize:bt}),ot().shape({filterId:ot().number,toggleFilterId:ot().func,queriedAuthors:ot().arrayOf(ot().shape({id:ot().number,name:ot().string})).isRequired,setQueriedAuthors:ot().func}),ot().shape({value:ot().oneOfType([ot().number,ot().string]),set:ot().func}),ot().shape({value:ot().oneOf(Object.values(O)),set:ot().func,direction:ot().oneOf(Object.values(M)),setDirection:ot().func}),ot().shape({value:ot().number,set:ot().func,requestNextPage:ot().func}),ot().shape({keyword:ot().string,setKeyword:ot().func}),ot().shape({current:ot().bool}),ot().shape({style:ot().oneOf(Object.values(Ce)),pageSize:bt}),ot().shape({value:ot().oneOfType([ot().number,ot().string]),set:ot().func}),ot().shape({value:ot().number,set:ot().func,requestNextPage:ot().func}),ot().shape({keyword:ot().string,setKeyword:ot().func}),ot().shape({value:ot().oneOf(Object.values(se)),set:ot().func});function Dashboard(e){let{config:t,children:a}=e;const m=(0,n.default)({isRTL:!1,userId:1,locale:{locale:"en-US",dateFormat:"F j, Y",timeFormat:"g:i a",gmtOffset:"0",timezone:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysInitials:["S","M","T","W","T","F","S"],weekStartsOn:1},newStoryURL:"",archiveURL:"",defaultArchiveURL:"",cdnURL:"https://wp.stories.google/static/main/",allowedImageMimeTypes:["image/webp","image/png","image/jpeg","image/gif"],version:"",encodeMarkup:!0,api:{},maxUpload:314572800,maxUploadFormatted:"300 MB",capabilities:{canManageSettings:!1,canUploadFiles:!1},canViewDefaultTemplates:!1,localeData:[],flags:{},apiCallbacks:{},leftRailSecondaryNavigation:[],styleConstants:{topOffset:0}},t),{isRTL:f,flags:h}=m,g={...o.theme,colors:l.light};return r.createElement(p.FlagsProvider,{features:h},r.createElement(u.StyleSheetManager,{stylisPlugins:f?[d.default]:[]},r.createElement(u.ThemeProvider,{theme:g},r.createElement(c.Styles,null),r.createElement(i.ModalGlobalStyle,null),r.createElement(ConfigProvider,{config:m},r.createElement(ApiProvider,null,r.createElement(NavProvider,null,r.createElement(RouterProvider,null,r.createElement(s.default,null,r.createElement(vr,null),r.createElement(KeyboardOnlyOutline,null),a))))))))}Object.defineProperty(d.default,"name",{value:"stylisRTLPlugin"});var Mr=a(72398);function Or(e){return(0,T.default)(
/* translators: %s: page number. */
(0,b.__)("Poster of template page %s","web-stories"),e)}function CardGallery(e){let{galleryPosters:t,isRTL:a,galleryLabel:n}=e;const[o,l]=(0,m.useState)(0),[i,s]=(0,m.useState)(),c=(0,m.useRef)(),u=(0,m.useRef)(),d=(0,m.useRef)({}),p=(0,m.useCallback)((e=>{l(e),s(e)}),[]),f=(0,m.useCallback)((e=>{s(e)}),[]);(0,m.useEffect)((()=>{t&&(l(0),s())}),[t]),(0,Mr.default)({containerRef:c,gridRef:u,itemRefs:d,isRTL:a,currentItemId:i,items:t});const h=(0,m.useMemo)((()=>t.map(((e,t)=>{const a=`gallery_item_${t}`,n=t+1,l=i?i===t:o===t;return r.createElement("div",{key:a,ref:e=>{d.current[t]=e},onFocus:()=>f(t)},r.createElement(pt,{$isSelected:o===t,tabIndex:l?0:-1,onClick:()=>p(t),"aria-label":(0,T.default)(
/* translators: %s: page number. */
(0,b.__)(o===t?"Page %s (current page)":"Page %s","web-stories"),n)},r.createElement("picture",null,r.createElement("source",{srcSet:e.webp,type:"image/webp"}),r.createElement("source",{srcSet:e.png,type:"image/png"}),r.createElement("img",{src:e.png,decoding:"async",alt:Or(n),width:ke,height:Re}))))}))),[t,o,i,f,p]);return r.createElement(ct,{ref:c},r.createElement(dt,{ref:u,role:"group","aria-label":n,"data-testid":"mini-cards-container"},h),r.createElement(ut,null,t[o]&&r.createElement("picture",null,r.createElement("source",{srcSet:t[o].webp,type:"image/webp"}),r.createElement("source",{srcSet:t[o].png,type:"image/png"}),r.createElement("img",{src:t[o].png,decoding:"async",alt:(0,T.default)(
/* translators: %s: active preview page number */
(0,b.__)("Active Page Preview - Page %s","web-stories"),o+1),width:ke,height:Re}))))}var Pr=a(36683);function Dr(){return Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Dr.apply(this,arguments)}const Dialog=e=>{let{onClose:t,onSecondary:a,onPrimary:n,primaryText:l,secondaryText:i,primaryRest:s,secondaryRest:c,actions:d,children:p,...f}=e;const h=(0,m.useMemo)((()=>l&&r.createElement(lt.Button,Dr({type:it.BUTTON_TYPES.PRIMARY,size:it.BUTTON_SIZES.SMALL,onClick:()=>n?.()},s),l)),[l,s,n]),g=(0,m.useMemo)((()=>i&&r.createElement(lt.Button,Dr({type:it.BUTTON_TYPES.TERTIARY,size:it.BUTTON_SIZES.SMALL,onClick:()=>a?.()||t()},c),i)),[i,c,a,t]);return r.createElement(u.ThemeProvider,{theme:o.theme},r.createElement(Pr.Dialog,Dr({onClose:t},f,{actions:d||r.createElement(r.Fragment,null,g,h)}),p))},Nr=e=>{let{children:t}=e;const a=(0,m.useRef)(),n=(0,m.useRef)(null);(0,m.useEffect)((()=>{a.current=document?.getElementById("web-stories-dashboard")?.querySelector(["button","a"])}),[]);const o=(0,m.useCallback)((()=>{document.documentElement?.scrollTo?.({top:0,behavior:"smooth"}),a.current?.focus()}),[]),l=(0,m.useMemo)((()=>({state:{scrollFrameRef:n},actions:{scrollToTop:o}})),[o]);return r.createElement(ia.Provider,{value:l},t)},Br=e=>{let{children:t}=e;const{state:{scrollFrameRef:a}}=sa();return r.createElement(ca,{ref:a},t)},Fr=e=>{let{children:t}=e;return r.createElement(ua,null,t)};var Ur=a(2667),Hr=a(75530),jr=a(36779),Yr=a(4597);const Vr=u.default.div.withConfig({displayName:"bodyViewOptions__DisplayFormatContainer",componentId:"sc-x2ax3p-0"})(["height:76px;display:flex;justify-content:space-between;align-items:center;margin-top:-10px;"]),zr=u.default.div.withConfig({displayName:"bodyViewOptions__StorySortDropdownContainer",componentId:"sc-x2ax3p-1"})(["margin:auto 8px;align-self:flex-end;"]),Gr=u.default.div.withConfig({displayName:"bodyViewOptions__ControlsContainer",componentId:"sc-x2ax3p-2"})(["display:flex;justify-content:center;align-items:center;"]),$r=(0,u.default)(Hr.DropDown).withConfig({displayName:"bodyViewOptions__StyledDropDown",componentId:"sc-x2ax3p-3"})(["width:210px;"]),qr=u.default.div.withConfig({displayName:"bodyViewOptions__BodyViewOptionsHeader",componentId:"sc-x2ax3p-4"})([""]),Zr=(0,u.default)(jr.default.DropDown).withConfig({displayName:"bodyViewOptions__StyledDatalist",componentId:"sc-x2ax3p-5"})(["width:150px;"]),Wr={filterId:null,toggleFilterId:Yr.noop,queriedAuthors:[]};function BodyViewOptions(e){let{currentSort:t,handleLayoutSelect:a,handleSortChange:n,resultsLabel:o,layoutStyle:l,pageSortOptions:i=[],showGridToggle:s,showSortDropdown:c,sortDropdownAriaLabel:u,showAuthorDropdown:d=!1,author:p=Wr,queryAuthorsBySearch:m=Yr.noop}=e;return r.createElement(Ut,null,r.createElement(qr,{id:"body-view-options-header"}),r.createElement(Vr,null,r.createElement(Ht.Text,{as:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},r.createElement(Ur.default,null,o)),r.createElement(Gr,null,l===Ce.GRID&&d&&r.createElement(zr,null,r.createElement(Zr,{hasSearch:!0,hasDropDownBorder:!0,searchResultsLabel:(0,b.__)("Search results","web-stories"),"aria-label":(0,b.__)("Filter stories by author","web-stories"),onChange:p.toggleFilterId,getOptionsByQuery:m,selectedId:p.filterId,placeholder:(0,b.__)("Author","web-stories"),primaryOptions:p.queriedAuthors,options:p.queriedAuthors})),l===Ce.GRID&&c&&r.createElement(zr,null,r.createElement($r,{ariaLabel:u,options:i,type:Yt,selectedValue:t,onMenuItemClick:(e,t)=>n(t)})),s&&r.createElement(Gr,null,r.createElement(ViewStyleBar,{layoutStyle:l,onPress:a})))))}var Xr,Kr,Qr;function Jr(){return Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Jr.apply(this,arguments)}var en=(0,r.memo)((e=>{let{title:t,titleId:a,...n}=e;return r.createElement("svg",Jr({viewBox:"0 0 274 118",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,Xr||(Xr=r.createElement("path",{d:"M59.68 117.706 8.551 106.934C2.505 105.66-.951 99.261 1.3 93.506l1.18-3.019a10 10 0 0 1 7.987-6.268l78.794-10.544a10.003 10.003 0 0 0 2.525-.683l82.061-34.244a10 10 0 0 1 8.263.255l56.296 27.675c.436.215.886.397 1.349.545l26.84 8.637c9.132 2.939 9.287 15.804.228 18.962l-26.529 9.248c-.819.285-1.671.463-2.536.529L62.497 117.892a9.985 9.985 0 0 1-2.818-.186Z",fill:"#F4F2EF"})),Kr||(Kr=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M224 26a4 4 0 0 1 4-4h2a4 4 0 0 1 4 4v31h4V44a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-7v17h-10V49h-7a2 2 0 0 1-2-2V31a2 2 0 0 1 2-2h1a2 2 0 0 1 2 2v13h4V26ZM120.857 53.178a2.143 2.143 0 0 1 4.286 0v14.25h1.714v-5.357a1.072 1.072 0 0 1 2.143 0V68.5a1.146 1.146 0 0 1-.048.319 1.073 1.073 0 0 1-1.023.753h-2.786v5.892h-4.286v-7.892h-2.786A1.073 1.073 0 0 1 117 66.5v-6.429a1.072 1.072 0 0 1 2.143 0v5.358h1.714v-12.25ZM64.786 8a8 8 0 0 1 8-8h.428a8 8 0 0 1 8 8v34.643h6.572V22a4 4 0 0 1 4-4H92a4 4 0 0 1 4 4v24.857a4 4 0 0 1-4 4H81.214v42.786H64.786V78.857H54a3.987 3.987 0 0 1-2.828-1.171A3.988 3.988 0 0 1 50 74.857V50a4 4 0 0 1 4-4h.214a4 4 0 0 1 4 4v20.643h6.572V8Z",fill:"#FBBC04"})),Qr||(Qr=r.createElement("circle",{cx:213,cy:72,r:13,fill:"#4285F4"})))}));const tn=u.default.div.withConfig({displayName:"emptyContentMessage__Message",componentId:"sc-1wgc64w-0"})(["display:flex;flex-direction:column;align-items:center;max-width:400px;margin:20vh auto;& > *{text-align:center;margin:0 auto;}button,a{margin-top:48px;}"]),an=(0,u.default)(en).withConfig({displayName:"emptyContentMessage__EmptyImage",componentId:"sc-1wgc64w-1"})(["margin-bottom:48px;"]);function EmptyContentMessage(e){let{children:t}=e;return r.createElement(tn,null,r.createElement(an,{"aria-hidden":!0,width:274,height:118}),t)}var rn=a(1233);const nn=u.default.h1.withConfig({displayName:"display__Display",componentId:"sc-xgoq85-0"})([""," ",""],rn.defaultTypographyStyle,(e=>{let{size:t,theme:a}=e;return(0,tr.expandPresetStyles)({preset:a.typography.presets.display[t],theme:a})}));nn.propTypes={as:ot().oneOf(["h1","h2","h3","h4","h5","h6"]).isRequired,size:ot().oneOf(zt.THEME_CONSTANTS.TYPOGRAPHY.DISPLAY_SIZES)},nn.defaultProps={size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM};var on=a(51240);const ln=u.default.div.withConfig({displayName:"components__DropDownContainer",componentId:"sc-8mm6ey-0"})(["display:flex;flex-direction:column;width:100%;"]),sn=(0,u.default)(Ht.Text).withConfig({displayName:"components__Label",componentId:"sc-8mm6ey-1"})(["margin-bottom:8px;color:",";"],(e=>{let{theme:t,disabled:a}=e;return t.colors.fg[a?"disable":"primary"]}));sn.propTypes={disabled:ot().bool};const cn=(0,u.default)(Ht.Text).withConfig({displayName:"components__Hint",componentId:"sc-8mm6ey-2"})(["margin-top:12px;padding-left:2px;color:",";"],(e=>{let{theme:t,hasError:a}=e;return t.colors.fg[a?"negative":"tertiary"]}));cn.propTypes={hasError:ot().bool};var un=a(86080),dn=a(23126),pn=a(20739),mn=a(54531);var fn=a(76517);function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},hn.apply(this,arguments)}const gn=u.default.div.withConfig({displayName:"search__SearchInputWrapper",componentId:"sc-63vr7b-0"})([""]),Search=e=>{let{ariaInputLabel:t=un.DEFAULT_ARIA_INPUT_LABEL,ariaClearLabel:a=un.DEFAULT_ARIA_CLEAR_LABEL,disabled:n,handleSearchValueChange:o,hasError:l,hint:i,label:s,onMenuItemClick:c,onClear:u,options:d=[],placeholder:p=un.DEFAULT_PLACEHOLDER,placement:f=gr.PLACEMENT.BOTTOM,popupFillWidth:h=un.DEFAULT_POPUP_FILL_WIDTH,popupZIndex:g,selectedValue:y={},..._}=e;const E=(0,m.useMemo)((()=>`list-${(0,vt.default)()}`),[]),w=(0,m.useMemo)((()=>`select-button-${(0,vt.default)()}`),[]),v=(0,m.useMemo)((()=>`clear-button-${(0,vt.default)()}`),[]),S=(0,m.useRef)(),C=(0,m.useRef)(),{activeOption:A,getActiveOption:x,inputState:I,isMenuFocused:L,isOpen:R,normalizedOptions:k}=function(e){let{handleSearchValueChange:t,selectedValue:a,options:r}=e;const n=(0,mn.default)("assertive"),[o,l]=(0,m.useState)(!1),i=(0,m.useDebouncedCallback)(l,100),s=(0,m.useMemo)((()=>({value:o,set:i})),[o,i]),[c,u]=(0,m.useState)(!1),d=(0,m.useDebouncedCallback)(u,300,{leading:!0}),p=(0,m.useMemo)((()=>({value:c,set:d})),[c,d]);(0,m.useEffect)((()=>{s.value||d(!1)}),[s,d]);const f=(0,m.useMemo)((()=>r&&0!==r.length?(0,pn.getOptions)(r):[]),[r]),h=(0,m.useCallback)((e=>f.flatMap((e=>e.group)).find((t=>t?.value?.toString().toLowerCase()===e.toString().toLowerCase()))),[f]),g=(0,m.useMemo)((()=>a?.value&&0!==f.length?h(a.value):null),[a,f,h]),[y,_]=(0,m.useState)(void 0),E=(0,m.useMemo)((()=>({value:y,set:_})),[y]);return(0,m.useEffect)((()=>{void 0===E?.value&&void 0!==a?.value&&E.set(a?.label||"")}),[E,a]),(0,m.useEffect)((()=>{t?.(E.value)}),[t,E]),(0,m.useEffect)((()=>{if(s.value&&E.value?.length){const e=r.length?(0,T.default)(
/* translators: %d number of options in dropdown */
(0,b._n)("%d result found.","%d results found.",r.length,"web-stories"),r.length):(0,b.__)("No results found.","web-stories");n(e)}}),[E.value,s.value,r.length,n]),{activeOption:g,getActiveOption:h,normalizedOptions:f,inputState:E,isMenuFocused:p,isOpen:s}}({options:d,selectedValue:y,handleSearchValueChange:o}),M=(0,m.useMemo)((()=>Boolean(n||0===I?.value?.length)),[n,I]),O=(0,m.useCallback)((()=>{R.set(!0),L.set(!1)}),[R,L]),P=(0,m.useCallback)((e=>{e.preventDefault(),R.set(!0)}),[R]),D=(0,m.useCallback)((e=>{(!v||e?.srcElement?.id!==v&&e?.srcElement?.nearestViewportElement?.id!==v)&&R.set(!1)}),[v,R]),N=(0,m.useCallback)(((e,t)=>{R.set(!1);const a=x(t)||{label:t,value:t};I.set(a.label),c?.(e,a)}),[x,I,R,c]),B=(0,m.useCallback)((()=>S?.current?.focus()),[]),F=(0,m.useCallback)((e=>{let{target:t}=e;I.set(t.value),t.value.length>0&&!R.value&&R.set(!R.value)}),[I,R]),U=(0,m.useCallback)((()=>{I.set(void 0),u(),B()}),[B,I,u]),H=(0,m.useCallback)((()=>{R.set(!1),L.set(!1)}),[R,L]),j=(0,m.useCallback)((()=>L.set(!0)),[L]),Y=(0,m.useCallback)((()=>{(M||0===I.value?.trim().length)&&(L.set(!1),R.set(!1))}),[I,L,M,R]),V=(0,m.useCallback)((e=>{const{key:t}=e;"Escape"===t?M||L.set(!1):"Tab"===t?Y(e):"ArrowDown"===t?j():"Enter"===t&&I.value.trim().length>0&&N(e,I.value)}),[M,L,Y,j,N,I.value]);return(0,m.useFocusOut)(C,Y,[Y]),r.createElement(ln,null,s&&r.createElement(sn,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,disabled:n,forwardedAs:"span",isBold:!0},s),r.createElement(gn,{ref:C},r.createElement(dn.default,hn({"aria-label":t,hasError:l,id:w,onChange:F,onClick:P,onFocus:O,onKeyDown:V,placeholder:p,ariaClearLabel:a,clearId:v,disabled:n,handleClearInput:U,handleTabClear:H,inputValue:I?.value||"",isOpen:R?.value,listId:E,ref:S},_))),!M&&r.createElement(on.Popup,{anchor:S,isOpen:R?.value,placement:f,fillWidth:h,zIndex:g},r.createElement(fn.Menu,hn({activeValue:A?.value,handleReturnToParent:B,isMenuFocused:L.value,listId:E,menuAriaLabel:(0,T.default)(
/* translators: %s: dropdown aria label or general dropdown label if there is no specific aria label. */
(0,b.__)("%s Option List Selector","web-stories"),t),onDismissMenu:D,onMenuItemClick:N,options:k,parentId:w},_))),i&&r.createElement(cn,{hasError:l,size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},i))},yn=(0,u.default)(Ut).withConfig({displayName:"pageHeading__HeadingContainer",componentId:"sc-1ln7suo-0"})(["display:flex;align-items:center;flex-wrap:wrap;justify-content:space-between;margin-bottom:16px;padding-top:48px;border-bottom:1px solid ",";"],(e=>{let{theme:t}=e;return t.colors.divider.secondary})),bn=(0,u.default)(nn).withConfig({displayName:"pageHeading__StyledHeadline",componentId:"sc-1ln7suo-1"})(["display:flex;align-items:center;margin-right:28px;padding-bottom:24px;white-space:nowrap;"]),_n=u.default.div.withConfig({displayName:"pageHeading__HeadlineFilters",componentId:"sc-1ln7suo-2"})(["display:flex;align-items:center;margin:auto 0 auto 0;padding-bottom:24px;"]),En=u.default.div.withConfig({displayName:"pageHeading__HeaderSearch",componentId:"sc-1ln7suo-3"})(["width:208px;max-width:208px;min-width:208px;margin:auto 0;padding-bottom:24px;"]),PageHeading=e=>{let{children:t,heading:a,searchPlaceholder:n,searchOptions:o=[],showSearch:l,handleSearchChange:i,searchValue:s="",onClear:c=Yr.noop}=e;return r.createElement(yn,null,r.createElement(bn,{as:"h2",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},r.createElement(NavMenuButton,{showOnlyOnSmallViewport:!0}),a),t&&r.createElement(_n,null,t),l&&r.createElement(En,null,r.createElement(Search,{placeholder:n,selectedValue:{label:s,value:s},options:o,handleSearchValueChange:i,onClear:c,emptyText:(0,b.__)("No options available","web-stories")})))};var wn=a(27227),vn=a(98077);const Sn=()=>{};function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.identity;return(0,m.useContextSelector)(rt,e)}const Cn=e=>""===e?(0,b.__)("Untitled","web-stories"):e;var An=a(65052);const xn=e=>{let{menuItems:t,story:a,isLocked:r}=e;const n=t.default?()=>t.default(a):Sn;return t.filter((e=>void 0===e.isEnabled||e.isEnabled(a))).map((e=>{let{capability:o,value:l,...i}=e;const s=(e=>t.find((t=>t?.value===e)))(l),c={onClick:s?()=>s.action(a):n};switch(l){case C:c.href=a.bottomTargetAction,c.openNewTab=!1;break;case R:c.href=a.previewLink,c.openNewTab=!0;break;case A:case I:c.disabled=r}return delete i?.action,{...i,...c}}))};var In=a(14186);const Ln=u.default.div.withConfig({displayName:"components__PreviewImage",componentId:"sc-1w22569-0"})(["display:inline-block;background:",";width:","px;height:","px;object-fit:contain;border-radius:",";"],(e=>{let{theme:t}=e;return t.colors.gradient.placeholder}),ye[ge],ye[ge]/(3/4),(e=>{let{theme:t}=e;return t.borders.radius.small})),Rn=u.default.div.withConfig({displayName:"components__PreviewWrapper",componentId:"sc-1w22569-1"})(["position:relative;"]),kn=(0,u.default)(In.default).withConfig({displayName:"components__LockIcon",componentId:"sc-1w22569-2"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:24px;display:block;margin:auto;background-color:",";color:",";border-radius:",";"],(e=>{let{theme:t}=e;return t.colors.interactiveBg.brandNormal}),(e=>{let{theme:t}=e;return t.colors.standard.white}),(e=>{let{theme:t}=e;return t.borders.radius.round})),Mn=(0,u.default)(pr).withConfig({displayName:"components__StyledTableRow",componentId:"sc-1w22569-3"})(["&:hover ",",&:focus-within ","{opacity:1;}"],Ot,Ot),On=u.default.div.withConfig({displayName:"components__TitleTableCellContainer",componentId:"sc-1w22569-4"})(["display:flex;align-items:center;justify-content:flex-start;","{margin:10px auto;}&:hover ",",&:active ","{opacity:1;}"],Ot,Ot,Ot);function Pn(e){window.getSelection().selectAllChildren(e.target)}function Dn(){window.getSelection().removeAllRanges()}const StoryListItem=e=>{let{story:t,renameStory:a,userId:n,storyMenu:o,storyStatus:l}=e;const i=(0,m.useMemo)((()=>t?.locked&&n!==t?.lockUser.id),[t,n]),s=Cn(t.title),c=(0,m.useMemo)((()=>xn({menuItems:o.menuItems,story:t,isLocked:i})),[o,t,i]),u=(0,m.useMemo)((()=>c.length?r.createElement(StoryMenu,{menuLabel:(0,T.default)(
/* translators: %s: story title.*/
(0,b.__)("Context menu for %s","web-stories"),s),onMoreButtonSelected:(e,t)=>o.handleMenuToggle(t),contextMenuId:o.contextMenuId,storyId:t.id,menuItems:c,verticalAlign:"center"}):null),[c,s,o,t]);return r.createElement(Mn,{"data-testid":`story-list-item-${t.id}`},r.createElement(hr,null,r.createElement(_r.Tooltip,{title:i&&t?.lockUser.name?(0,T.default)(
/* translators: %s: user name */
(0,b.__)("%s is currently editing this story","web-stories"),t?.lockUser.name):""},r.createElement(Rn,null,r.createElement(Ln,t.featuredMediaUrl?{src:t.featuredMediaUrl,alt:(0,T.default)(
/* translators: %s: Story title. */
(0,b.__)("%s Poster image","web-stories"),s),as:"img",decoding:"async"}:null),i&&r.createElement(kn,null)))),r.createElement(mr,null,r.createElement(On,null,a.id===t.id?r.createElement(InlineInputForm,{onEditComplete:e=>a.handleOnRenameStory(t,e),onEditCancel:a.handleCancelRename,value:t.title,id:t.id,label:(0,b.__)("Rename story","web-stories")}):r.createElement(r.Fragment,null,r.createElement(Na.Headline,{tabIndex:0,onFocus:Pn,onBlur:Dn,size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.XXX_SMALL,as:"h3","aria-label":i?(0,T.default)(
/* translators: 1: story title. 2: user currently editing the story. */
(0,b.__)("%1$s (locked by %2$s)","web-stories"),s,t?.lockUser.name):s},s),u))),r.createElement(mr,null,r.createElement(Ht.Text,{as:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},t.author?.name||"—")),r.createElement(mr,null,r.createElement(Ht.Text,{as:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},(0,Ze.getRelativeDisplayDate)(t.createdGmt))),r.createElement(mr,null,r.createElement(Ht.Text,{as:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},(0,Ze.getRelativeDisplayDate)(t.modifiedGmt))),l!==B.DRAFT&&r.createElement(fr,null,r.createElement(Ht.Text,{as:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},F[t?.status])))};var Nn=a(83506);const{focusableOutlineCSS:Bn}=Nn,Fn=u.default.div.withConfig({displayName:"components__ListView",componentId:"sc-15nl0r5-0"})(["width:100%;"]),Un=u.default.div.withConfig({displayName:"components__ArrowIcon",componentId:"sc-15nl0r5-1"})(["width:32px;height:100%;display:inline-grid;color:",";vertical-align:middle;svg{visibility:",";transition:transform 0.15s;",";}"],(e=>{let{theme:t}=e;return t.colors.fg.primary}),(e=>{let{active:t}=e;return t?"visible":"hidden"}),(e=>{let{asc:t}=e;return t&&(0,u.css)(["transform:rotate(180deg);"])})),Hn=u.default.div.withConfig({displayName:"components__EmptyIconSpace",componentId:"sc-15nl0r5-2"})(["height:32px;width:32px;"]),jn=(0,u.default)(Un).withConfig({displayName:"components__ArrowIconWithTitle",componentId:"sc-15nl0r5-3"})(["display:",";position:absolute;top:16px;@media ","{margin-left:4px;}"],(e=>{let{active:t}=e;return!t&&"none"}),(e=>{let{theme:t}=e;return t.breakpoint.mobile})),Yn=(0,u.default)(Ht.Text).attrs({tabIndex:0,isBold:!0}).withConfig({displayName:"components__SelectableTitle",componentId:"sc-15nl0r5-4"})(["color:",";cursor:pointer;",";"],(e=>{let{theme:t}=e;return t.colors.blue[70]}),(e=>{let{theme:t}=e;return Bn(t.colors.border.focus,t.colors.bg.secondary)})),Vn={[M.DESC]:M.ASC,[M.ASC]:M.DESC};function StoryListView(e){let{handleSortChange:t,handleSortDirectionChange:a,hideStoryList:n,renameStory:o,sortDirection:l,stories:i,storyMenu:s,storySort:c,storyStatus:u}=e;const{userId:d,styleConstants:{topOffset:p}}=qe(),f=(0,m.useCallback)((e=>{e!==c?(t(e),a(P[e])):a(Vn[l])}),[a,t,c,l]),h=(0,m.useCallback)(((e,t)=>{let{key:a}=e;"Enter"===a&&f(t)}),[f]),g=(0,m.useMemo)((()=>!n&&i.map((e=>r.createElement(StoryListItem,{key:`story-${e.id}`,story:e,userId:d,renameStory:o,storyStatus:u,storyMenu:s})))),[n,o,i,u,s,d]);return r.createElement(Fn,{"data-testid":"story-list-view"},r.createElement(ar,{"aria-label":(0,b.__)("List view of created stories","web-stories")},r.createElement(or,{topOffset:p},r.createElement(pr,null,r.createElement(ir,{onClick:()=>f(O.NAME),onKeyDown:e=>h(e,O.NAME)},r.createElement(Yn,{"aria-label":(0,b.__)("Title, select to sort table by story title","web-stories"),forwardedAs:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,isBold:!0},(0,b.__)("Title","web-stories"))),r.createElement(dr,{onClick:()=>f(O.NAME),onKeyDown:e=>h(e,O.NAME)},r.createElement(Yn,{"aria-hidden":!0,active:c===O.NAME,forwardedAs:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,isBold:!0},(0,b.__)("Title","web-stories")),r.createElement(Un,{active:c===O.NAME,asc:l===M.ASC},r.createElement(An.default,null))),r.createElement(ur,null,r.createElement(Yn,{"aria-label":(0,b.__)("Author, select to sort table by story author","web-stories"),onClick:()=>f(O.CREATED_BY),onKeyDown:e=>h(e,O.CREATED_BY),active:c===O.CREATED_BY,forwardedAs:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,isBold:!0},(0,b.__)("Author","web-stories")),r.createElement(jn,{"aria-hidden":!0,active:c===O.CREATED_BY,asc:l===M.ASC},c===O.CREATED_BY?r.createElement(An.default,null):r.createElement(Hn,null))),r.createElement(sr,null,r.createElement(Yn,{"aria-label":(0,b.__)("Creation date, select to sort table by date story was created","web-stories"),onClick:()=>f(O.DATE_CREATED),onKeyDown:e=>h(e,O.DATE_CREATED),active:c===O.DATE_CREATED,forwardedAs:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,isBold:!0},(0,b.__)("Date Created","web-stories")),r.createElement(jn,{"aria-hidden":!0,active:c===O.DATE_CREATED,asc:l===M.ASC},r.createElement(An.default,null))),r.createElement(sr,null,r.createElement(Yn,{"aria-label":(0,b.__)("Modification date, select to sort table by date story was last modified","web-stories"),onClick:()=>f(O.LAST_MODIFIED),onKeyDown:e=>h(e,O.LAST_MODIFIED),active:c===O.LAST_MODIFIED,forwardedAs:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,isBold:!0},(0,b.__)("Last Modified","web-stories")),r.createElement(jn,{"aria-hidden":!0,active:c===O.LAST_MODIFIED,asc:l===M.ASC},r.createElement(An.default,null))),u!==B.DRAFT&&r.createElement(cr,null,r.createElement(Ht.Text,{as:"span",isBold:!0,size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},(0,b.__)("Publish State","web-stories"))))),r.createElement(rr,null,g)))}var zn=a(86998);const Gn=u.default.div.withConfig({displayName:"components__Gradient",componentId:"sc-fbjjp8-0"})(["position:absolute;bottom:0;height:67%;width:100%;border-radius:",";background:",";"],(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return t.colors.gradient.posterOverlay})),$n=u.default.div.withConfig({displayName:"components__Scrim",componentId:"sc-fbjjp8-1"})(["position:absolute;top:0;width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end;border-radius:",";background:",";"],(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return t.colors.opacity.black3})),qn=u.default.div.withConfig({displayName:"components__Container",componentId:"sc-fbjjp8-2"})(["position:relative;"]),Zn=u.default.div.withConfig({displayName:"components__Poster",componentId:"sc-fbjjp8-3"})(["height:100%;width:100%;object-fit:cover;border-radius:",";background:",";"],(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return t.colors.gradient.placeholder})),Wn=(0,u.default)(Dt).withConfig({displayName:"components__CustomCardGridItem",componentId:"sc-1vhey8s-0"})(["display:grid;grid-template-columns:100%;grid-template-rows:",";"],(e=>{let{$posterHeight:t}=e;return`${t}px auto`}));Wn.propTypes={$posterHeight:ot().number};const Xn=u.default.div.withConfig({displayName:"components__CardWrapper",componentId:"sc-1vhey8s-1"})(["position:absolute;height:100%;width:100%;"]),Kn=u.default.a.withConfig({displayName:"components__ScrimAnchor",componentId:"sc-1vhey8s-2"})(["position:absolute;top:0;width:100%;height:100%;box-sizing:border-box;border-radius:",";&:hover,&:focus{box-shadow:none;border:",";}"],(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return`4px solid ${t.colors.interactiveBg.active}`})),Qn=u.default.div.withConfig({displayName:"components__StyledStoryDisplayContent",componentId:"sc-1vhey8s-3"})(["padding:20px 12px 8px 12px;display:flex;flex-direction:column;width:100%;"]),Jn=u.default.div.withConfig({displayName:"components__Row",componentId:"sc-1vhey8s-4"})(["width:100%;display:flex;align-items:flex-end;flex-wrap:wrap;"]),eo=(0,u.default)(Jn).withConfig({displayName:"components__LockedRow",componentId:"sc-1vhey8s-5"})(["position:absolute;top:8px;right:8px;justify-content:flex-end;align-items:center;"]),to=u.default.div.withConfig({displayName:"components__CardDetailsGrid",componentId:"sc-1vhey8s-6"})(["display:grid;grid-template-columns:80% auto;margin-top:4px;"]),ao=u.default.div.withConfig({displayName:"components__CardDetailsColumn",componentId:"sc-1vhey8s-7"})(["display:flex;align-items:space-between;flex-direction:column;align-self:flex-end;"]),ro=(0,u.default)(Na.Headline).attrs({as:"h3",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}).withConfig({displayName:"components__Title",componentId:"sc-1vhey8s-8"})(["overflow:hidden;text-overflow:ellipsis;color:",";margin:0;max-height:calc(1.2em * 3);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;"],(e=>{let{theme:t}=e;return t.colors.inverted.fg.primary})),no=(0,u.default)(Ht.Text).attrs({forwardedAs:"span",size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}).withConfig({displayName:"components__DetailCopy",componentId:"sc-1vhey8s-9"})(["color:",";margin:0;"],(e=>{let{theme:t}=e;return t.colors.inverted.fg.primary})),oo=u.default.img.withConfig({displayName:"components__LockAvatar",componentId:"sc-1vhey8s-10"})(["height:40px;width:40px;border:",";border-radius:",";z-index:3;"],(e=>{let{theme:t}=e;return`2px solid ${t.colors.interactiveBg.brandNormal}`}),(e=>{let{theme:t}=e;return t.borders.radius.small})),lo=(0,u.default)(In.default).withConfig({displayName:"components__LockIcon",componentId:"sc-1vhey8s-11"})(["color:",";display:inline;height:36px;width:36px;margin:-4px -4px -4px -10px;"],(e=>{let{theme:t}=e;return t.colors.inverted.fg.primary})),StoryDisplayContent=e=>{let{author:t,contextMenu:a,displayDate:n,editMode:o,formattedTitle:l,id:i,isLocked:s,lockUser:c={},onEditComplete:u,onEditCancel:d,status:p,title:f}=e;const h=(0,m.useMemo)((()=>{if(!n)return null;switch(p){case B.PUBLISH:return(0,T.default)(
/* translators: %s: published date */
(0,b.__)("Published %s","web-stories"),n);case B.FUTURE:return(0,T.default)(
/* translators: %s: future publish date */
(0,b.__)("Scheduled %s","web-stories"),n);default:return(0,T.default)(
/* translators: %s: last modified date */
(0,b.__)("Modified %s","web-stories"),n)}}),[p,n]),{name:g,avatar:y}=c,_=s&&y&&r.createElement(eo,null,r.createElement(_r.Tooltip,{position:gr.PLACEMENT.BOTTOM_START,title:g&&(0,T.default)(
/* translators: %s: user name */
(0,b.__)("%s is currently editing this story","web-stories"),g)},r.createElement(oo,{src:y,alt:g,decoding:"async",height:24,width:24,"data-test-id":"lock-user-avatar"})));return r.createElement(Qn,null,_,o?r.createElement(InlineInputForm,{onEditComplete:u,onEditCancel:d,value:f,id:i,label:(0,b.__)("Rename story","web-stories"),isInverted:!0}):r.createElement(Jn,null,s&&r.createElement(lo,null),r.createElement(ro,null,l)),r.createElement(to,null,r.createElement(ao,null,p===B.DRAFT&&r.createElement(no,{isBold:!0},(0,b.__)("Draft","web-stories")),p===B.PENDING&&r.createElement(no,{isBold:!0},(0,b.__)("Pending","web-stories")),t?.name&&r.createElement(no,null,t?.name),r.createElement(no,{className:"dashboard-grid-item-date"},h)),r.createElement(ao,null,a)))};function io(){return io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},io.apply(this,arguments)}const so=(0,m.forwardRef)(((e,t)=>{let{onFocus:a,isActive:n,pageSize:o,renameStory:l,story:i,storyMenu:s}=e;const{userId:c}=qe(),d=n?0:-1,p=l?{editMode:l?.id===i?.id,onEditComplete:e=>l?.handleOnRenameStory(i,e),onEditCancel:l?.handleCancelRename}:{},f=(0,m.useMemo)((()=>i?.locked&&c!==i?.lockUser.id),[i,c]),h=(0,m.useMemo)((()=>xn({menuItems:s.menuItems,story:i,isLocked:f})),[s,i,f]),g=(0,Ze.getRelativeDisplayDate)(i?.status===B.DRAFT?i?.modifiedGmt:i?.createdGmt),y=Cn(i.title),_=(0,m.useMemo)((()=>h.length?r.createElement(StoryMenu,{menuLabel:f?(0,T.default)(
/* translators: 1: story title. 2: user currently editing the story. */
(0,b.__)("Context menu for %1$s (locked by %2$s)","web-stories"),y,i?.lockUser.name):(0,T.default)(
/* translators: %s: story title.*/
(0,b.__)("Context menu for %s","web-stories"),y),itemActive:n,tabIndex:d,onMoreButtonSelected:s.handleMenuToggle,contextMenuId:s.contextMenuId,storyId:i.id,isInverted:!0,menuItems:h,menuStyleOverrides:(0,u.css)(["margin:0 0 0 auto;"])}):null),[f,y,i?.lockUser?.name,i.id,n,d,s,h]);return r.createElement(Wn,{"data-testid":`story-grid-item-${i.id}`,onFocus:a,$posterHeight:o.height,ref:t,"aria-label":(0,T.default)(
/* translators: %s: story title.*/
(0,b.__)("Details about %s","web-stories"),y)},r.createElement(qn,null,r.createElement(Xn,null,r.createElement(Zn,io({},i.featuredMediaUrl?{alt:(0,T.default)(
/* translators: %s: Story title. */
(0,b.__)("%s Poster image","web-stories"),y),as:"img",src:i.featuredMediaUrl,decoding:"async"}:null,{width:ke,height:Re})),r.createElement(Gn,null),r.createElement($n,null,i?.capabilities?.hasEditAction&&r.createElement(Kn,{className:"grid-item-anchor","data-testid":"story-editor-grid-link",tabIndex:d,href:i.editStoryLink},r.createElement(zn.VisuallyHidden,null,(0,T.default)(
/* translators: %s: Story title. */
(0,b.__)("Open %s in Editor","web-stories"),y))),r.createElement(StoryDisplayContent,io({author:i.author,contextMenu:_,displayDate:g,formattedTitle:y,id:i.id,isLocked:f,lockUser:i?.lockUser,status:i?.status,title:i.title},p))))))}));so.displayName="StoryGridItem";const co=(0,u.default)(Et).withConfig({displayName:"storyGridView__StoryGrid",componentId:"sc-1fwq7hb-0"})(["width:calc(100% - ","px);"],Ee),StoryGridView=e=>{let{stories:t,pageSize:a,storyMenu:n,renameStory:o,returnStoryFocusId:l}=e;const{isRTL:i}=qe(),s=(0,m.useRef)(),c=(0,m.useRef)(),u=(0,m.useRef)({}),[d,p]=(0,m.useState)(),f=(0,m.useRef)(),h=(0,m.useMemo)((()=>t.map((e=>{let{id:t}=e;return t}))),[t]);(0,Mr.default)({containerRef:s,gridRef:c,itemRefs:u,isRTL:i,currentItemId:d,items:t}),(0,m.useEffect)((()=>{if(!d&&l?.value&&!f.current){const e=l?.value;p(e);const t=u.current?.[e]?.querySelectorAll(["button","a"])?.[0];t?.focus()}}),[d,l]),(0,m.useEffect)((()=>{d&&(f.current=d)}),[d]);const g=(0,m.useCallback)(((e,t)=>{if(n.handleMenuToggle(t),t<0&&9===e?.keyCode){const t=e?.shiftKey?d:h[h.indexOf(d)+1];l.set(t),f.current=null,p(null)}}),[d,h,l,n]),y=(0,m.useCallback)((()=>{f.current=null,p(null),l.set(null)}),[l]);(0,m.useFocusOut)(s,(()=>p(null)),[]);const _=(0,m.useMemo)((()=>{const e=[I,A,x],t=n.menuItems.map((t=>{const a={...t};return e.includes(t?.value)&&(a.action=e=>{y(),t.action(e)}),a}));return{...n,handleMenuToggle:g,menuItems:t}}),[g,n,y]),E=(0,m.useMemo)((()=>t.map((e=>r.createElement(so,{onFocus:()=>p(e.id),isActive:d===e.id,ref:t=>{u.current[e.id]=t},key:e.id,pageSize:a,renameStory:o,story:e,storyMenu:_})))),[d,_,a,o,t]);return r.createElement("div",{ref:s},r.createElement(co,{pageSize:a,ref:c,role:"list",ariaLabel:(0,b.__)("Viewing stories","web-stories")},E))};function StoriesView(e){let{filterValue:t,loading:a,sort:n,storyActions:o,stories:l,view:i}=e;const[s,c]=(0,m.useState)(-1),[u,d]=(0,m.useState)(-1),[p,f]=(0,m.useState)(""),[h,g]=(0,m.useState)(null),[_,E]=(0,m.useState)({}),[w,v]=(0,m.useState)(null),{showSnackbar:S}=(0,wn.useSnackbar)(),C="DELETE_STORY"===p&&h,M=(0,m.useMemo)((()=>l.map((e=>{let{id:t}=e;return t}))),[l]);(0,m.useEffect)((()=>{if(_.id&&!w){const e=M.indexOf(_.id),t=e>0?-1:1,a=_.isDeleted?t:0,r=M[e+a];r&&v(r)}}),[_,w,M]),(0,m.useEffect)((()=>{p||g(null)}),[p,g]),(0,m.useEffect)((()=>{p&&(E({}),v(null))}),[p]);const O=(0,m.useCallback)(((e,t)=>{d(-1),(0,y.trackEvent)("rename_story"),o.updateStory({...e,title:{raw:t}})}),[o]),P=(0,m.useCallback)((()=>{(0,y.trackEvent)("delete_story"),o.trashStory(h),E({id:h.id,isDeleted:!0}),f("")}),[o,h]),D=(0,m.useCallback)((()=>{c(-1),(0,y.trackEvent)("open_in_editor")}),[]),N=(0,m.useCallback)((e=>{c(-1),d(e.id)}),[]),B=(0,m.useCallback)((e=>{c(-1),(0,y.trackEvent)("duplicate_story"),o.duplicateStory(e),E({id:e.id})}),[o]),F=(0,m.useCallback)((e=>{c(-1),g(e),f("DELETE_STORY")}),[]),U=(0,m.useCallback)((e=>{c(-1),window.navigator.clipboard.writeText(e.link),S({message:(0,T.default)(
/* translators: %s: story title. */
(0,b.__)("%s has been copied to your clipboard.","web-stories"),Cn(e.title)),dismissible:!0}),E({id:e.id})}),[S]),H=k.map((e=>{switch(e?.value){case L:e.action=U;break;case I:e.action=F;break;case x:e.action=B;break;case R:e.action=D;break;case A:e.action=N;break;default:e.action=()=>c(-1)}return e})),j=(0,m.useMemo)((()=>({handleMenuToggle:c,contextMenuId:s,menuItems:H})),[s,H,c]),Y=(0,m.useMemo)((()=>({id:u,handleOnRenameStory:O,handleCancelRename:()=>d(-1)})),[O,d,u]),V=(0,m.useMemo)((()=>i.style===Ce.LIST?r.createElement(StoryListView,{handleSortChange:n.set,handleSortDirectionChange:n.setDirection,hideStoryList:a?.isLoading&&!a?.showStoriesWhileLoading.current,pageSize:i.pageSize,renameStory:Y,sortDirection:n.direction,stories:l,storyMenu:j,storySort:n.value,storyStatus:t}):!a?.isLoading||a?.isLoading&&a?.showStoriesWhileLoading.current?r.createElement(StoryGridView,{isLoading:a?.isLoading,pageSize:i.pageSize,renameStory:Y,storyMenu:j,stories:l,returnStoryFocusId:{value:w,set:v}}):null),[a,t,Y,w,n,l,j,i]);return r.createElement(r.Fragment,null,V,a?.isLoading&&!a?.showStoriesWhileLoading.current&&r.createElement(fa,null,r.createElement(Vt.LoadingSpinner,null)),C&&r.createElement(Dialog,{isOpen:!0,contentLabel:(0,b.__)("Dialog to confirm deleting a story","web-stories"),title:(0,b.__)("Delete Story","web-stories"),onClose:()=>{E({id:h.id}),f("")},secondaryText:(0,b.__)("Cancel","web-stories"),secondaryRest:{"aria-label":(0,T.default)(
/* translators: %s: story title. */
(0,b.__)('Cancel deleting story "%s"',"web-stories"),Cn(h.title))},primaryText:(0,b.__)("Delete","web-stories"),onPrimary:P,primaryRest:{"aria-label":(0,T.default)(
/* translators: %s: story title. */
(0,b.__)('Confirm deleting story "%s"',"web-stories"),Cn(h.title))}},r.createElement(Ht.Text,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},(0,T.default)(
/* translators: %s: story title. */
(0,b.__)('Are you sure you want to delete "%s"?',"web-stories"),Cn(h.title)))))}function Content(e){let{allPagesFetched:t,canViewDefaultTemplates:a,filter:n,loading:o,page:l,search:i,sort:s,stories:c,storyActions:u,view:d}=e;return r.createElement(Br,null,r.createElement(Ut,null,c.length>0?r.createElement(r.Fragment,null,r.createElement(StoriesView,{filterValue:n.value,sort:s,storyActions:u,stories:c,view:d,loading:o}),r.createElement(InfiniteScroller,{canLoadMore:!t,isLoading:o?.isLoading,allDataLoadedMessage:(0,b.__)("No more stories","web-stories"),onLoadMore:l.requestNextPage})):r.createElement(EmptyContentMessage,null,r.createElement(Na.Headline,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,as:"h3"},i?.keyword?(0,T.default)(
/* translators: %s: search term. */
(0,b.__)('Sorry, we couldn\'t find any results matching "%s"',"web-stories"),i.keyword):(0,b.__)("Start telling Stories.","web-stories")),!i?.keyword&&a&&r.createElement(lt.Button,{type:it.BUTTON_TYPES.PRIMARY,size:it.BUTTON_SIZES.MEDIUM,as:"a",href:Oa(ve.TEMPLATES_GALLERY)},(0,b.__)("Explore Templates","web-stories")))))}var uo=a(47253);function po(e){let{isActiveSearch:t,currentFilter:a,totalResults:r,view:n}=e;return(0,m.useMemo)((()=>{const e=r??0,o=Le[n]?.[a]||"",l="function"==typeof o?o(e):o;return t?(0,T.default)(
/* translators: %s: number of results */
(0,b._n)("%s result","%s results",e,"web-stories"),(0,T.default)("<strong>%s</strong>",e)):l}),[t,r,n,a])}const mo=(0,u.default)(uo.default).withConfig({displayName:"header__StyledPill",componentId:"sc-vdoh83-0"})(["margin:0 2px;white-space:nowrap;& > span{padding-left:8px;color:",";}"],(e=>{let{theme:t,isActive:a}=e;return a?t.colors.gray[20]:t.colors.fg.tertiary}));var fo=(0,m.memo)((function Header(e){let{filter:t,initialPageReady:a,search:n,sort:o,stories:l,totalStoriesByStatus:i,view:s,author:c,queryAuthorsBySearch:u,showAuthorDropdown:d}=e;const{actions:{scrollToTop:p}}=sa(),{setKeyword:f}=n,h=(0,m.useMemo)((()=>function(e){return e.reduce(((e,t)=>!t.title||t?.title.trim().length<=0?e:[...e,{label:t.title,value:t.title}]),[])}(l)),[l]),g=po({currentFilter:t.value,isActiveSearch:Boolean(n.keyword),totalResults:(t.value.split(",")||[]).reduce(((e,t)=>e+(i[t]||0)),0),view:xe}),_=(0,m.useCallback)((e=>{t.set(e),p()}),[t,p]),E=(0,m.useMemo)((()=>!a||i&&0===Object.keys(i).length?null:r.createElement(r.Fragment,null,U.map((e=>{const{label:a,status:n,value:o}=e;if(!(n in i))return null;const l=i[n];if(0===l)return null;const s=(0,T.default)(
/* translators: %s is story status */
(0,b.__)("Filter stories by %s","web-stories"),a);return r.createElement(mo,{key:o,onClick:()=>_(o),isActive:t.value===o,disabled:l<=0,"aria-label":s},a,l&&r.createElement("span",null,l))})).filter(Boolean))),[i,t.value,a,_]),w=(0,m.useCallback)((e=>{o.set(e),p()}),[p,o]),v=(0,m.useDebouncedCallback)((async e=>{await(0,y.trackEvent)("search",{search_type:"dashboard",search_term:e}),f(e)}),300),S=(0,m.useCallback)((()=>f("")),[f]);return r.createElement(r.Fragment,null,r.createElement(PageHeading,{heading:(0,b.__)("Dashboard","web-stories"),searchPlaceholder:(0,b.__)("Search Stories","web-stories"),searchOptions:h,handleSearchChange:v,showSearch:a,searchValue:n.keyword,onClear:S},E),r.createElement(BodyViewOptions,{showGridToggle:!0,showSortDropdown:!0,showAuthorDropdown:d,resultsLabel:g,layoutStyle:s.style,handleLayoutSelect:s.toggleStyle,currentSort:o.value,pageSortOptions:D,handleSortChange:w,author:c,queryAuthorsBySearch:u,sortDropdownAriaLabel:(0,b.__)("Choose sort option for display","web-stories")}))}));function MyStories(){const{duplicateStory:e,fetchStories:t,trashStory:a,updateStory:n,allPagesFetched:o,isLoading:l,stories:i,storiesOrderById:s,totalPages:c,totalStoriesByStatus:u,getAuthors:d}=Tn((e=>{let{actions:{storyApi:{duplicateStory:t,fetchStories:a,trashStory:r,updateStory:n},usersApi:{getAuthors:o}},state:{stories:{allPagesFetched:l,isLoading:i,stories:s,storiesOrderById:c,totalPages:u,totalStoriesByStatus:d}}}=e;return{duplicateStory:t,fetchStories:a,trashStory:r,updateStory:n,allPagesFetched:l,isLoading:i,stories:s,storiesOrderById:c,totalPages:u,totalStoriesByStatus:d,getAuthors:o}})),{apiCallbacks:p,canViewDefaultTemplates:f}=qe(),h=(0,m.useRef)(!1);(0,m.useEffect)((()=>(h.current=!0,()=>{h.current=!1})),[]);const{filter:g,page:b,search:_,sort:E,view:w,showStoriesWhileLoading:v,initialPageReady:S,author:T}=function(e){let{filters:t,isLoading:a=!1,totalPages:r}=e;const[n,o]=(0,m.useState)(Ce.GRID),[l,i]=(0,m.useState)(O.LAST_MODIFIED),[s,c]=(0,m.useState)(t.length>0?t[0].value:null),[u,d]=(0,m.useState)(M.DESC),[p,f]=(0,m.useState)(1),[h,g]=(0,m.useState)(""),[b,_]=(0,m.useState)(null),[E,w]=(0,m.useState)([]),v=(0,m.useRef)(!1),[S,T]=(0,m.useState)(!1),{pageSize:C}=kr({thumbnailMode:n===Ce.LIST,isGrid:n===Ce.GRID}),A=(0,m.useCallback)((e=>{f((0,Cr.clamp)(e,{MIN:1,MAX:r}))}),[r]),x=(0,m.useCallback)((e=>{i(e),A(1)}),[A]),I=(0,m.useCallback)((e=>{c(e),A(1)}),[A]),L=(0,m.useCallback)((e=>{e!==u&&d(e)}),[u]),R=(0,m.useCallback)((()=>{const e=n===Ce.LIST?Ce.GRID:Ce.LIST;o(e),e===Ce.LIST&&L(l===O.NAME?M.ASC:M.DESC)}),[l,L,n,o]),k=(0,m.useCallback)((e=>{A(1),g(e)}),[A]),P=(0,m.useCallback)((()=>{v.current=!0,A(p+1)}),[p,A]),D=(0,m.useCallback)((e=>{let{id:t}=e;_((e=>e===t?null:t))}),[]);return(0,m.useEffect)((()=>{h.length&&(0,y.trackEvent)("search",{search_type:"dashboard_stories",search_term:h,search_filter:s,search_author_filter:b,search_order:u,search_orderby:l,search_view:n})}),[h,s,u,l,n,b]),(0,m.useEffect)((()=>{a||(v.current=!1)}),[a]),(0,m.useEffect)((()=>{r&&!S&&T(!0)}),[r,S]),(0,m.useMemo)((()=>({view:{style:n,toggleStyle:R,pageSize:C},sort:{value:l,direction:u,set:x,setDirection:L},filter:{value:s,set:I},page:{value:p,set:f,requestNextPage:P},search:{keyword:h,setKeyword:k},author:{filterId:b,toggleFilterId:D,queriedAuthors:E,setQueriedAuthors:w},initialPageReady:S,showStoriesWhileLoading:v})),[n,R,C,l,x,u,L,s,S,I,p,P,h,k,b,D,E,w])}({filters:U,isLoading:l,totalPages:c}),{setQueriedAuthors:C}=T;let A=(0,m.useCallback)((e=>d(e).then((e=>{if(!h.current)return;const t=e.map((e=>{let{id:t,name:a}=e;return{id:t,name:a}}));C((e=>{const a=e.map((e=>{let{id:t}=e;return t})),r=t.filter((e=>!a.includes(e.id)));return[...e,...r]}))}))),[d,C]);d||(A=Sn),(0,m.useEffect)((()=>{A()}),[A]),(0,m.useEffect)((()=>{t({page:b.value,searchTerm:_.keyword,sortDirection:E.direction,sortOption:E.value,status:g.value,author:T.filterId})}),[t,g.value,b.value,_.keyword,E.direction,E.value,T.filterId,p]);const x=(0,m.useMemo)((()=>s.map((e=>i[e]))),[i,s]),I="function"==typeof d;return r.createElement(Nr,null,r.createElement(fo,{initialPageReady:S,filter:g,search:_,sort:E,stories:x,totalStoriesByStatus:u,view:w,author:T,queryAuthorsBySearch:A,showAuthorDropdown:I}),r.createElement(Content,{allPagesFetched:o,canViewDefaultTemplates:f,filter:g,loading:{isLoading:l,showStoriesWhileLoading:v},page:b,search:_,sort:E,stories:x,storyActions:{duplicateStory:e,trashStory:a,updateStory:n},view:w}),r.createElement(Fr,null,r.createElement(ScrollToTop,null)))}var ho=a(39591);const go="VERTICAL",yo="COLOR",bo="TAG";const _o=u.default.div.withConfig({displayName:"components__CardWrapper",componentId:"sc-1ilp1n2-0"})(["position:absolute;height:100%;width:100%;transition:opacity ease-in-out 300ms;&:hover{",",","{opacity:1;}}",",","{opacity:",";}"],Gn,$n,Gn,$n,(e=>{let{$isSelected:t}=e;return t?1:0})),Eo=u.default.div.withConfig({displayName:"components__TemplateDisplayContent",componentId:"sc-1ilp1n2-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:space-between;height:100%;padding-bottom:16px;a,button{margin:auto auto 0;}"]),wo=(0,u.default)(Zn).attrs({as:"picture"}).withConfig({displayName:"components__PicturePoster",componentId:"sc-1ilp1n2-2"})(["display:block;& > img{height:100%;width:100%;object-fit:fill;border-radius:",";}"],(e=>{let{theme:t}=e;return t.borders.radius.medium})),vo=(0,u.default)(lt.Button).attrs({type:it.BUTTON_TYPES.TERTIARY,size:it.BUTTON_SIZES.SMALL}).withConfig({displayName:"templateGridItem__SeeDetailsButton",componentId:"sc-fidkqe-0"})(["background-color:",";"],(e=>{let{theme:t}=e;return t.colors.standard.white})),So=(0,m.forwardRef)(((e,t)=>{let{onCreateStory:a,onFocus:n,height:o,id:l,isActive:i,posterSrc:s,slug:c,title:u,status:d,onSeeDetailsClick:p=Yr.noop}=e;const m=i?0:-1,f=(0,T.default)(
/* translators: %s: Template title. */
(0,b.__)("First page of %s template","web-stories"),u);return r.createElement(Dt,{ref:t,id:`template-grid-item-${l}`,className:"templateGridItem","data-testid":`template-grid-item-${l}`,$posterHeight:o,onFocus:n},r.createElement(qn,null,r.createElement(_o,{$isSelected:i},r.createElement(wo,null,r.createElement("source",{srcSet:s?.webp,type:"image/webp"}),r.createElement("source",{srcSet:s?.png,type:"image/png"}),r.createElement("img",{src:s?.png,alt:f,decoding:"async",width:ke,height:Re})),r.createElement(Gn,null),r.createElement($n,{"data-testid":"card-action-container","data-template-slug":c},r.createElement(Eo,null,r.createElement(vo,{ariaLabel:(0,T.default)(
/* translators: %s: template title.*/
(0,b.__)("Go to detail view of %s","web-stories"),u),onClick:()=>p(l,u),className:"focus_template",tabIndex:m},ue[d]),a&&r.createElement(lt.Button,{size:it.BUTTON_SIZES.SMALL,type:it.BUTTON_TYPES.PRIMARY,onClick:a,tabIndex:m,ariaLabel:(0,T.default)(
/* translators: %s: template title.*/
(0,b.__)("Create new story from %s","web-stories"),u)},(0,b.__)("Use template","web-stories")))))))}));function TemplateGridView(e){let{pageSize:t,templates:a,templateActions:n}=e;const{isRTL:o,apiCallbacks:l}=qe(),i=(0,m.useRef)(),s=(0,m.useRef)(),c=(0,m.useRef)({}),[u,d]=(0,m.useState)(null),{handleDetailsToggle:p,createStoryFromTemplate:f}=n||{},h=Boolean(l?.createStoryFromTemplate);(0,Mr.default)({containerRef:i,gridRef:s,itemRefs:c,isRTL:o,currentItemId:u,items:a}),(0,m.useEffect)((()=>{u&&c.current?.[u]?.querySelector(".focus_template")?.focus()}),[u]),(0,m.useFocusOut)(i,(()=>d(null)),[]);const g=(0,m.useMemo)((()=>a.map((e=>{let{id:a,slug:n,status:o,title:l,postersByPage:i}=e;const s=u===a,m=i?.[0];return r.createElement(So,{onCreateStory:h?()=>f(a):Sn,onFocus:()=>{d(a)},onSeeDetailsClick:p,height:t.height,id:a,isActive:s,key:n,posterSrc:m,ref:e=>{c.current[a]=e},slug:n,status:o,title:l})}))),[a,u,h,p,t.height,f]);return r.createElement("div",{ref:i},r.createElement(Et,{pageSize:t,role:"list",ref:s,ariaLabel:(0,b.__)("Viewing available templates","web-stories")},g))}function To(e){let{allPagesFetched:t,isLoading:a,page:n,templates:o,view:l,totalTemplates:i,search:s,templateActions:c}=e;const{newStoryURL:u}=qe(),d=(0,m.useMemo)((()=>a?r.createElement(fa,null,r.createElement(Vt.LoadingSpinner,null)):i>0?r.createElement(r.Fragment,null,r.createElement(TemplateGridView,{templates:o,pageSize:l.pageSize,templateActions:c}),r.createElement(InfiniteScroller,{canLoadMore:!t,isLoading:a,allDataLoadedMessage:(0,b.__)("No more templates","web-stories"),allDataLoadedAriaMessage:(0,b.__)("All templates are loaded","web-stories"),loadingAriaMessage:(0,b.__)("Loading more templates","web-stories"),onLoadMore:n.requestNextPage})):r.createElement(EmptyContentMessage,null,r.createElement(Na.Headline,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,as:"h3"},s?.keyword?(0,T.default)(
/* translators: %s: search term. */
(0,b.__)('Sorry, we couldn\'t find any results matching "%s"',"web-stories"),s.keyword):(0,b.__)("No templates currently available.","web-stories")),!s?.keyword&&r.createElement(lt.Button,{type:it.BUTTON_TYPES.PRIMARY,size:it.BUTTON_SIZES.MEDIUM,as:"a",href:u},(0,b.__)("Create New Story","web-stories")))),[t,a,u,n.requestNextPage,s.keyword,c,o,i,l.pageSize]);return r.createElement(Br,null,r.createElement(Ut,null,d))}function Header(e){let{filter:t,isLoading:a,totalTemplates:n,sort:o,view:l,search:i,searchOptions:s=[]}=e;const c=(0,p.useFeature)("enableInProgressTemplateActions"),{setKeyword:u}=i,d=(0,m.useDebouncedCallback)((e=>{u(e)}),300),f=(0,m.useCallback)((()=>u("")),[u]),h=po({totalResults:n,currentFilter:t.value,view:Ie});return r.createElement(r.Fragment,null,r.createElement(PageHeading,{heading:(0,b.__)("Explore Templates","web-stories"),searchPlaceholder:(0,b.__)("Search Templates","web-stories"),showSearch:!0,searchOptions:s,searchValue:i.keyword,handleSearchChange:d,onClear:f}),r.createElement(BodyViewOptions,{resultsLabel:h,layoutStyle:l.style,handleLayoutSelect:l.toggleStyle,currentSort:o.value,isLoading:a,pageSortOptions:ce,showSortDropdown:c,handleSortChange:c?o.set:()=>{},sortDropdownAriaLabel:(0,b.__)("Choose sort option for display","web-stories")}))}So.displayName="TemplateGridItem";var Co=a(74917);const Ao=u.default.nav.withConfig({displayName:"header__Nav",componentId:"sc-1wko3r4-0"})(["justify-content:space-between;align-items:center;display:flex;margin:48px auto;width:calc(76% + 121px);"]),xo=(0,u.default)(lt.Button).attrs({type:it.BUTTON_TYPES.PRIMARY,size:it.BUTTON_SIZES.SMALL}).withConfig({displayName:"header__CTAButton",componentId:"sc-1wko3r4-1"})(["padding:10px 16px;"]);function Io(e){let{templateTitle:t,templateId:a,templateActions:n,canCreateStory:o}=e;const{createStoryFromTemplate:l,handleDetailsToggle:i}=n||{};return r.createElement(Ao,null,r.createElement(lt.Button,{type:it.BUTTON_TYPES.TERTIARY,variant:it.BUTTON_VARIANTS.SQUARE,size:it.BUTTON_SIZES.SMALL,"aria-label":(0,b.__)("Close","web-stories"),onClick:i},r.createElement(Co.default,null)),o&&r.createElement(xo,{onClick:()=>l(a),"aria-label":(0,T.default)(
/* translators: %s: template title */
(0,b.__)("Use %s template to create new story","web-stories"),t)},(0,b.__)("Use template","web-stories")))}var Lo=a(26457),Ro=a(66062),ko=a(49551);const Mo=u.default.section.withConfig({displayName:"components__Panel",componentId:"sc-1cvs5jb-0"})(["padding:16vh 0 14vh 0;"]),Oo=u.default.div.withConfig({displayName:"components__Container",componentId:"sc-1cvs5jb-1"})(["position:relative;width:76%;max-width:","px;margin:0 auto;"],1459.2),Po=u.default.div.withConfig({displayName:"components__Inner",componentId:"sc-1cvs5jb-2"})(["display:flex;align-items:start;"]),Do=u.default.section.attrs({"aria-label":(0,b.__)("Template Details","web-stories")}).withConfig({displayName:"components__DetailContainer",componentId:"sc-1cvs5jb-3"})(["padding:0 0 0 60px;margin-right:auto;"]),No=u.default.div.withConfig({displayName:"components__TemplateDetails",componentId:"sc-1cvs5jb-4"})(["position:relative;display:flex;width:500px;"]);u.default.section.attrs({"aria-label":(0,b.__)("Related Templates","web-stories")}).withConfig({displayName:"components__RowContainer",componentId:"sc-1cvs5jb-5"})(["display:flex;flex-wrap:wrap;padding-bottom:40px;margin:0 80px 0;& > h3{padding-bottom:32px;}& > div{width:100%;}"]);const Bo=(0,u.default)(Mo).withConfig({displayName:"content__StyledPanel",componentId:"sc-jxjpbh-0"})(["padding:0 0 48px 0;"]),Fo=(0,u.default)(Ht.Text).withConfig({displayName:"content__ByLineText",componentId:"sc-jxjpbh-1"})(["color:",";margin:8px 0 24px;"],(e=>{let{theme:t}=e;return t.colors.fg.tertiary})),Uo=(0,u.default)(Ht.Text).withConfig({displayName:"content__DescriptionText",componentId:"sc-jxjpbh-2"})(["margin-bottom:24px;"]),Ho=u.default.div.withConfig({displayName:"content__PaginationContainer",componentId:"sc-jxjpbh-3"})(["position:absolute;top:","px;",""],235,(e=>{let{alignLeft:t}=e;return t?"\n          left: 0;\n          transform: translate(-187.5%, -50%);\n        ":"\n          right: 0;\n          transform: translate(187.5%, -50%);\n        "})),jo=(0,u.default)(Lo.Chip).attrs({forwardedAs:"li"}).withConfig({displayName:"content__TemplateTag",componentId:"sc-jxjpbh-4"})(["margin-right:12px;margin-bottom:12px;> span{color:"," !important;}"],(e=>{let{theme:t}=e;return t.colors.fg.primary})),Yo=u.default.div.withConfig({displayName:"content__MetadataContainer",componentId:"sc-jxjpbh-5"})(["margin-bottom:24px;display:flex;flex-wrap:wrap;align-items:center;"]);function DetailsContent(e){let{activeTemplateIndex:t,isRTL:a,filteredTemplatesLength:n,switchToTemplateByOffset:o,template:l}=e;const{postersByPage:i,title:s,description:c,tags:u,colors:d}=l||{},[p,f]=(0,m.useState)([]);(0,m.useEffect)((()=>{i&&f(Object.values(i).map(((e,t)=>({id:t,...e}))))}),[i]);const{NextButton:h,PrevButton:g}=(0,m.useMemo)((()=>{const e=a?t-1:t+1,l=a?t+1:t-1,i=a?!n||t===n-1:!n||0===t,s=a?!n||0===t:!n||t===n-1,c=r.createElement(lt.Button,{type:it.BUTTON_TYPES.TERTIARY,size:it.BUTTON_SIZES.SMALL,variant:it.BUTTON_VARIANTS.SQUARE,"aria-label":(0,b.__)("View previous template","web-stories"),onClick:()=>{o(l),f([])},disabled:i},r.createElement(Ro.default,{height:32,width:32})),u=r.createElement(lt.Button,{type:it.BUTTON_TYPES.TERTIARY,size:it.BUTTON_SIZES.SMALL,variant:it.BUTTON_VARIANTS.SQUARE,"aria-label":(0,b.__)("View next template","web-stories"),onClick:()=>{o(e),f([])},disabled:s},r.createElement(ko.default,{height:32,width:32}));return a?{NextButton:c,PrevButton:u}:{NextButton:u,PrevButton:c}}),[n,t,a,o]),y=l?(0,T.default)(
/* translators: byline. %s: author name. */
(0,b.__)("By %s","web-stories"),l.createdBy):null;return r.createElement(Bo,null,r.createElement(Oo,null,r.createElement(Ho,{alignLeft:!0},g),r.createElement(Po,null,r.createElement(CardGallery,{galleryPosters:p,isRTL:a,galleryLabel:(0,b.__)("Template details by page","web-stories")}),r.createElement(No,null,r.createElement(Do,null,r.createElement(nn,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,as:"h3","data-testid":"template-details-title"},s),r.createElement(Fo,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM},y),r.createElement(Uo,{size:zt.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM},c),r.createElement(Yo,{role:"list","aria-label":(0,b.__)("Template tags","web-stories")},u.map((e=>r.createElement(jo,{key:e,disabled:!0},e)))),r.createElement(Yo,null,r.createElement(ColorList,{colors:d,size:32,"aria-label":(0,b.__)("Template colors","web-stories")}))))),r.createElement(Ho,null,h)))}function TemplateDetailsModal(e){let{activeTemplateIndex:t,activeTemplate:a,filteredTemplatesLength:n,isDetailsViewOpen:l,templateActions:s}=e;const{isRTL:c,apiCallbacks:u}=qe(),d=Boolean(u?.createStoryFromTemplate),{handleDetailsToggle:p,switchToTemplateByOffset:m}=s||{};return r.createElement(i.Modal,{isOpen:l,onClose:p,contentLabel:(0,T.default)(
/* translators: %s: template title */
(0,b.__)("Template Details for %s","web-stories"),a?.title),overlayStyles:{backgroundColor:`${o.theme.colors.opacity.overlayDark}`},contentStyles:{display:"block",height:"90vh",width:"90vw",backgroundColor:`${o.theme.colors.standard.white}`}},r.createElement(Io,{templateTitle:a?.title,templateId:a?.id,templateActions:s,canCreateStory:d}),r.createElement(DetailsContent,{activeTemplateIndex:t,isRTL:c,filteredTemplatesLength:n,switchToTemplateByOffset:m,template:a}))}function ExploreTemplates(){const e=(0,mn.default)(),[t,a]=(0,m.useState)(!1),[n,o]=(0,m.useState)(null),[l,i]=(0,m.useState)(0),{templateIdParam:s,replace:c}=Ma((e=>{let{actions:t,state:a}=e;return{templateIdParam:a.queryParams.id,replace:t.replace}})),u=(0,m.useRef)(s),{allPagesFetched:d,isLoading:p,templates:f,templatesOrderById:h,totalPages:g,totalTemplates:_,createStoryFromTemplate:E,fetchExternalTemplates:w}=Tn((e=>{let{state:{templates:{allPagesFetched:t,isLoading:a,templates:r,templatesOrderById:n,totalPages:o,totalTemplates:l}},actions:{storyApi:{createStoryFromTemplate:i},templateApi:{fetchExternalTemplates:s}}}=e;return{allPagesFetched:t,isLoading:a,templates:r,templatesOrderById:n,totalPages:o,totalTemplates:l,createStoryFromTemplate:i,fetchExternalTemplates:s}})),{filter:v,page:S,search:C,sort:A,view:x}=function(e){let{totalPages:t}=e;const[a,r]=(0,m.useState)(""),[n,o]=(0,m.useState)(se.POPULAR),[l,i]=(0,m.useState)(1),{pageSize:s}=kr({isGrid:!0}),c=(0,m.useCallback)((e=>{i((0,Cr.clamp)(e,{MIN:1,MAX:t}))}),[t]),u=(0,m.useCallback)((()=>c(l+1)),[l,c]),d=(0,m.useCallback)((e=>{o(e),c(1)}),[c]),p=(0,m.useCallback)((e=>{c(1),r(e)}),[c]);return(0,m.useMemo)((()=>({view:{style:Ce.GRID,pageSize:s},sort:{value:n,set:d},filter:{value:le.ALL,set:()=>{}},page:{value:l,set:i,requestNextPage:u},search:{keyword:a,setKeyword:p}})),[s,n,d,l,u,a,p])}({totalPages:g}),I=(0,m.useMemo)((()=>function(e){const t=Object.values(e),a=t.flatMap((e=>e.colors)).map((e=>({label:e.family,value:e.family,type:yo}))),r=t.flatMap((e=>e.tags)).map((e=>({label:e,value:e,type:bo}))),n=t.map((e=>e.vertical)).map((e=>({label:e,value:e,type:go})));return[...(0,ho.default)(r,"label"),...(0,ho.default)(a,"label"),...(0,ho.default)(n,"label")]}(f)),[f]),L=(0,m.useMemo)((()=>C.keyword?I.filter((e=>e.label.toLowerCase().includes(C.keyword.toLowerCase()))):I),[I,C.keyword]),R=(0,m.useMemo)((()=>h.map((e=>f[e])).filter(function(e){return t=>!e||e.some((e=>{switch(e?.type){case bo:return t.tags.map((e=>e.toLowerCase())).includes(e.value.toLowerCase());case yo:return t.colors.map((e=>e.label.toLowerCase())).includes(e.value.toLowerCase());case go:return t.vertical.toLowerCase().includes(e.value.toLowerCase());default:return!0}}))}(L))),[h,f,L]),k=(0,m.useMemo)((()=>_!==R.length?R.length:_),[R,_]),M=(0,m.useMemo)((()=>(0,ho.default)(L,"label")),[L]),O=(0,m.useCallback)((e=>{const t=f[e];(0,y.trackEvent)("use_template",{name:t.title,template_id:t.id}),E(t)}),[E,f]),P=(0,m.useCallback)((e=>{const t=R.find((t=>t.id===e));o(t),i(R.findIndex((t=>t.id===e))),u.current&&(u.current=void 0),c(`?id=${t.id}&isLocal=${t.isLocal}`)}),[c,R]),D=(0,m.useCallback)(((t,r)=>{a((a=>{const n=!a;return r&&(0,y.trackScreenView)(r),n&&t&&P(t),n||(c(""),e((0,b.__)("Exit detail templates view","web-stories"))),n}))}),[c,e,P]),N=(0,m.useCallback)((t=>{const a=R[t];o(a),i(t),c(`?id=${a.id}&isLocal=${a.isLocal}`),e((0,T.default)(
/* translators: %s: template title */
(0,b.__)("Viewing %s","web-stories"),a.title))}),[R,c,e]),B=(0,m.useMemo)((()=>({createStoryFromTemplate:O,handleDetailsToggle:D,switchToTemplateByOffset:N})),[O,D,N]);return(0,m.useEffect)((()=>{w()}),[w]),(0,m.useEffect)((()=>{if(u.current&&R.length){if(!R.some((e=>e.id===parseInt(u.current))))return void c("");a(!0),P(parseInt(u.current))}}),[R,c,P]),r.createElement(Nr,null,r.createElement(Header,{isLoading:p&&!_,filter:v,sort:A,totalTemplates:k,search:C,searchOptions:M,view:x}),r.createElement(To,{isLoading:p,allPagesFetched:d,page:S,templates:R,totalTemplates:k,search:C,view:x,templateActions:B}),r.createElement(Fr,null,r.createElement(ScrollToTop,null)),r.createElement(TemplateDetailsModal,{activeTemplate:n,activeTemplateIndex:l,isDetailsViewOpen:t,templateActions:B,filteredTemplatesLength:R.length}))}function Vo(){return Vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Vo.apply(this,arguments)}const InterfaceSkeleton=e=>{let{additionalRoutes:t}=e;const{currentPath:a,templateId:n,availableRoutes:o}=Ma((e=>{let{state:t}=e;return{...t,templateId:t.queryParams.id}})),{push:l,setAvailableRoutes:i}=Ma((e=>{let{actions:t}=e;return t})),{canViewDefaultTemplates:s,leftRailSecondaryNavigation:c=[],documentTitleSuffix:u=(0,b.__)("Web Stories","web-stories")}=qe(),{addInitialFetchListener:d}=Tn((e=>{let{actions:{storyApi:{addInitialFetchListener:t}},state:{templates:{templates:a}}}=e;return{currentTemplate:void 0!==n?a[n]?.title:void 0,addInitialFetchListener:t}})),p=(0,m.useRef)(a===ve.DASHBOARD),[f,h]=(0,m.useState)(!p.current);(0,m.useEffect)((()=>d?.((e=>{e?.all<=0&&p.current&&s&&l(ve.TEMPLATES_GALLERY),h(!0)}))),[d,l,a,s]),(0,m.useEffect)((()=>{if(o.length>0)return;const e=t?t.map((e=>{let{path:t}=e;return t})):[];i([...Object.values(ve),...e])}),[t,o.length,i]),(0,m.useEffect)((()=>{if(!f)return;const e=c.find((e=>e.value===a)),t=Se[a]||e?.label||Se.DEFAULT;document.title=(0,T.default)(
/* translators: Admin screen title. 1: Admin screen name, 2: Network or site name. */
(0,b.__)("%1$s ‹ %2$s","web-stories"),t,u),(0,y.trackScreenView)(t)}),[a,f,c,u]),function(){const{storyError:e,templateError:t}=Tn((e=>{let{state:{stories:{error:t},templates:{error:a}}}=e;return{storyError:t,templateError:a}})),{showSnackbar:a}=(0,wn.useSnackbar)(),r=(0,m.useDebouncedCallback)((e=>a({message:e,dismissible:!0})),200);(0,m.useEffect)((()=>{e?.id&&r(e.message)}),[e,r]),(0,m.useEffect)((()=>{t?.id&&r(t.message)}),[t,r])}();const{clearSnackbar:g,removeSnack:_,placement:E,currentSnacks:w}=(0,wn.useSnackbar)(),v=(0,m.usePrevious)(a);return(0,m.useEffect)((()=>{a!==v&&g()}),[g,a,v]),r.createElement(r.Fragment,null,r.createElement(da,null,r.createElement(LeftRail,null),r.createElement(pa,null,r.createElement(Route,{exact:!0,isDefault:!0,path:ve.DASHBOARD,component:r.createElement(MyStories,null)}),s&&r.createElement(Route,{path:ve.TEMPLATES_GALLERY,component:r.createElement(ExploreTemplates,null)}),t&&t.map((e=>r.createElement(Route,Vo({key:e.path},e)))))),r.createElement(vn.Snackbar.Container,{notifications:w,onRemove:_,placement:E,max:1}))}},80360:(e,t,a)=>{a.d(t,{default:()=>l});var r=a(65197),n=a(58167);const o={lessThanXMinutes:e=>(0,r.default)(
/* translators: Time difference between two dates, in minutes (min=minute). %s: Number of minutes. */
(0,n._n)("less than %s min","less than %s mins",e,"web-stories"),e),xMinutes:e=>(0,r.default)(
/* translators: Time difference between two dates, in minutes. %s: Number of minutes. */
(0,n._n)("%s minute","%s minutes",e,"web-stories"),e),aboutXHours:e=>1===e?(0,n.__)("an hour","web-stories"):(0,r.default)(
/* translators: Time difference between two dates, in hours. %s: Number of hours. */
(0,n._n)("%s hour","%s hours",e,"web-stories"),e),xHours:e=>(0,r.default)(
/* translators: Time difference between two dates, in hours. %s: Number of hours. */
(0,n._n)("%s hour","%s hours",e,"web-stories"),e)};function l(e,t,a){a=a||{};const l=o[e](t);return a.addSuffix?a.comparison>0?(0,r.default)(
/* translators: %s: Human-readable time difference. */
(0,n.__)("in %s","web-stories"),l):(0,r.default)(
/* translators: %s: Human-readable time difference. */
(0,n.__)("%s ago","web-stories"),l):l}},65709:(e,t,a)=>{a.d(t,{default:()=>n});var r=a(92106);function n(){const e=(0,r.getSettings)(),{timezone:t,gmtOffset:a}=e;return t||(Number.isNaN(Number(a))?"+00:00":function(e){const t=e>23?e/60:e,a=e<0?"-":"+",r=Math.abs(t);return t<10?`${a}0${r}`:`${a}${r}`}(a))}},92790:(e,t,a)=>{a.d(t,{compareDesc:()=>r.default,format:()=>c.default,formatDate:()=>h.default,getOptions:()=>f.default,getRelativeDisplayDate:()=>g,getSettings:()=>s.getSettings,isAfter:()=>n.default,isValid:()=>o.default,subMinutes:()=>l.default,toDate:()=>i.toDate,toUTCDate:()=>y.default});var r=a(17445),n=a(42699),o=a(86293),l=a(29042),i=a(70722),s=a(92106),c=a(37973),u=a(51085),d=a(7694),p=a(55965),m=a(58167),f=a(9271),h=a(55151);function g(e){if(!e)return"";const t=(0,i.toDate)(e);if((0,u.default)(t)){const{locale:e}=(0,f.default)();return(0,d.default)(t,{includeSeconds:!1,addSuffix:!0,locale:e})}return(0,p.default)(t)?(0,m.__)("yesterday","web-stories"):(0,h.default)(e)}var y=a(62422)},62422:(e,t,a)=>{a.d(t,{default:()=>n});var r=a(70722);function n(e){return(0,r.toDate)(e,{timeZone:"+0000"})}},86080:(e,t,a)=>{a.d(t,{DEFAULT_ARIA_CLEAR_LABEL:()=>l,DEFAULT_ARIA_INPUT_LABEL:()=>i,DEFAULT_PLACEHOLDER:()=>o,DEFAULT_POPUP_FILL_WIDTH:()=>n,Z_INDEX:()=>s});var r=a(58167);const n=276,o=(0,r.__)("Search","web-stories"),l=(0,r.__)("Clear Search","web-stories"),i=(0,r.__)("Search","web-stories"),s={CLEAR_BUTTON:5}},26613:(e,t,a)=>{a.d(t,{getTimeTracker:()=>d,trackClick:()=>o,trackError:()=>l.default,trackEvent:()=>i.default,trackScreenView:()=>c,trackTiming:()=>s.default});a(71703),a(70001),a(47828);var r=a(2425),n=a(11066);async function o(e,t){const{currentTarget:a}=e;return await(0,r.default)()?"_blank"===a?.target||e.ctrlKey||e.shiftKey||e.metaKey||2===e.which?(0,n.default)(t):(e.preventDefault(),(0,n.default)(t).finally((()=>{document.location=a.href}))):Promise.resolve()}var l=a(96394),i=a(69718),s=a(4396);async function c(e){return await(0,r.default)()?(0,n.default)("screen_view",{screen_name:e}):Promise.resolve()}var u=a(22379);function d(e){const t=window.performance.now();return()=>{const a=window.performance.now()-t;(0,i.default)("timing_complete",{name:e,value:a,send_to:u.config.trackingId}),(0,i.default)(e,{value:a,send_to:u.config.trackingIdGA4})}}},17445:(e,t,a)=>{a.d(t,{default:()=>o});var r=a(19013),n=a(13882);function o(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t),l=a.getTime()-o.getTime();return l>0?-1:l<0?1:l}},7694:(e,t,a)=>{a.d(t,{default:()=>w});var r=a(19013),n=a(13882);function o(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t),l=a.getTime()-o.getTime();return l<0?-1:l>0?1:l}function l(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t),l=a.getFullYear()-o.getFullYear(),i=a.getMonth()-o.getMonth();return 12*l+i}function i(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t}function s(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function c(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return i(t).getTime()===s(t).getTime()}function u(e,t){(0,n.default)(2,arguments);var a,i=(0,r.default)(e),s=(0,r.default)(t),u=o(i,s),d=Math.abs(l(i,s));if(d<1)a=0;else{1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-u*d);var p=o(i,s)===-u;c((0,r.default)(e))&&1===d&&1===o(e,s)&&(p=!1),a=u*(d-Number(p))}return 0===a?0:a}function d(e,t){return(0,n.default)(2,arguments),(0,r.default)(e).getTime()-(0,r.default)(t).getTime()}var p={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function m(e){return e?p[e]:p.trunc}function f(e,t,a){(0,n.default)(2,arguments);var r=d(e,t)/1e3;return m(null==a?void 0:a.roundingMethod)(r)}var h=a(4958);function g(e){return function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in t=t||{})Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}({},e)}var y=a(24262),b=1440,_=43200;function E(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,n.default)(2,arguments);var l=a.locale||h.default;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var i=o(e,t);if(isNaN(i))throw new RangeError("Invalid time value");var s,c,d=g(a);d.addSuffix=Boolean(a.addSuffix),d.comparison=i,i>0?(s=(0,r.default)(t),c=(0,r.default)(e)):(s=(0,r.default)(e),c=(0,r.default)(t));var p,m=f(c,s),E=((0,y.default)(c)-(0,y.default)(s))/1e3,w=Math.round((m-E)/60);if(w<2)return a.includeSeconds?m<5?l.formatDistance("lessThanXSeconds",5,d):m<10?l.formatDistance("lessThanXSeconds",10,d):m<20?l.formatDistance("lessThanXSeconds",20,d):m<40?l.formatDistance("halfAMinute",null,d):m<60?l.formatDistance("lessThanXMinutes",1,d):l.formatDistance("xMinutes",1,d):0===w?l.formatDistance("lessThanXMinutes",1,d):l.formatDistance("xMinutes",w,d);if(w<45)return l.formatDistance("xMinutes",w,d);if(w<90)return l.formatDistance("aboutXHours",1,d);if(w<b){var v=Math.round(w/60);return l.formatDistance("aboutXHours",v,d)}if(w<2520)return l.formatDistance("xDays",1,d);if(w<_){var S=Math.round(w/b);return l.formatDistance("xDays",S,d)}if(w<86400)return p=Math.round(w/_),l.formatDistance("aboutXMonths",p,d);if((p=u(c,s))<12){var T=Math.round(w/_);return l.formatDistance("xMonths",T,d)}var C=p%12,A=Math.floor(p/12);return C<3?l.formatDistance("aboutXYears",A,d):C<9?l.formatDistance("overXYears",A,d):l.formatDistance("almostXYears",A+1,d)}function w(e,t){return(0,n.default)(1,arguments),E(e,Date.now(),t)}},42699:(e,t,a)=>{a.d(t,{default:()=>o});var r=a(19013),n=a(13882);function o(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()>o.getTime()}},42799:(e,t,a)=>{a.d(t,{default:()=>l});var r=a(19013),n=a(13882);function o(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t}function l(e,t){(0,n.default)(2,arguments);var a=o(e),r=o(t);return a.getTime()===r.getTime()}},51085:(e,t,a)=>{a.d(t,{default:()=>o});var r=a(42799),n=a(13882);function o(e){return(0,n.default)(1,arguments),(0,r.default)(e,Date.now())}},55965:(e,t,a)=>{a.d(t,{default:()=>c});var r=a(42799),n=a(83946),o=a(19013),l=a(13882);function i(e,t){(0,l.default)(2,arguments);var a=(0,o.default)(e),r=(0,n.default)(t);return isNaN(r)?new Date(NaN):r?(a.setDate(a.getDate()+r),a):a}function s(e,t){(0,l.default)(2,arguments);var a=(0,n.default)(t);return i(e,-a)}function c(e){return(0,l.default)(1,arguments),(0,r.default)(e,s(Date.now(),1))}},29042:(e,t,a)=>{a.d(t,{default:()=>i});var r=a(83946),n=a(51820),o=a(13882);function l(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(t);return(0,n.default)(e,6e4*a)}function i(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(t);return l(e,-a)}},1745:(e,t,a)=>{a.d(t,{FlagsProvider:()=>FlagsProvider,useFeature:()=>s,useFeatures:()=>i});var r=a(67294);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}var o=(0,r.createContext)({});function l(e){return Array.isArray(e)?Object.fromEntries(e.map((function(e){return[e,!0]}))):e}function FlagsProvider(e){var t,a,s=e.features,c=void 0===s?{}:s,u=e.children,d=i();return(0,r.createElement)(o.Provider,{value:(t=l(d),a=l(c),n({},t,a))},u)}function i(){return(0,r.useContext)(o)}function s(e){var t=i();return Array.isArray(t)?t.includes(e):"boolean"==typeof t[e]?t[e]:e.split("/").reduce((function(e,t){return"boolean"==typeof e?e:void 0!==e[t]&&e[t]}),t)}},72408:(e,t,a)=>{var r=a(27418),n=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var l=60109,i=60110,s=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;n=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),l=d("react.provider"),i=d("react.context"),s=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h={};function g(e,t,a){this.props=e,this.context=t,this.refs=h,this.updater=a||f}function y(){}function b(e,t,a){this.props=e,this.context=t,this.refs=h,this.updater=a||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var _=b.prototype=new y;_.constructor=b,r(_,g.prototype),_.isPureReactComponent=!0;var E={current:null},w=Object.prototype.hasOwnProperty,v={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,o={},l=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)w.call(t,r)&&!v.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=a;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:n,type:e,key:l,ref:i,props:o,_owner:E.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,a,r,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case o:s=!0}}if(s)return l=l(s=e),e=""===r?"."+A(s,0):r,Array.isArray(l)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),x(l,t,a,"",(function(e){return e}))):null!=l&&(T(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(C,"$&/")+"/")+e)),t.push(l)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+A(i=e[c],c);s+=x(i,t,a,u,l)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)s+=x(i=i.value,t,a,u=r+A(i,c++),l);else if("object"===i)throw t=""+e,Error(m(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function I(e,t,a){if(null==e)return e;var r=[],n=0;return x(e,r,"","",(function(e){return t.call(a,e,n++)})),r}function L(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function k(){var e=R.current;if(null===e)throw Error(m(321));return e}var M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,a){I(e,(function(){t.apply(this,arguments)}),a)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(m(143));return e}},t.Component=g,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,a){if(null==e)throw Error(m(267,e));var o=r({},e.props),l=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=E.current),void 0!==t.key&&(l=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)w.call(t,u)&&!v.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=a;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:n,type:e.type,key:l,ref:i,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:i,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return k().useCallback(e,t)},t.useContext=function(e,t){return k().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return k().useEffect(e,t)},t.useImperativeHandle=function(e,t,a){return k().useImperativeHandle(e,t,a)},t.useLayoutEffect=function(e,t){return k().useLayoutEffect(e,t)},t.useMemo=function(e,t){return k().useMemo(e,t)},t.useReducer=function(e,t,a){return k().useReducer(e,t,a)},t.useRef=function(e){return k().useRef(e)},t.useState=function(e){return k().useState(e)},t.version="17.0.2"}}]);