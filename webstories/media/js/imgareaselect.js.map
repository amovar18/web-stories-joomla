{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./packages/imgareaselect/src/index.js"],"names":["$","abs","Math","max","ceil","min","round","div","imgAreaSelect","img","options","$img","imgLoaded","$box","$area","$border","add","$outer","$handles","$areaOpera","left","top","imgOfs","imgWidth","imgHeight","imgInnerWidth","imgInnerHeight","$parent","parOfs","zIndex","position","startX","startY","scaleX","scaleY","resize","minWidth","minHeight","maxWidth","maxHeight","aspectRatio","shown","x1","y1","x2","y2","selection","width","height","docElem","document","documentElement","ua","navigator","userAgent","$p","d","i","o","w","h","adjusted","viewX","x","viewY","y","selX","selY","evX","event","pageX","touchCoords","evY","pageY","oev","originalEvent","touches","length","getSelection","noScale","sx","sy","setSelection","adjust","offset","innerWidth","innerHeight","jquery","body","scrollTop","scrollLeft","test","css","doResize","update","resetKeyPress","outerWidth","outerHeight","slice","onKeyPress","docKeyPress","off","keyPress","keys","on","msie","setTimeout","doUpdate","hide","$elem","fn","fadeSpeed","fadeOut","areaMouseMove","one","resizable","resizeMargin","movable","toggle","docMouseUp","autoHide","selectingMouseMove","onSelectEnd","areaMouseDown","type","which","movingMouseMove","mousedown","fixAspectRatio","xFirst","onSelectChange","doMove","newX1","newY1","extend","preventDefault","startSelection","is","fadeIn","cancelSelection","onSelectStart","imgMouseDown","windowResize","imgLoad","setOptions","classPrefix","parent","onInit","visibility","show","k","t","key","keyCode","isNaN","alt","altKey","ctrl","ctrlKey","shift","shiftKey","arrows","styleOptions","props","option","undefined","newOptions","append","handles","remove","addClass","fontSize","parseInt","borderWidth","borderStyle","borderColor1","borderColor2","borderOpacity","imageWidth","imageHeight","selectionColor","selectionOpacity","outerColor","outerOpacity","borderColor","match","split","disable","enable","window","persistent","getOptions","exec","opera","safari","attr","overflow","complete","readyState","src","each","data","removeData","instance","jQuery"],"mappings":"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","file":"imgareaselect.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../media/com_webstories/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./packages/imgareaselect/src/index.js\");\n","/*\n * imgAreaSelect jQuery plugin\n * version 0.9.10-wp\n *\n * Copyright (c) 2008-2013 Michal Wojciechowski (odyniec.net)\n *\n * Dual licensed under the MIT (MIT-LICENSE.txt)\n * and GPL (GPL-LICENSE.txt) licenses.\n *\n * https://github.com/odyniec/imgareaselect\n *\n */\n\n(function($) {\n\n  /*\n   * Math functions will be used extensively, so it's convenient to make a few\n   * shortcuts\n   */\n  var abs = Math.abs,\n    max = Math.max,\n    ceil = Math.ceil,\n    min = Math.min,\n    round = Math.round;\n\n  /**\n   * Create a new HTML div element\n   *\n   * @return A jQuery object representing the new element\n   */\n  function div() {\n    return $('<div/>');\n  }\n\n  /**\n   * imgAreaSelect initialization\n   *\n   * @param img\n   *            A HTML image element to attach the plugin to\n   * @param options\n   *            An options object\n   */\n  $.imgAreaSelect = function (img, options) {\n    var\n      /* jQuery object representing the image */\n      $img = $(img),\n\n      /* Has the image finished loading? */\n      imgLoaded,\n\n      /* Plugin elements */\n\n      /* Container box */\n      $box = div(),\n      /* Selection area */\n      $area = div(),\n      /* Border (four divs) */\n      $border = div().add(div()).add(div()).add(div()),\n      /* Outer area (four divs) */\n      $outer = div().add(div()).add(div()).add(div()),\n      /* Handles (empty by default, initialized in setOptions()) */\n      $handles = $([]),\n\n      /*\n       * Additional element to work around a cursor problem in Opera\n       * (explained later)\n       */\n      $areaOpera,\n\n      /* Image position (relative to viewport) */\n      left, top,\n\n      /* Image offset (as returned by .offset()) */\n      imgOfs = { left: 0, top: 0 },\n\n      /* Image dimensions (as returned by .width() and .height()) */\n      imgWidth, imgHeight, imgInnerWidth, imgInnerHeight,\n\n      /*\n       * jQuery object representing the parent element that the plugin\n       * elements are appended to\n       */\n      $parent,\n\n      /* Parent element offset (as returned by .offset()) */\n      parOfs = { left: 0, top: 0 },\n\n      /* Base z-index for plugin elements */\n      zIndex = 0,\n\n      /* Plugin elements position */\n      position = 'absolute',\n\n      /* X/Y coordinates of the starting point for move/resize operations */\n      startX, startY,\n\n      /* Horizontal and vertical scaling factors */\n      scaleX, scaleY,\n\n      /* Current resize mode (\"nw\", \"se\", etc.) */\n      resize,\n\n      /* Selection area constraints */\n      minWidth, minHeight, maxWidth, maxHeight,\n\n      /* Aspect ratio to maintain (floating point number) */\n      aspectRatio,\n\n      /* Are the plugin elements currently displayed? */\n      shown,\n\n      /* Current selection (relative to parent element) */\n      x1, y1, x2, y2,\n\n      /* Current selection (relative to scaled image) */\n      selection = { x1: 0, y1: 0, x2: 0, y2: 0, width: 0, height: 0 },\n\n      /* Document element */\n      docElem = document.documentElement,\n\n      /* User agent */\n      ua = navigator.userAgent,\n\n      /* Various helper variables used throughout the code */\n      $p, d, i, o, w, h, adjusted;\n\n    /*\n     * Translate selection coordinates (relative to scaled image) to viewport\n     * coordinates (relative to parent element)\n     */\n\n    /**\n     * Translate selection X to viewport X\n     *\n     * @param x\n     *            Selection X\n     * @return Viewport X\n     */\n    function viewX(x) {\n      return x + imgOfs.left - parOfs.left;\n    }\n\n    /**\n     * Translate selection Y to viewport Y\n     *\n     * @param y\n     *            Selection Y\n     * @return Viewport Y\n     */\n    function viewY(y) {\n      return y + imgOfs.top - parOfs.top;\n    }\n\n    /*\n     * Translate viewport coordinates to selection coordinates\n     */\n\n    /**\n     * Translate viewport X to selection X\n     *\n     * @param x\n     *            Viewport X\n     * @return Selection X\n     */\n    function selX(x) {\n      return x - imgOfs.left + parOfs.left;\n    }\n\n    /**\n     * Translate viewport Y to selection Y\n     *\n     * @param y\n     *            Viewport Y\n     * @return Selection Y\n     */\n    function selY(y) {\n      return y - imgOfs.top + parOfs.top;\n    }\n\n    /*\n     * Translate event coordinates (relative to document) to viewport\n     * coordinates\n     */\n\n    /**\n     * Get event X and translate it to viewport X\n     *\n     * @param event\n     *            The event object\n     * @return Viewport X\n     */\n    function evX(event) {\n      return max(event.pageX || 0, touchCoords(event).x) - parOfs.left;\n    }\n\n    /**\n     * Get event Y and translate it to viewport Y\n     *\n     * @param event\n     *            The event object\n     * @return Viewport Y\n     */\n    function evY(event) {\n      return max(event.pageY || 0, touchCoords(event).y) - parOfs.top;\n    }\n\n    /**\n     * Get X and Y coordinates of a touch event\n     *\n     * @param event\n     *            The event object\n     * @return Coordinates object\n     */\n    function touchCoords(event) {\n      var oev = event.originalEvent || {};\n\n      if (oev.touches && oev.touches.length)\n        return { x: oev.touches[0].pageX, y: oev.touches[0].pageY };\n      else\n        return { x: 0, y: 0 };\n    }\n\n    /**\n     * Get the current selection\n     *\n     * @param noScale\n     *            If set to <code>true</code>, scaling is not applied to the\n     *            returned selection\n     * @return Selection object\n     */\n    function getSelection(noScale) {\n      var sx = noScale || scaleX, sy = noScale || scaleY;\n\n      return { x1: round(selection.x1 * sx),\n        y1: round(selection.y1 * sy),\n        x2: round(selection.x2 * sx),\n        y2: round(selection.y2 * sy),\n        width: round(selection.x2 * sx) - round(selection.x1 * sx),\n        height: round(selection.y2 * sy) - round(selection.y1 * sy) };\n    }\n\n    /**\n     * Set the current selection\n     *\n     * @param x1\n     *            X coordinate of the upper left corner of the selection area\n     * @param y1\n     *            Y coordinate of the upper left corner of the selection area\n     * @param x2\n     *            X coordinate of the lower right corner of the selection area\n     * @param y2\n     *            Y coordinate of the lower right corner of the selection area\n     * @param noScale\n     *            If set to <code>true</code>, scaling is not applied to the\n     *            new selection\n     */\n    function setSelection(x1, y1, x2, y2, noScale) {\n      var sx = noScale || scaleX, sy = noScale || scaleY;\n\n      selection = {\n        x1: round(x1 / sx || 0),\n        y1: round(y1 / sy || 0),\n        x2: round(x2 / sx || 0),\n        y2: round(y2 / sy || 0)\n      };\n\n      selection.width = selection.x2 - selection.x1;\n      selection.height = selection.y2 - selection.y1;\n    }\n\n    /**\n     * Recalculate image and parent offsets\n     */\n    function adjust() {\n      /*\n       * Do not adjust if image has not yet loaded or if width is not a\n       * positive number. The latter might happen when imgAreaSelect is put\n       * on a parent element which is then hidden.\n       */\n      if (!imgLoaded || !$img.width())\n        return;\n\n      /*\n       * Get image offset. The .offset() method returns float values, so they\n       * need to be rounded.\n       */\n      imgOfs = { left: round($img.offset().left), top: round($img.offset().top) };\n\n      /* Get image dimensions */\n      /* Start of patch for core issue. */\n      imgWidth = ceil($img.innerWidth());\n      imgHeight = ceil($img.innerHeight());\n\n      imgInnerWidth = ceil($img.innerWidth());\n      imgInnerHeight = ceil($img.innerHeight());\n\n      imgOfs.top += (imgInnerHeight - imgHeight) >> 1;\n      imgOfs.left += (imgInnerWidth - imgWidth) >> 1;\n      /* End of patch */\n\n      /* Set minimum and maximum selection area dimensions */\n      minWidth = round(options.minWidth / scaleX) || 0;\n      minHeight = round(options.minHeight / scaleY) || 0;\n      maxWidth = round(min(options.maxWidth / scaleX || 1<<24, imgWidth));\n      maxHeight = round(min(options.maxHeight / scaleY || 1<<24, imgHeight));\n\n      /*\n       * Workaround for jQuery 1.3.2 incorrect offset calculation, originally\n       * observed in Safari 3. Firefox 2 is also affected.\n       */\n      if ($().jquery == '1.3.2' && position == 'fixed' &&\n        !docElem['getBoundingClientRect'])\n      {\n        imgOfs.top += max(document.body.scrollTop, docElem.scrollTop);\n        imgOfs.left += max(document.body.scrollLeft, docElem.scrollLeft);\n      }\n\n      /* Determine parent element offset */\n      parOfs = /absolute|relative/.test($parent.css('position')) ?\n        { left: round($parent.offset().left) - $parent.scrollLeft(),\n          top: round($parent.offset().top) - $parent.scrollTop() } :\n        position == 'fixed' ?\n          { left: $(document).scrollLeft(), top: $(document).scrollTop() } :\n          { left: 0, top: 0 };\n\n      left = viewX(0);\n      top = viewY(0);\n\n      /*\n       * Check if selection area is within image boundaries, adjust if\n       * necessary\n       */\n      if (selection.x2 > imgWidth || selection.y2 > imgHeight)\n        doResize();\n    }\n\n    /**\n     * Update plugin elements\n     *\n     * @param resetKeyPress\n     *            If set to <code>false</code>, this instance's keypress\n     *            event handler is not activated\n     */\n    function update(resetKeyPress) {\n      /* If plugin elements are hidden, do nothing */\n      if (!shown) return;\n\n      /*\n       * Set the position and size of the container box and the selection area\n       * inside it\n       */\n      $box.css({ left: viewX(selection.x1), top: viewY(selection.y1) })\n        .add($area).width(w = selection.width).height(h = selection.height);\n\n      /*\n       * Reset the position of selection area, borders, and handles (IE6/IE7\n       * position them incorrectly if we don't do this)\n       */\n      $area.add($border).add($handles).css({ left: 0, top: 0 });\n\n      /* Set border dimensions */\n      $border\n        .width(max(w - $border.outerWidth() + $border.innerWidth(), 0))\n        .height(max(h - $border.outerHeight() + $border.innerHeight(), 0));\n\n      /* Arrange the outer area elements */\n      $($outer[0]).css({ left: left, top: top,\n        width: selection.x1, height: imgHeight });\n      $($outer[1]).css({ left: left + selection.x1, top: top,\n        width: w, height: selection.y1 });\n      $($outer[2]).css({ left: left + selection.x2, top: top,\n        width: imgWidth - selection.x2, height: imgHeight });\n      $($outer[3]).css({ left: left + selection.x1, top: top + selection.y2,\n        width: w, height: imgHeight - selection.y2 });\n\n      w -= $handles.outerWidth();\n      h -= $handles.outerHeight();\n\n      /* Arrange handles */\n      switch ($handles.length) {\n        case 8:\n          $($handles[4]).css({ left: w >> 1 });\n          $($handles[5]).css({ left: w, top: h >> 1 });\n          $($handles[6]).css({ left: w >> 1, top: h });\n          $($handles[7]).css({ top: h >> 1 });\n        case 4:\n          $handles.slice(1,3).css({ left: w });\n          $handles.slice(2,4).css({ top: h });\n      }\n\n      if (resetKeyPress !== false) {\n        /*\n         * Need to reset the document keypress event handler -- unbind the\n         * current handler\n         */\n        if ($.imgAreaSelect.onKeyPress != docKeyPress)\n          $(document).off($.imgAreaSelect.keyPress,\n            $.imgAreaSelect.onKeyPress);\n\n        if (options.keys)\n          /*\n           * Set the document keypress event handler to this instance's\n           * docKeyPress() function\n           */\n          $(document).on( $.imgAreaSelect.keyPress, function() {\n            $.imgAreaSelect.onKeyPress = docKeyPress;\n          });\n      }\n\n      /*\n       * Internet Explorer displays 1px-wide dashed borders incorrectly by\n       * filling the spaces between dashes with white. Toggling the margin\n       * property between 0 and \"auto\" fixes this in IE6 and IE7 (IE8 is still\n       * broken). This workaround is not perfect, as it requires setTimeout()\n       * and thus causes the border to flicker a bit, but I haven't found a\n       * better solution.\n       *\n       * Note: This only happens with CSS borders, set with the borderWidth,\n       * borderOpacity, borderColor1, and borderColor2 options (which are now\n       * deprecated). Borders created with GIF background images are fine.\n       */\n      if (msie && $border.outerWidth() - $border.innerWidth() == 2) {\n        $border.css('margin', 0);\n        setTimeout(function () { $border.css('margin', 'auto'); }, 0);\n      }\n    }\n\n    /**\n     * Do the complete update sequence: recalculate offsets, update the\n     * elements, and set the correct values of x1, y1, x2, and y2.\n     *\n     * @param resetKeyPress\n     *            If set to <code>false</code>, this instance's keypress\n     *            event handler is not activated\n     */\n    function doUpdate(resetKeyPress) {\n      adjust();\n      update(resetKeyPress);\n      x1 = viewX(selection.x1); y1 = viewY(selection.y1);\n      x2 = viewX(selection.x2); y2 = viewY(selection.y2);\n    }\n\n    /**\n     * Hide or fade out an element (or multiple elements)\n     *\n     * @param $elem\n     *            A jQuery object containing the element(s) to hide/fade out\n     * @param fn\n     *            Callback function to be called when fadeOut() completes\n     */\n    function hide($elem, fn) {\n      options.fadeSpeed ? $elem.fadeOut(options.fadeSpeed, fn) : $elem.hide();\n    }\n\n    /**\n     * Selection area mousemove event handler\n     *\n     * @param event\n     *            The event object\n     */\n    function areaMouseMove(event) {\n      var x = selX(evX(event)) - selection.x1,\n        y = selY(evY(event)) - selection.y1;\n\n      if (!adjusted) {\n        adjust();\n        adjusted = true;\n\n        $box.one('mouseout', function () { adjusted = false; });\n      }\n\n      /* Clear the resize mode */\n      resize = '';\n\n      if (options.resizable) {\n        /*\n         * Check if the mouse pointer is over the resize margin area and set\n         * the resize mode accordingly\n         */\n        if (y <= options.resizeMargin)\n          resize = 'n';\n        else if (y >= selection.height - options.resizeMargin)\n          resize = 's';\n        if (x <= options.resizeMargin)\n          resize += 'w';\n        else if (x >= selection.width - options.resizeMargin)\n          resize += 'e';\n      }\n\n      $box.css('cursor', resize ? resize + '-resize' :\n        options.movable ? 'move' : '');\n      if ($areaOpera)\n        $areaOpera.toggle();\n    }\n\n    /**\n     * Document mouseup event handler\n     *\n     * @param event\n     *            The event object\n     */\n    function docMouseUp(event) {\n      /* Set back the default cursor */\n      $('body').css('cursor', '');\n      /*\n       * If autoHide is enabled, or if the selection has zero width/height,\n       * hide the selection and the outer area\n       */\n      if (options.autoHide || selection.width * selection.height == 0)\n        hide($box.add($outer), function () { $(this).hide(); });\n\n      $(document).off('mousemove touchmove', selectingMouseMove);\n      $box.on('mousemove touchmove', areaMouseMove);\n\n      options.onSelectEnd(img, getSelection());\n    }\n\n    /**\n     * Selection area mousedown event handler\n     *\n     * @param event\n     *            The event object\n     * @return false\n     */\n    function areaMouseDown(event) {\n      if (event.type == 'mousedown' && event.which != 1) return false;\n\n      /*\n       * With mobile browsers, there is no \"moving the pointer over\" action,\n       * so we need to simulate one mousemove event happening prior to\n       * mousedown/touchstart.\n       */\n      areaMouseMove(event);\n\n      adjust();\n\n      if (resize) {\n        /* Resize mode is in effect */\n        $('body').css('cursor', resize + '-resize');\n\n        x1 = viewX(selection[/w/.test(resize) ? 'x2' : 'x1']);\n        y1 = viewY(selection[/n/.test(resize) ? 'y2' : 'y1']);\n\n        $(document).on('mousemove touchmove', selectingMouseMove)\n          .one('mouseup touchend', docMouseUp);\n        $box.off('mousemove touchmove', areaMouseMove);\n      }\n      else if (options.movable) {\n        startX = left + selection.x1 - evX(event);\n        startY = top + selection.y1 - evY(event);\n\n        $box.off('mousemove touchmove', areaMouseMove);\n\n        $(document).on('mousemove touchmove', movingMouseMove)\n          .one('mouseup touchend', function () {\n            options.onSelectEnd(img, getSelection());\n\n            $(document).off('mousemove touchmove', movingMouseMove);\n            $box.on('mousemove touchmove', areaMouseMove);\n          });\n      }\n      else\n        $img.mousedown(event);\n\n      return false;\n    }\n\n    /**\n     * Adjust the x2/y2 coordinates to maintain aspect ratio (if defined)\n     *\n     * @param xFirst\n     *            If set to <code>true</code>, calculate x2 first. Otherwise,\n     *            calculate y2 first.\n     */\n    function fixAspectRatio(xFirst) {\n      if (aspectRatio)\n        if (xFirst) {\n          x2 = max(left, min(left + imgWidth,\n            x1 + abs(y2 - y1) * aspectRatio * (x2 > x1 || -1)));\n          y2 = round(max(top, min(top + imgHeight,\n            y1 + abs(x2 - x1) / aspectRatio * (y2 > y1 || -1))));\n          x2 = round(x2);\n        }\n        else {\n          y2 = max(top, min(top + imgHeight,\n            y1 + abs(x2 - x1) / aspectRatio * (y2 > y1 || -1)));\n          x2 = round(max(left, min(left + imgWidth,\n            x1 + abs(y2 - y1) * aspectRatio * (x2 > x1 || -1))));\n          y2 = round(y2);\n        }\n    }\n\n    /**\n     * Resize the selection area respecting the minimum/maximum dimensions and\n     * aspect ratio\n     */\n    function doResize() {\n      /*\n       * Make sure the top left corner of the selection area stays within\n       * image boundaries (it might not if the image source was dynamically\n       * changed).\n       */\n      x1 = min(x1, left + imgWidth);\n      y1 = min(y1, top + imgHeight);\n\n      if (abs(x2 - x1) < minWidth) {\n        /* Selection width is smaller than minWidth */\n        x2 = x1 - minWidth * (x2 < x1 || -1);\n\n        if (x2 < left)\n          x1 = left + minWidth;\n        else if (x2 > left + imgWidth)\n          x1 = left + imgWidth - minWidth;\n      }\n\n      if (abs(y2 - y1) < minHeight) {\n        /* Selection height is smaller than minHeight */\n        y2 = y1 - minHeight * (y2 < y1 || -1);\n\n        if (y2 < top)\n          y1 = top + minHeight;\n        else if (y2 > top + imgHeight)\n          y1 = top + imgHeight - minHeight;\n      }\n\n      x2 = max(left, min(x2, left + imgWidth));\n      y2 = max(top, min(y2, top + imgHeight));\n\n      fixAspectRatio(abs(x2 - x1) < abs(y2 - y1) * aspectRatio);\n\n      if (abs(x2 - x1) > maxWidth) {\n        /* Selection width is greater than maxWidth */\n        x2 = x1 - maxWidth * (x2 < x1 || -1);\n        fixAspectRatio();\n      }\n\n      if (abs(y2 - y1) > maxHeight) {\n        /* Selection height is greater than maxHeight */\n        y2 = y1 - maxHeight * (y2 < y1 || -1);\n        fixAspectRatio(true);\n      }\n\n      selection = { x1: selX(min(x1, x2)), x2: selX(max(x1, x2)),\n        y1: selY(min(y1, y2)), y2: selY(max(y1, y2)),\n        width: abs(x2 - x1), height: abs(y2 - y1) };\n\n      update();\n\n      options.onSelectChange(img, getSelection());\n    }\n\n    /**\n     * Mousemove event handler triggered when the user is selecting an area\n     *\n     * @param event\n     *            The event object\n     * @return false\n     */\n    function selectingMouseMove(event) {\n      x2 = /w|e|^$/.test(resize) || aspectRatio ? evX(event) : viewX(selection.x2);\n      y2 = /n|s|^$/.test(resize) || aspectRatio ? evY(event) : viewY(selection.y2);\n\n      doResize();\n\n      return false;\n    }\n\n    /**\n     * Move the selection area\n     *\n     * @param newX1\n     *            New viewport X1\n     * @param newY1\n     *            New viewport Y1\n     */\n    function doMove(newX1, newY1) {\n      x2 = (x1 = newX1) + selection.width;\n      y2 = (y1 = newY1) + selection.height;\n\n      $.extend(selection, { x1: selX(x1), y1: selY(y1), x2: selX(x2),\n        y2: selY(y2) });\n\n      update();\n\n      options.onSelectChange(img, getSelection());\n    }\n\n    /**\n     * Mousemove event handler triggered when the selection area is being moved\n     *\n     * @param event\n     *            The event object\n     * @return false\n     */\n    function movingMouseMove(event) {\n      x1 = max(left, min(startX + evX(event), left + imgWidth - selection.width));\n      y1 = max(top, min(startY + evY(event), top + imgHeight - selection.height));\n\n      doMove(x1, y1);\n\n      event.preventDefault();\n      return false;\n    }\n\n    /**\n     * Start selection\n     */\n    function startSelection() {\n      $(document).off('mousemove touchmove', startSelection);\n      adjust();\n\n      x2 = x1;\n      y2 = y1;\n      doResize();\n\n      resize = '';\n\n      if (!$outer.is(':visible'))\n        /* Show the plugin elements */\n        $box.add($outer).hide().fadeIn(options.fadeSpeed||0);\n\n      shown = true;\n\n      $(document).off('mouseup touchend', cancelSelection)\n        .on('mousemove touchmove', selectingMouseMove)\n        .one('mouseup touchend', docMouseUp);\n      $box.off('mousemove touchmove', areaMouseMove);\n\n      options.onSelectStart(img, getSelection());\n    }\n\n    /**\n     * Cancel selection\n     */\n    function cancelSelection() {\n      $(document).off('mousemove touchmove', startSelection)\n        .off('mouseup touchend', cancelSelection);\n      hide($box.add($outer));\n\n      setSelection(selX(x1), selY(y1), selX(x1), selY(y1));\n\n      /* If this is an API call, callback functions should not be triggered */\n      if (!(this instanceof $.imgAreaSelect)) {\n        options.onSelectChange(img, getSelection());\n        options.onSelectEnd(img, getSelection());\n      }\n    }\n\n    /**\n     * Image mousedown event handler\n     *\n     * @param event\n     *            The event object\n     * @return false\n     */\n    function imgMouseDown(event) {\n      /* Ignore the event if animation is in progress */\n      if (event.which > 1 || $outer.is(':animated')) return false;\n\n      adjust();\n      startX = x1 = evX(event);\n      startY = y1 = evY(event);\n\n      /* Selection will start when the mouse is moved */\n      $(document).on({ 'mousemove touchmove': startSelection,\n        'mouseup touchend': cancelSelection });\n\n      return false;\n    }\n\n    /**\n     * Window resize event handler\n     */\n    function windowResize() {\n      doUpdate(false);\n    }\n\n    /**\n     * Image load event handler. This is the final part of the initialization\n     * process.\n     */\n    function imgLoad() {\n      imgLoaded = true;\n\n      /* Set options */\n      setOptions(options = $.extend({\n        classPrefix: 'imgareaselect',\n        movable: true,\n        parent: 'body',\n        resizable: true,\n        resizeMargin: 10,\n        onInit: function () {},\n        onSelectStart: function () {},\n        onSelectChange: function () {},\n        onSelectEnd: function () {}\n      }, options));\n\n      $box.add($outer).css({ visibility: '' });\n\n      if (options.show) {\n        shown = true;\n        adjust();\n        update();\n        $box.add($outer).hide().fadeIn(options.fadeSpeed||0);\n      }\n\n      /*\n       * Call the onInit callback. The setTimeout() call is used to ensure\n       * that the plugin has been fully initialized and the object instance is\n       * available (so that it can be obtained in the callback).\n       */\n      setTimeout(function () { options.onInit(img, getSelection()); }, 0);\n    }\n\n    /**\n     * Document keypress event handler\n     *\n     * @param event\n     *            The event object\n     * @return false\n     */\n    var docKeyPress = function(event) {\n      var k = options.keys, d, t, key = event.keyCode;\n\n      d = !isNaN(k.alt) && (event.altKey || event.originalEvent.altKey) ? k.alt :\n        !isNaN(k.ctrl) && event.ctrlKey ? k.ctrl :\n          !isNaN(k.shift) && event.shiftKey ? k.shift :\n            !isNaN(k.arrows) ? k.arrows : 10;\n\n      if (k.arrows == 'resize' || (k.shift == 'resize' && event.shiftKey) ||\n        (k.ctrl == 'resize' && event.ctrlKey) ||\n        (k.alt == 'resize' && (event.altKey || event.originalEvent.altKey)))\n      {\n        /* Resize selection */\n\n        switch (key) {\n          case 37:\n            /* Left */\n            d = -d;\n          case 39:\n            /* Right */\n            t = max(x1, x2);\n            x1 = min(x1, x2);\n            x2 = max(t + d, x1);\n            fixAspectRatio();\n            break;\n          case 38:\n            /* Up */\n            d = -d;\n          case 40:\n            /* Down */\n            t = max(y1, y2);\n            y1 = min(y1, y2);\n            y2 = max(t + d, y1);\n            fixAspectRatio(true);\n            break;\n          default:\n            return;\n        }\n\n        doResize();\n      }\n      else {\n        /* Move selection */\n\n        x1 = min(x1, x2);\n        y1 = min(y1, y2);\n\n        switch (key) {\n          case 37:\n            /* Left */\n            doMove(max(x1 - d, left), y1);\n            break;\n          case 38:\n            /* Up */\n            doMove(x1, max(y1 - d, top));\n            break;\n          case 39:\n            /* Right */\n            doMove(x1 + min(d, imgWidth - selX(x2)), y1);\n            break;\n          case 40:\n            /* Down */\n            doMove(x1, y1 + min(d, imgHeight - selY(y2)));\n            break;\n          default:\n            return;\n        }\n      }\n\n      return false;\n    };\n\n    /**\n     * Apply style options to plugin element (or multiple elements)\n     *\n     * @param $elem\n     *            A jQuery object representing the element(s) to style\n     * @param props\n     *            An object that maps option names to corresponding CSS\n     *            properties\n     */\n    function styleOptions($elem, props) {\n      for (var option in props)\n        if (options[option] !== undefined)\n          $elem.css(props[option], options[option]);\n    }\n\n    /**\n     * Set plugin options\n     *\n     * @param newOptions\n     *            The new options object\n     */\n    function setOptions(newOptions) {\n      if (newOptions.parent) {\n        // Patched XSS vulnerability.\n        $parent = newOptions.parent.append( $box.add( $outer ) );\n      }\n\n      /* Merge the new options with the existing ones */\n      $.extend(options, newOptions);\n\n      adjust();\n\n      if (newOptions.handles != null) {\n        /* Recreate selection area handles */\n        $handles.remove();\n        $handles = $([]);\n\n        i = newOptions.handles ? newOptions.handles == 'corners' ? 4 : 8 : 0;\n\n        while (i--)\n          $handles = $handles.add(div());\n\n        /* Add a class to handles and set the CSS properties */\n        $handles.addClass(options.classPrefix + '-handle').css({\n          position: 'absolute',\n          /*\n           * The font-size property needs to be set to zero, otherwise\n           * Internet Explorer makes the handles too large\n           */\n          fontSize: '0',\n          zIndex: zIndex + 1 || 1\n        });\n\n        /*\n         * If handle width/height has not been set with CSS rules, set the\n         * default 5px\n         */\n        if (!parseInt($handles.css('width')) >= 0)\n          $handles.width(5).height(5);\n\n        /*\n         * If the borderWidth option is in use, add a solid border to\n         * handles\n         */\n        if (o = options.borderWidth)\n          $handles.css({ borderWidth: o, borderStyle: 'solid' });\n\n        /* Apply other style options */\n        styleOptions($handles, { borderColor1: 'border-color',\n          borderColor2: 'background-color',\n          borderOpacity: 'opacity' });\n      }\n\n      /* Calculate scale factors */\n      scaleX = options.imageWidth / imgWidth || 1;\n      scaleY = options.imageHeight / imgHeight || 1;\n\n      /* Set selection */\n      if (newOptions.x1 != null) {\n        setSelection(newOptions.x1, newOptions.y1, newOptions.x2,\n          newOptions.y2);\n        newOptions.show = !newOptions.hide;\n      }\n\n      if (newOptions.keys)\n        /* Enable keyboard support */\n        options.keys = $.extend({ shift: 1, ctrl: 'resize' },\n          newOptions.keys);\n\n      /* Add classes to plugin elements */\n      $outer.addClass(options.classPrefix + '-outer');\n      $area.addClass(options.classPrefix + '-selection');\n      for (i = 0; i++ < 4;)\n        $($border[i-1]).addClass(options.classPrefix + '-border' + i);\n\n      /* Apply style options */\n      styleOptions($area, { selectionColor: 'background-color',\n        selectionOpacity: 'opacity' });\n      styleOptions($border, { borderOpacity: 'opacity',\n        borderWidth: 'border-width' });\n      styleOptions($outer, { outerColor: 'background-color',\n        outerOpacity: 'opacity' });\n      if (o = options.borderColor1)\n        $($border[0]).css({ borderStyle: 'solid', borderColor: o });\n      if (o = options.borderColor2)\n        $($border[1]).css({ borderStyle: 'dashed', borderColor: o });\n\n      /* Append all the selection area elements to the container box */\n      $box.append($area.add($border).add($areaOpera)).append($handles);\n\n      if (msie) {\n        if (o = ($outer.css('filter')||'').match(/opacity=(\\d+)/))\n          $outer.css('opacity', o[1]/100);\n        if (o = ($border.css('filter')||'').match(/opacity=(\\d+)/))\n          $border.css('opacity', o[1]/100);\n      }\n\n      if (newOptions.hide)\n        hide($box.add($outer));\n      else if (newOptions.show && imgLoaded) {\n        shown = true;\n        $box.add($outer).fadeIn(options.fadeSpeed||0);\n        doUpdate();\n      }\n\n      /* Calculate the aspect ratio factor */\n      aspectRatio = (d = (options.aspectRatio || '').split(/:/))[0] / d[1];\n\n      $img.add($outer).off('mousedown', imgMouseDown);\n\n      if (options.disable || options.enable === false) {\n        /* Disable the plugin */\n        $box.off({ 'mousemove touchmove': areaMouseMove,\n          'mousedown touchstart': areaMouseDown });\n        $(window).off('resize', windowResize);\n      }\n      else {\n        if (options.enable || options.disable === false) {\n          /* Enable the plugin */\n          if (options.resizable || options.movable)\n            $box.on({ 'mousemove touchmove': areaMouseMove,\n              'mousedown touchstart': areaMouseDown });\n\n          $(window).on( 'resize', windowResize);\n        }\n\n        if (!options.persistent)\n          $img.add($outer).on('mousedown touchstart', imgMouseDown);\n      }\n\n      options.enable = options.disable = undefined;\n    }\n\n    /**\n     * Remove plugin completely\n     */\n    this.remove = function () {\n      /*\n       * Call setOptions with { disable: true } to unbind the event handlers\n       */\n      setOptions({ disable: true });\n      $box.add($outer).remove();\n    };\n\n    /*\n     * Public API\n     */\n\n    /**\n     * Get current options\n     *\n     * @return An object containing the set of options currently in use\n     */\n    this.getOptions = function () { return options; };\n\n    /**\n     * Set plugin options\n     *\n     * @param newOptions\n     *            The new options object\n     */\n    this.setOptions = setOptions;\n\n    /**\n     * Get the current selection\n     *\n     * @param noScale\n     *            If set to <code>true</code>, scaling is not applied to the\n     *            returned selection\n     * @return Selection object\n     */\n    this.getSelection = getSelection;\n\n    /**\n     * Set the current selection\n     *\n     * @param x1\n     *            X coordinate of the upper left corner of the selection area\n     * @param y1\n     *            Y coordinate of the upper left corner of the selection area\n     * @param x2\n     *            X coordinate of the lower right corner of the selection area\n     * @param y2\n     *            Y coordinate of the lower right corner of the selection area\n     * @param noScale\n     *            If set to <code>true</code>, scaling is not applied to the\n     *            new selection\n     */\n    this.setSelection = setSelection;\n\n    /**\n     * Cancel selection\n     */\n    this.cancelSelection = cancelSelection;\n\n    /**\n     * Update plugin elements\n     *\n     * @param resetKeyPress\n     *            If set to <code>false</code>, this instance's keypress\n     *            event handler is not activated\n     */\n    this.update = doUpdate;\n\n    /* Do the dreaded browser detection */\n    var msie = (/msie ([\\w.]+)/i.exec(ua)||[])[1],\n      opera = /opera/i.test(ua),\n      safari = /webkit/i.test(ua) && !/chrome/i.test(ua);\n\n    /*\n     * Traverse the image's parent elements (up to <body>) and find the\n     * highest z-index\n     */\n    $p = $img;\n\n    while ($p.length) {\n      zIndex = max(zIndex,\n        !isNaN($p.css('z-index')) ? $p.css('z-index') : zIndex);\n      /* Also check if any of the ancestor elements has fixed position */\n      if ($p.css('position') == 'fixed')\n        position = 'fixed';\n\n      $p = $p.parent(':not(body)');\n    }\n\n    /*\n     * If z-index is given as an option, it overrides the one found by the\n     * above loop\n     */\n    zIndex = options.zIndex || zIndex;\n\n    if (msie)\n      $img.attr('unselectable', 'on');\n\n    /*\n     * In MSIE and WebKit, we need to use the keydown event instead of keypress\n     */\n    $.imgAreaSelect.keyPress = msie || safari ? 'keydown' : 'keypress';\n\n    /*\n     * There is a bug affecting the CSS cursor property in Opera (observed in\n     * versions up to 10.00) that prevents the cursor from being updated unless\n     * the mouse leaves and enters the element again. To trigger the mouseover\n     * event, we're adding an additional div to $box and we're going to toggle\n     * it when mouse moves inside the selection area.\n     */\n    if (opera)\n      $areaOpera = div().css({ width: '100%', height: '100%',\n        position: 'absolute', zIndex: zIndex + 2 || 2 });\n\n    /*\n     * We initially set visibility to \"hidden\" as a workaround for a weird\n     * behaviour observed in Google Chrome 1.0.154.53 (on Windows XP). Normally\n     * we would just set display to \"none\", but, for some reason, if we do so\n     * then Chrome refuses to later display the element with .show() or\n     * .fadeIn().\n     */\n    $box.add($outer).css({ visibility: 'hidden', position: position,\n      overflow: 'hidden', zIndex: zIndex || '0' });\n    $box.css({ zIndex: zIndex + 2 || 2 });\n    $area.add($border).css({ position: 'absolute', fontSize: '0' });\n\n    /*\n     * If the image has been fully loaded, or if it is not really an image (eg.\n     * a div), call imgLoad() immediately; otherwise, bind it to be called once\n     * on image load event.\n     */\n    img.complete || img.readyState == 'complete' || !$img.is('img') ?\n      imgLoad() : $img.one('load', imgLoad);\n\n    /*\n     * MSIE 9.0 doesn't always fire the image load event -- resetting the src\n     * attribute seems to trigger it. The check is for version 7 and above to\n     * accommodate for MSIE 9 running in compatibility mode.\n     */\n    if (!imgLoaded && msie && msie >= 7)\n      img.src = img.src;\n  };\n\n  /**\n   * Invoke imgAreaSelect on a jQuery object containing the image(s)\n   *\n   * @param options\n   *            Options object\n   * @return The jQuery object or a reference to imgAreaSelect instance (if the\n   *         <code>instance</code> option was specified)\n   */\n  $.fn.imgAreaSelect = function (options) {\n    options = options || {};\n\n    this.each(function () {\n      /* Is there already an imgAreaSelect instance bound to this element? */\n      if ($(this).data('imgAreaSelect')) {\n        /* Yes there is -- is it supposed to be removed? */\n        if (options.remove) {\n          /* Remove the plugin */\n          $(this).data('imgAreaSelect').remove();\n          $(this).removeData('imgAreaSelect');\n        }\n        else\n          /* Reset options */\n          $(this).data('imgAreaSelect').setOptions(options);\n      }\n      else if (!options.remove) {\n        /* No exising instance -- create a new one */\n\n        /*\n         * If neither the \"enable\" nor the \"disable\" option is present, add\n         * \"enable\" as the default\n         */\n        if (options.enable === undefined && options.disable === undefined)\n          options.enable = true;\n\n        $(this).data('imgAreaSelect', new $.imgAreaSelect(this, options));\n      }\n    });\n\n    if (options.instance)\n      /*\n       * Return the imgAreaSelect instance bound to the first element in the\n       * set\n       */\n      return $(this).data('imgAreaSelect');\n\n    return this;\n  };\n\n})(jQuery);\n"],"sourceRoot":""}