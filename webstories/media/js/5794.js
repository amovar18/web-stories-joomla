"use strict";(globalThis.webpackChunkweb_stories_joomla=globalThis.webpackChunkweb_stories_joomla||[]).push([[5794],{80360:(e,t,n)=>{n.d(t,{default:()=>i});var r=n(65197),a=n(58167);const o={lessThanXMinutes:e=>(0,r.default)(
/* translators: Time difference between two dates, in minutes (min=minute). %s: Number of minutes. */
(0,a._n)("less than %s min","less than %s mins",e,"web-stories"),e),xMinutes:e=>(0,r.default)(
/* translators: Time difference between two dates, in minutes. %s: Number of minutes. */
(0,a._n)("%s minute","%s minutes",e,"web-stories"),e),aboutXHours:e=>1===e?(0,a.__)("an hour","web-stories"):(0,r.default)(
/* translators: Time difference between two dates, in hours. %s: Number of hours. */
(0,a._n)("%s hour","%s hours",e,"web-stories"),e),xHours:e=>(0,r.default)(
/* translators: Time difference between two dates, in hours. %s: Number of hours. */
(0,a._n)("%s hour","%s hours",e,"web-stories"),e)};function i(e,t,n){n=n||{};const i=o[e](t);return n.addSuffix?n.comparison>0?(0,r.default)(
/* translators: %s: Human-readable time difference. */
(0,a.__)("in %s","web-stories"),i):(0,r.default)(
/* translators: %s: Human-readable time difference. */
(0,a.__)("%s ago","web-stories"),i):i}},65709:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(92106);function a(){const e=(0,r.getSettings)(),{timezone:t,gmtOffset:n}=e;return t||(Number.isNaN(Number(n))?"+00:00":function(e){const t=e>23?e/60:e,n=e<0?"-":"+",r=Math.abs(t);return t<10?`${n}0${r}`:`${n}${r}`}(n))}},92790:(e,t,n)=>{n.d(t,{format:()=>i.default,formatDate:()=>s.default,formatTime:()=>c,getOptions:()=>l.default,getSettings:()=>o.getSettings,is12Hour:()=>u,isValid:()=>r.default,toDate:()=>a.toDate});var r=n(86293),a=n(70722),o=n(92106),i=n(37973),l=n(9271),s=n(55151);function c(e){const t=(0,o.getSettings)(),{timeFormat:n}=t;return(0,i.default)(e,n)}function u(){const e=(0,o.getSettings)(),{timeFormat:t}=e;return!t||/a(?!\\)/.test(t.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""))}},86080:(e,t,n)=>{n.d(t,{Z_INDEX:()=>a});var r=n(58167);(0,r.__)("Search","web-stories"),(0,r.__)("Clear Search","web-stories"),(0,r.__)("Search","web-stories");const a={CLEAR_BUTTON:5}},61592:(e,t,n)=>{n.d(t,{default:()=>OutputStory});var r=n(67294),a=(n(46345),n(800)),o=n(65248),i=n(95330),l=n(65668),s=n(4707),c=n(15873);function OutputStory(e){let{story:{featuredMedia:t,link:n,title:u,autoAdvance:d,defaultPageDuration:p,backgroundAudio:f,publisherLogo:m},pages:g,metadata:{publisher:h},flags:_}=e;const b=(0,a.default)(g),y=(0,c.default)(g),E=t?.url||"",T=m?.url||"";return r.createElement("html",{amp:"",lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"}),b.map((e=>{let{name:t,src:n}=e;return r.createElement("script",{key:n,async:"async",src:n,"custom-element":t})})),r.createElement(l.default,{pages:g}),y.map((e=>{let{url:t,type:n}=e;return r.createElement("link",{key:t,href:t,rel:"preload",as:n})})),r.createElement(o.default,null),r.createElement(i.default,null),r.createElement("meta",{name:"web-stories-replace-head-start"}),r.createElement("title",null,u),n&&r.createElement("link",{rel:"canonical",href:n}),r.createElement("meta",{name:"web-stories-replace-head-end"})),r.createElement("body",null,r.createElement("amp-story",{standalone:"",publisher:h,"publisher-logo-src":T,title:u,"poster-portrait-src":E,"background-audio":f?.resource?.src??void 0},g.map((e=>r.createElement(s.default,{key:e.id,page:e,autoAdvance:d,defaultPageDuration:p,flags:_}))))))}},60520:(e,t,n)=>{n.d(t,{default:()=>i});var r=n(67294),a=n(35343),o=n(61592);function i(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,a.renderToStaticMarkup)(r.createElement(o.default,{story:e,pages:t,metadata:n,flags:i}))}},2380:(e,t,n)=>{n.d(t,{default:()=>APIProvider});var r=n(67294),a=n(35343),o=n(54e3),i=(n(28377),n(97506)),l=n(40823);function APIProvider(e){let{children:t}=e;const{apiCallbacks:n,cdnURL:s}=(0,i.default)(),c=(0,a.useRef)({base:[]});return n.getPageTemplates=(0,a.useCallback)((async()=>(0===c.current.base.length&&(c.current.base=await(0,o.getAllTemplates)({cdnURL:s})),c.current.base)),[s]),r.createElement(l.default.Provider,{value:{actions:n}},t)}},52054:(e,t,n)=>{n.d(t,{default:()=>ConfigProvider});var r=n(67294),a=n(28377);function ConfigProvider(e){let{config:t,children:n}=e;return r.createElement(a.default.Provider,{value:t},n)}},20653:(e,t,n)=>{n.d(t,{default:()=>CurrentUserProvider});var r=n(67294),a=n(35343),o=(n(54e3),n(28377),n(40823),n(47390)),i=n(7377);function CurrentUserProvider(e){let{children:t}=e;const[n,l]=(0,a.useState)({}),{actions:{getCurrentUser:s,updateCurrentUser:c}}=(0,o.default)();(0,a.useEffect)((()=>{let e=!0;return s&&!Object.keys(n).length&&s().then((t=>{e&&l(t)})),()=>{e=!1}}),[n,s]);const u=(0,a.useCallback)((e=>c?c(e).then(l):null),[c]),d=(0,a.useCallback)((()=>u({mediaOptimization:!n.mediaOptimization})),[n,u]),p={state:{currentUser:n},actions:{toggleWebStoriesMediaOptimization:d,updateCurrentUser:u}};return r.createElement(i.default.Provider,{value:p},t)}},94645:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(35343),a=n(7377);function o(e){return(0,r.useContextSelector)(a.default,e??r.identity)}},46340:(e,t,n)=>{n.d(t,{default:()=>s});var r=n(35343),a=n(52154),o=n(92041),i=n(19040),l=n(7328);function s(){const e=(0,r.useCallback)((async e=>{const{family:t,service:n,variants:r,url:s}=e,c=`web-stories-${(0,l.default)(t)}-font-css`;if(!document.getElementById(c))switch(n){case"fonts.google.com":await(0,i.loadStylesheet)((0,a.default)([{family:t,variants:r}],"auto"),c);break;case"custom":await(0,i.loadInlineStylesheet)(c,(0,o.default)(t,s));break;default:return}}),[]);return{maybeEnqueueFontStyle:(0,r.useCallback)((t=>Promise.allSettled(t.map((async t=>{let{font:n,fontWeight:r,fontStyle:a,content:o}=t;const{family:l,service:s}=n;if(!l||"system"===s)return null;const c=`\n              ${a||""} ${r||""} 0 '${l}'\n            `.trim();return await e(n),(0,i.ensureFontLoaded)(c,o)})))),[e]),maybeLoadFont:e}}},67651:(e,t,n)=>{n.d(t,{styles:()=>a});var r=n(37070);n(35343),n(96426),n(67294),n(89157),n(29184),n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(54e3),n(28377),n(40823),n(40169),n(89703),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(60811),n(6687),n(9730);const a={OUTLINE:r.OUTLINE,FLASH:r.FLASH}},96548:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(35343),a=n(16243);function o(e){return(0,r.useContextSelector)(a.default,e??r.identity)}},40884:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(35343),a=n(32696);function o(e){return(0,r.useContextSelector)(a.default,e??r.identity)}},93902:(e,t,n)=>{n.d(t,{default:()=>StoryProvider});var r=n(67294),a=n(35343),o=n(51517),i=n(76129),l=n(76728),s=n(37890),c=n(95276),u=n(71877),d=n(47121),p=n(50067),f=n(19321),m=n(24763);n(21303),n(34639);function StoryProvider(e){let{storyId:t,initialEdits:n,children:g}=e;const[h,_]=(0,c.default)("page",null),{state:b,api:y,internal:{restore:E}}=(0,p.default)({current:h}),{pages:T,current:S,selection:w,story:v,animationState:C,capabilities:I,copiedElementState:A}=b;(0,a.useEffect)((()=>_(S)),[S,_]);let x=null,k=null,P=null,N=null;S&&(x=S,k=T.findIndex((e=>{let{id:t}=e;return t===S})),P=k+1,N=T[k]);const O=(0,a.useMemo)((()=>w.length>0?w:o.STABLE_ARRAY),[w]),L=!N,M=N?.elements,R=(0,a.useMemo)((()=>{if(L)return o.STABLE_ARRAY;const e=M.filter((e=>{let{id:t}=e;return w.includes(t)}));return e.length>0?e:o.STABLE_ARRAY}),[L,M,w]),B=N?.animations,U=(0,a.useMemo)((()=>{if(L)return o.STABLE_ARRAY;const e=(B||[]).reduce(((e,t)=>{let{targets:n,...r}=t;return n.some((e=>w.includes(e)))?[...e,{targets:n,...r}]:e}),[]);return e.length>0?e:o.STABLE_ARRAY}),[L,w,B]),H=R.length>0,D=0===T.length;(0,l.default)({restore:E,shouldLoad:D,storyId:t,story:n?.story}),(0,u.default)({pages:T,current:S,selection:w,story:v,capabilities:I}),(0,d.default)({restore:E});const{updateStory:F}=y,{saveStory:Y,isSaving:z,isFreshlyPublished:j}=(0,s.default)({storyId:t,pages:T,story:v,updateStory:F}),{autoSave:$,isAutoSaving:W}=(0,f.default)({storyId:t,pages:T,story:v}),G=(0,a.useMemo)((()=>({pages:T,currentPage:N,currentPageId:x,currentPageIndex:k,currentPageNumber:P,selectedElementIds:O,selectedElements:R,selectedElementAnimations:U,hasSelection:H,story:v,animationState:C,capabilities:I,meta:{isSaving:z||W,isSavingStory:z,isAutoSavingStory:W,isFreshlyPublished:j},copiedElementState:A})),[T,N,x,k,P,O,R,U,H,v,C,I,z,W,j,A]),V={state:G,actions:{...y,autoSave:$,saveStory:Y},internal:{reducerState:b,restore:E}};return r.createElement(i.default.Provider,{value:V},r.createElement(m.StoryTriggersProvider,{story:G},g))}},97472:(e,t,n)=>{n.d(t,{useStoryTriggerListener:()=>l,useStoryTriggersDispatch:()=>s});var r=n(35343),a=n(24763);function o(e){return e[0]}function i(e){return e[1]}function l(e,t){const n=(0,r.useContextSelector)(a.Context,o);(0,r.useEffect)((()=>n(e,t)),[e,t,n])}function s(){return(0,r.useContextSelector)(a.Context,i)}},90694:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(98108);function a(e,t){let{animations:n}=t;if(!Array.isArray(n))return e;const a=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),o=e.pages[a],i=o.animations||[],l=(0,r.exclusion)(i,n);if(0===l.length)return e;const s={...o,animations:[...i,...l]},c=[...e.pages.slice(0,a),s,...e.pages.slice(a+1)];return{...e,pages:c}}},54850:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(98108);function a(e,t){let{elements:n}=t;if(!Array.isArray(n))return e;const a=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),o=e.pages[a],i=(0,r.exclusion)(o.elements,n);if(0===i.length)return e;const l={...o,elements:[...o.elements,...i]},s=[...e.pages.slice(0,a),l,...e.pages.slice(a+1)],c=i.map((e=>{let{id:t}=e;return t}));return{...e,pages:s,selection:c}}},21377:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(98108);function a(e,t){let{page:n,position:a}=t;const o=null!==a&&(0,r.isInsideRange)(a,0,e.pages.length-1),i=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),l=o?a:i+1,{id:s}=n;return n.elements?.length?{...e,pages:[...e.pages.slice(0,l),n,...e.pages.slice(l)],current:s,selection:[n.elements[0].id]}:e}},60702:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(98108);function a(e,t){let{elementId:n,position:a}=t;if(null===n&&1!==e.selection.length)return e;const o=null!==n?n:e.selection[0],i=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),l=e.pages[i];if(l.elements.length<3)return e;const s=l.elements.findIndex((e=>{let{id:t}=e;return t===o}));if(-1===s||l.elements[0].id===o)return e;const c=l.elements.length-1,u=(0,r.getAbsolutePosition)({currentPosition:s,minPosition:1,maxPosition:c,desiredPosition:a});if(s===u)return e;const d=(0,r.moveArrayElement)(l.elements,s,u),p=[...e.pages.slice(0,i),{...l,elements:d},...e.pages.slice(i+1)];return{...e,pages:p}}},6707:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(98108);function a(e,t){let{pageId:n,position:a}=t;if(e.pages.length<2)return e;const o=e.pages.findIndex((e=>{let{id:t}=e;return t===n})),i=(0,r.isInsideRange)(a,0,e.pages.length-1);if(-1===o||!i||o===a)return e;const l=(0,r.moveArrayElement)(e.pages,o,a);return{...e,pages:l}}},54234:(e,t,n)=>{n.d(t,{default:()=>c});var r=n(44586),a=n(60211),o=n(13851),i=n(31982),l=n(21429),s=n(98108);function c(e,t){let{firstElement:n,secondId:c,shouldRetainAnimations:u=!0}=t;if(!n||!c)return e;const d=n.id,p=n,f=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),m=e.pages[f],g=m.elements.findIndex((e=>{let{id:t}=e;return t===c})),h=m.elements[g];if(!p||!p.resource||!h)return e;const _=h.isDefaultBackground?{defaultBackgroundElement:{...h,id:(0,r.default)()}}:{},b=["alt","type","resource","scale","focalX","focalY","tracks","poster"];h.isBackground?(b.push("flip"),b.push("overlay")):(b.push("link"),(0,a.canMaskHaveBorder)(h)&&(b.push("border"),(0,a.canSupportMultiBorder)(h)&&b.push("borderRadius")));const y=(0,i.default)(p,b),E=(0,i.default)(p,["width","height","x","y"]),T={...(0,l.default)(h,["isDefaultBackground"]),...o.DEFAULT_ATTRIBUTES_FOR_MEDIA,...y,...h.isBackground?E:{}},S=m.elements.filter((e=>{let{id:t}=e;return t!==d})).map((e=>e.id===c?T:e)),w=(0,s.removeAnimationsWithElementIds)(m.animations,u?[d]:[d,c]),v={...m,elements:S,..._,animations:w},C=[...e.pages.slice(0,f),v,...e.pages.slice(f+1)];return{...e,pages:C,selection:[c]}}},80612:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(98108);function a(e,t){let{elementIds:n}=t;const a=null===n?e.selection:n;if(0===a.length)return e;const o=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),i=e.pages[o],l=i.elements.map((e=>{let{id:t}=e;return t})),s=i.elements[0],c=a.some((e=>e===s.id)),u=s.isDefaultBackground,d=c&&u?a.filter((e=>e!==s.id)):a;if(!((0,r.intersect)(l,d).length>0))return e;let p=i.elements.filter((e=>!d.includes(e.id)));c&&!u&&(p=[i.defaultBackgroundElement,...p]);const f=i.animations||[],m=f.filter((e=>e.targets.some((e=>!d.includes(e))))),g={...i,elements:p,...f.length>0?{animations:m}:{}},h=[...e.pages.slice(0,o),g,...e.pages.slice(o+1)],_=(0,r.intersect)(e.selection,d).length>0?e.selection.filter((e=>!d.includes(e))):e.selection;return{...e,pages:h,selection:_}}},7481:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(46345);function a(e,t){let{elementIds:n}=t;if(!Array.isArray(n))return e;const a=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),o=e.pages[a],i={...o},l=[];if(n.forEach((e=>{const t=i.elements.findIndex((t=>{let{id:n}=t;return n===e}));if(t<0)return;const n=i.elements[t];if(n.isBackground)return;const{element:a,elementAnimations:s}=(0,r.duplicateElement)({element:n,animations:o.animations,existingElements:o.elements});l.push(a.id),i.animations=[...i.animations||[],...s],i.elements=[...i.elements.slice(0,t),n,a,...i.elements.slice(t+1)]})),!l.length)return e;const s=[...e.pages.slice(0,a),i,...e.pages.slice(a+1)];return{...e,pages:s,selection:l}}},44459:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(21429),a=n(98108);function o(e,t){let{elementId:n}=t;const o=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),i=e.pages[o],l=i.elements[0];let s,c=e.selection;if(null===n){if(l.isDefaultBackground)return e;const t=i.defaultBackgroundElement,n=i.elements.map((e=>e.isBackground?(0,r.default)(e,["isBackground"]):e));s={...i,elements:[t,...n]},c=[t.id]}else{const t=i.elements.findIndex((e=>{let{id:t}=e;return t===n})),r=0===t;if(-1===t||r)return e;const o=l.isDefaultBackground?l:i.defaultBackgroundElement,u=i.elements.slice(1),d=t-1;e.selection.includes(l.id)&&(c=e.selection.filter((e=>e!==l.id)));const p=(0,a.moveArrayElement)(u,d,0).map((e=>e.id===n?{...e,isBackground:!0,...Object.prototype.hasOwnProperty.call(e,"opacity")&&{opacity:100}}:e));e.selection.includes(n)&&e.selection.length>1&&(c=e.selection.filter((e=>e!==n))),s={...i,defaultBackgroundElement:o,elements:p}}const u=i.elements.find((e=>e.isBackground)),d=(0,a.removeAnimationsWithElementIds)(i.animations,[n,u.id]),p=[...e.pages.slice(0,o),{...s,animations:d||[]},...e.pages.slice(o+1)];return{...e,pages:p,selection:c}}},62109:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(70746),a=n(98108);function o(e,t){let{elementIds:n}=t;const o="function"==typeof n?n(e.selection):n;if(!Array.isArray(o))return e;const i=[...new Set(o)];if(e.selection.length===i.length&&(0,a.intersect)(e.selection,i).length===e.selection.length)return e;const l=e.pages.find((t=>{let{id:n}=t;return n===e.current})),s=i.length>1?i.filter((e=>(e=>l.elements[0].id!==e)(e)&&(e=>{const t=l.elements.find((t=>t.id===e))?.resource?.isPlaceholder;return!t})(e))):i;return{...e,animationState:r.STORY_ANIMATION_STATE.RESET,selection:s}}},35443:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(2775),a=n(62109);function o(e,t){let{elementId:n,metaKey:o,shiftKey:i}=t;if(o)return(0,r.default)(e,{elementId:n});if(e.selection.length<=0||!i)return(0,a.default)(e,{elementIds:[n]});const l=e.selection[0],s=e.pages.find((t=>{let{id:n}=t;return n===e.current})).elements.map((e=>e.id)),c=s.findIndex((e=>e===l)),u=s.findIndex((e=>e===n)),d=Math.min(c,u),p=Math.max(c,u),f=s.slice(d,p+1);return l!==f[0]&&f.reverse(),(0,a.default)(e,{elementIds:f})}},19941:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(70746),a=n(98108);function o(e,t){let{elementIds:n,properties:o}=t;if([r.STORY_ANIMATION_STATE.PLAYING,r.STORY_ANIMATION_STATE.PLAYING_SELECTED,r.STORY_ANIMATION_STATE.SCRUBBING].includes(e.animationState))return e;const i=null===n?e.selection:n;if(0===i.length)return e;const l=e.pages.findIndex((t=>{let{id:n}=t;return n===e.current})),s=e.pages[l],c=s.elements.map((e=>{let{id:t}=e;return t}));if(!((0,a.intersect)(c,i).length>0))return e;const u=s.elements.reduce(((e,t)=>{if(!i.includes(t.id))return e;const{animation:n,...r}=(0,a.updateElementWithUpdater)(t,o),l=n?{[n.id]:{...n,targets:[r.id]}}:{};return{...e,...l}}),{}),d=s.elements.reduce(((e,t)=>{if(!i.includes(t.id))return[...e,t];const{animation:n,...r}=(0,a.updateElementWithUpdater)(t,o);return[...e,r]}),[]),p=Object.keys(u).length>0,f=p?(0,a.updateAnimations)(s.animations||[],u):s.animations,m=f&&{animations:f},g={elements:d},h={...s,...p?m:g},_=[...e.pages.slice(0,l),h,...e.pages.slice(l+1)];return{...e,pages:_}}},84476:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(98108);function a(e,t){let{family:n,properties:a}=t;if(!n)return e;if(!e.pages.some((e=>e.elements.some((e=>"text"===e.type&&e?.font?.family===n)))))return e;const o=e.pages.map((e=>{const t=e.elements.map((e=>e?.font?.family===n?(0,r.updateElementWithUpdater)(e,a):e));return{...e,elements:t}}));return{...e,pages:o}}},71470:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(98108);function a(e,t){let{id:n,properties:a}=t;if(!n)return e;if(!e.pages.some((e=>e.elements.some((e=>e.resource?.id===n)))))return e;const o=e.pages.map((e=>{const t=e.elements.map((e=>e.resource?.id===n?(0,r.updateElementWithUpdater)(e,a):e));return{...e,elements:t}}));return{...e,pages:o}}},8494:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(95800),a=(n(89157),n(29184),n(21429));function o(e,t){let{pageId:n,properties:o}=t;const i=null===n?e.current:n,l=e.pages.findIndex((e=>{let{id:t}=e;return t===i}));if(-1===l)return e;const s=(0,a.default)(o,r.PAGE_RESERVED_PROPERTIES),c={...e.pages[l],...s},u=[...e.pages.slice(0,l),c,...e.pages.slice(l+1)];return{...e,pages:u}}},98108:(e,t,n)=>{n.d(t,{exclusion:()=>m,getAbsolutePosition:()=>c,intersect:()=>i,isInsideRange:()=>l,moveArrayElement:()=>s,removeAnimationsWithElementIds:()=>d,updateAnimations:()=>p,updateElementWithUpdater:()=>u});var r=n(51517),a=n(95800),o=n(21429);function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e&&n?.length?n.reduce(((e,t)=>e.filter((e=>t.includes(e)))),e):e}function l(e,t,n){return e>=t&&e<=n}function s(e,t,n){const r=e[t],a=[...e.slice(0,t),...e.slice(t+1)];return[...a.slice(0,n),r,...a.slice(n)]}function c(e){let{currentPosition:t,minPosition:n,maxPosition:a,desiredPosition:o}=e;if("number"==typeof o)return Math.min(a,Math.max(n,o));if("string"!=typeof o)return t;switch(o){case r.LAYER_DIRECTIONS.FRONT:return a;case r.LAYER_DIRECTIONS.BACK:return n;case r.LAYER_DIRECTIONS.FORWARD:return Math.min(a,t+1);case r.LAYER_DIRECTIONS.BACKWARD:return Math.max(n,t-1);default:return t}}function u(e,t){const n="function"==typeof t?t(e):t,r=(0,o.default)(n,a.ELEMENT_RESERVED_PROPERTIES);return 0===Object.keys(r).length?e:{...e,...r}}function d(e,t){return(e||[]).reduce(((e,n)=>t.some((e=>n.targets?.includes(e)))?e:[...e,n]),[])}function p(e,t){const n=e.reduce(((e,n)=>{const r=t[n.id];return delete t[n.id],r?.delete?e:r?[...e,r]:[...e,n]}),[]);return Object.values(t).forEach((e=>n.push(e))),n}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object.values(Object.fromEntries(e.map((e=>[e.id,e]))))}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=f(t),r=e.map((e=>{let{id:t}=e;return t}));return n.filter((e=>{let{id:t}=e;return!r.includes(t)}))}},83457:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(28410),a=n(31982);function o(e){let{story:t,pages:n,metadata:o,flags:i}=e;const{terms:l,...s}=(0,a.default)(t,["title","status","author","date","modified","slug","excerpt","featuredMedia","password","currentStoryStyles","globalStoryStyles","autoAdvance","defaultPageDuration","backgroundAudio","terms"]);return{content:(0,r.getStoryMarkup)(t,n,o,i),pages:n,...s,...l,meta:{web_stories_publisher_logo:t.publisherLogo?.id}}}},34754:(e,t,n)=>{n.d(t,{AccessibilityChecks:()=>AccessibilityChecks});var r=n(67294),a=n(58167),o=n(84082),i=n(35466),l=n(96382),s=n(93841);function AccessibilityPanel(e){let{children:t,badgeCount:n,isOpen:o,onClick:i,maxHeight:c,title:u}=e;return(0,s.useIsChecklistMounted)()?r.createElement(l.StyledTablistPanel,{badgeCount:n,isExpanded:Boolean(n)&&o,onClick:i,maxHeight:c,title:u},r.createElement(l.PanelText,null,(0,a.__)("Make your Web Story accessible.","web-stories")),t):t}function AccessibilityChecks(e){return r.createElement(i.ChecklistCategoryProvider,{category:o.ISSUE_TYPES.ACCESSIBILITY},r.createElement(AccessibilityPanel,e,e.children))}},19843:(e,t,n)=>{n.d(t,{DesignChecks:()=>DesignChecks});var r=n(67294),a=n(58167),o=n(84082),i=n(35466),l=n(96382),s=n(93841);function DesignPanel(e){let{badgeCount:t=0,isOpen:n,maxHeight:o,onClick:i,title:c,children:u}=e;return(0,s.useIsChecklistMounted)()?r.createElement(l.StyledTablistPanel,{badgeCount:t,isExpanded:Boolean(t)&&n,onClick:i,maxHeight:o,title:c},r.createElement(l.PanelText,null,(0,a.__)("Follow best practices for Web Stories.","web-stories")),u):u}function DesignChecks(e){return r.createElement(i.ChecklistCategoryProvider,{category:o.ISSUE_TYPES.DESIGN},r.createElement(DesignPanel,e,e.children))}},35221:(e,t,n)=>{n.d(t,{PriorityChecks:()=>PriorityChecks});var r=n(67294),a=n(58167),o=n(35343),i=n(35185),l=(n(28249),n(84082)),s=n(35466),c=n(96382),u=n(72063),d=n(93841);function PriorityPanel(e){let{children:t,badgeCount:n=0,isOpen:o,onClick:l,maxHeight:s,title:u}=e;return(0,d.useIsChecklistMounted)()?r.createElement(c.StyledTablistPanel,{badgeCount:n,isExpanded:Boolean(n)&&o,onClick:l,maxHeight:s,status:i.PANEL_STATES.DANGER,title:u},r.createElement(c.PanelText,null,(0,a.__)("Make this Web Story easier to discover.","web-stories")),t):t}function PriorityChecks(e){const t=(0,s.useCategoryCount)(l.ISSUE_TYPES.PRIORITY),{updateHighPriorityCount:n}=(0,u.useCheckpoint)((e=>{let{actions:{updateHighPriorityCount:t}}=e;return{updateHighPriorityCount:t}}));return(0,o.useEffect)((()=>{n(t)}),[n,t]),r.createElement(s.ChecklistCategoryProvider,{category:l.ISSUE_TYPES.PRIORITY},r.createElement(PriorityPanel,e,e.children))}},24807:(e,t,n)=>{n.d(t,{default:()=>ChecklistProvider});var r=n(67294),a=n(35343),o=n(26613),i=n(52601);const ChecklistProvider=e=>{let{children:t}=e;const[n,l]=(0,a.useState)(!1),[s,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(),[p,f]=(0,a.useState)(!1),m=(0,a.useCallback)((e=>{d(e)}),[d]),g=(0,a.useCallback)((()=>{(0,o.trackEvent)("checklist_toggled",{status:n?"closed":"open"}),l((e=>!e))}),[n]),h=(0,a.useCallback)((()=>{(0,o.trackEvent)("checklist_toggled",{status:"closed"}),l(!1)}),[]),_=(0,a.useCallback)((()=>{(0,o.trackEvent)("checklist_toggled",{status:"open"}),l(!0),c(!0)}),[]),b=(0,a.useCallback)((()=>c(!1)),[]),y=(0,a.useMemo)((()=>({state:{checklistFocused:s,isOpen:n,isChecklistMounted:p,openPanel:u},actions:{toggle:g,close:h,open:_,resetChecklistFocused:b,setIsChecklistMounted:f,setOpenPanel:m}})),[s,h,u,n,_,b,g,m,f,p]);return r.createElement(i.default.Provider,{value:y},t)}},55394:(e,t,n)=>{n.d(t,{useChecklist:()=>o});var r=n(35343),a=n(52601);function o(e){return(0,r.useContextSelector)(a.default,e??r.identity)}},72063:(e,t,n)=>{n.d(t,{ChecklistCheckpointProvider:()=>ChecklistCheckpointProvider,useCheckpoint:()=>_});var r=n(67294),a=n(35343),o=(n(55537),n(84296),n(17166),n(40169),n(89703),n(54e3),n(28377),n(40823),n(19040),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(97472)),i=(n(24763),n(21303),n(34639),n(79254)),l=n(84401),s=(n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859),n(84082));const c="story is no longer empty",u="publish button is pressed",d="story 'recommended' section enabled",p="story 'high priority' section enabled",f="story is published, regardless of recommendations",m={[s.PPC_CHECKPOINT_STATE.UNAVAILABLE]:{[c]:s.PPC_CHECKPOINT_STATE.ONLY_RECOMMENDED,[u]:s.PPC_CHECKPOINT_STATE.ALL,[f]:s.PPC_CHECKPOINT_STATE.ALL,[d]:s.PPC_CHECKPOINT_STATE.ONLY_RECOMMENDED},[s.PPC_CHECKPOINT_STATE.ONLY_RECOMMENDED]:{[p]:s.PPC_CHECKPOINT_STATE.ALL,[u]:s.PPC_CHECKPOINT_STATE.ALL,[f]:s.PPC_CHECKPOINT_STATE.ALL},[s.PPC_CHECKPOINT_STATE.ALL]:{}},g=(e,t)=>m[e][t]||e,h=(0,a.createContext)({state:{},actions:{}});function ChecklistCheckpointProvider(e){let{children:t}=e;const[n,m]=(0,a.useReducer)(g,s.PPC_CHECKPOINT_STATE.UNAVAILABLE),[_,b]=(0,a.useState)(),[y,E]=(0,a.useState)(),T=_>0,S=(0,l.default)((e=>{let{state:{story:t}}=e;return t.status}));(0,a.useEffect)((()=>{"publish"===S&&m(f)}),[S]),(0,o.useStoryTriggerListener)(i.STORY_EVENTS.onSecondPageAdded,(0,a.useCallback)((()=>{m(d)}),[])),(0,o.useStoryTriggerListener)(i.STORY_EVENTS.onFifthPageAdded,(0,a.useCallback)((()=>{m(p)}),[])),(0,o.useStoryTriggerListener)(i.STORY_EVENTS.onInitialElementAdded,(0,a.useCallback)((()=>{m(c)}),[]));const w=(0,a.useCallback)((e=>{b(e)}),[]),v=(0,a.useCallback)((()=>m(u)),[]),C=(0,a.useCallback)((()=>{E(!0)}),[]),I=(0,a.useCallback)((()=>{E(!1)}),[]),A=(0,a.useMemo)((()=>({state:{checkpoint:n,hasHighPriorityIssues:T,reviewChecklistRequested:y},actions:{updateHighPriorityCount:w,handleResetReviewChecklist:I,handleReviewChecklist:C,showPriorityIssues:v}})),[n,C,v,I,y,T,w]);return r.createElement(h.Provider,{value:A},t)}function _(e){return(0,a.useContextSelector)(h,e??a.identity)}},13688:(e,t,n)=>{n.d(t,{getPagesWithFailedContrast:()=>_});var r=n(41297),a=n(39187),o=n(59426),i=n(2462),l=n(69305),s=n(43040),c=n(45743),u=(n(19040),n(84082),n(90842)),d=(n(67294),n(65314),n(52563),n(89574),n(50014),n(46345),n(35343),n(54e3),n(28377),n(40823),n(55537),n(84296),n(17166),n(40169),n(89703),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(93909),n(40282));n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859);function p(e,t){return e>=.3333333333333333*t}function f(e){let{background:t,text:n,page:c}=e;const{pageSize:u}=c,p=(u?.width/o.FULLBLEED_RATIO-u?.width/o.PAGE_RATIO)/2,f=(0,r.getBox)(n,u?.width,u?.height),g=(0,a.default)([f]),{resource:h,scale:_,focalX:b,focalY:y}=t,E=(0,r.getBox)(t,u?.width,u?.height),{width:T,height:S}=E,w=(0,i.default)(h,T,S,_,b,y);return async function(e){let{bgImage:t,bgBox:n,overlapBox:r}=e;const a=await(0,l.default)({src:t.src,width:t.width,height:t.height}),o=await function(e){return new Promise(((a,o)=>{try{const o=document.createElement("canvas");o.width=t.width,o.height=t.height;const i=o.getContext("2d");if(t.rotationAngle){const e=t.offsetX+n.width/2,r=t.offsetY+n.height/2;i.translate(e,r),i.rotate(t.rotationAngle*m),i.translate(-e,-r)}let l=0,s=0;const{flip:c}=t;(c.vertical||c.horizontal)&&(l=c.horizontal?-1*t.width:0,s=c.vertical?-1*t.height:0,i.scale(c.horizontal?-1:1,c.vertical?-1:1)),i.drawImage(e,l,s,t.width,t.height),a(i.getImageData(r.x,r.y,r.width,r.height))}catch(e){o(e)}}))}(a),i=document.createElement("canvas");i.width=r.width,i.height=r.height,i.getContext("2d").putImageData(o,0,0);const c=await(0,d.default)(i.toDataURL(),i.width,i.height),{color:{r:u,g:p,b:f}}=(0,s.default)(c);return{r:u,g:p,b:f}}({bgImage:{offsetX:w.offsetX,offsetY:w.offsetY,src:t.resource.src,width:w.width,height:w.height,rotationAngle:t.isBackground?void 0:t.rotationAngle,flip:t.flip},bgBox:E,overlapBox:{x:t.isBackground?w.offsetX+Math.abs(g.startX):w.offsetX+Math.abs(g.startX)-E.x,y:t.isBackground?w.offsetY+Math.abs(g.startY+p):w.offsetY+Math.abs(g.startY+p)-(E.y+p),width:g.width,height:g.height}}).catch((()=>{}))}const m=Math.PI/180;function g(e){let{background:t}=e;return t?.backgroundColor?.color}function h(e){switch(e.type){case"image":return f;case"shape":return g;default:return()=>{}}}async function _(e,t){const n=[];return(e||[]).forEach((e=>{const o=async function(e){const t=[];e.elements.forEach(((n,o)=>{if("text"===n.type&&"NONE"===n.backgroundTextMode){const i=function(e){const t=(0,u.getSpansFromContent)(e.content),n=t.map((e=>e.style?.color)).filter(Boolean),r=0===n.length&&0!==t.length,a=0!==e.content.length&&0===t.length;return(r||a)&&n.push("rgb(0, 0, 0)"),n}(n),l=e.elements.slice(0,o),s=function(e,t,n){const{pageSize:o}=n,i=(0,r.getBox)(e,o?.width,o?.height),l=(0,a.default)([i]),s=l.width*l.height,c=[...t].map(((e,t)=>{const i=(0,r.getBox)(e,o?.width,o?.height),s=(0,a.default)([i]),c=function(e,t){const n=Math.min(e.endX,t.endX)-Math.max(e.startX,t.startX),r=Math.min(e.endY,t.endY)-Math.max(e.startY,t.startY);return n>=0&&r>=0?n*r:0}(l,s);return{element:e.isBackground||e.isDefaultBackground?{...e,backgroundColor:n?.backgroundColor}:e,area:c,index:t}})).reverse();let u=s;const d=[];for(const e of c){if(!p(u,s))break;p(e.area,s)&&d.push(e.element),u-=e.area}return d}(n,l,e);for(const r of s){const a=h(r)({background:r,text:n,page:e}),o=e=>e&&{backgroundColor:e,textStyleColors:i,fontSize:n.fontSize,id:n.id,isBackgroundElement:r.isBackground},l=a instanceof Promise?a.then(o):o(a);t.push(l)}}}));const n=(await Promise.all(t)).map((e=>function(){let{backgroundColor:e,textStyleColors:t,fontSize:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!(!t||!e)&&t.some((t=>{if(!t)return!1;const r=(0,c.calculateLuminanceFromStyleColor)(t),a=(0,c.calculateLuminanceFromRGB)(e);return!(0,c.checkContrastFromLuminances)(r,a,n).WCAG_AA}))}(e)&&{id:e.id,isBackground:e.isBackgroundElement}));return n.filter((e=>{let{id:t}=e;return t}))}({...e,pageSize:t});o instanceof Promise?n.push(o.then((t=>({result:t,page:e})))):n.push(o)})),(await Promise.all(n)).filter((e=>e.result.some((e=>{let{id:t}=e;return t})))).map((e=>e))}},88858:(e,t,n)=>{n(67294);var r=n(58804),a=n(90949),o=n(77904),i=n(16087);n(35343),n(19040),n(84082);n(65314),n(52563),n(89574),n(50014),n(46345),n(54e3),n(28377),n(40823),n(55537),n(84296),n(17166),n(40169),n(89703),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859),n(89353),n(58965);r.default.div.withConfig({displayName:"thumbnailWrapper__Wrapper",componentId:"sc-3oy0ss-0"})(["grid-area:thumbnail;transition:height ease-in-out 300ms;",""],(e=>{let{$isMultiple:t}=e;return t&&(0,r.css)(["display:grid;grid-gap:8px;grid-template-columns:repeat(4,52px);grid-template-rows:auto;"])})),(0,r.default)(a.Button).attrs({variant:o.BUTTON_VARIANTS.RECTANGLE,size:o.BUTTON_SIZES.SMALL,type:o.BUTTON_TYPES.TERTIARY}).withConfig({displayName:"thumbnailWrapper__StyledButton",componentId:"sc-3oy0ss-1"})(["grid-column:span 4;justify-content:center;height:32px;width:100%;margin:4px 0;",";"],(e=>{let{theme:t}=e;return i.focusableOutlineCSS(t.colors.border.focus,t.colors.bg.tertiary)})),r.default.div.withConfig({displayName:"thumbnailWrapper__IconContainer",componentId:"sc-3oy0ss-2"})(["height:18px;width:20px;svg{transform:",";transition:transform ease-in-out 300ms;}"],(e=>{let{$isExpanded:t}=e;return t&&"rotate(-180deg)"}))},75671:(e,t,n)=>{n(67294);var r=n(58804),a=(n(35343),n(90949));n(89157),n(75134),n(29184),n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(54e3),n(28377),n(40823),n(40169),n(89703),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(84401),n(26613),n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(88476),n(84082),n(89574),n(50097),n(50014),n(80439),n(89353),n(11209),n(58965),n(8236),n(37070),n(35917),n(96426),n(60811),n(6687),n(9730),n(35466),n(93841);(0,r.default)(a.Button).withConfig({displayName:"videoOptimization__OptimizeButton",componentId:"sc-1dz2s9g-0"})(["margin-top:4px;"])},84082:(e,t,n)=>{n.d(t,{ACCESSIBILITY_COPY:()=>g,CATEGORY_LABELS:()=>m,CHECKLIST_TITLE:()=>p,ISSUE_TYPES:()=>f,PANEL_EXPANSION_BY_CHECKPOINT:()=>b,PANEL_VISIBILITY_BY_STATE:()=>_,POPUP_ID:()=>d,PPC_CHECKPOINT_STATE:()=>h});var r=n(67294),a=n(58167),o=n(65197),i=n(2667),l=n(26613),s=n(21931),c=n(71314);const u=Math.floor(1),d="checklist_companion",p=(0,a.__)("Checklist","web-stories"),f={ACCESSIBILITY:"accessibility",DESIGN:"design",PRIORITY:"priority"},m={[f.ACCESSIBILITY]:(0,a.__)("Accessibility","web-stories"),[f.DESIGN]:(0,a.__)("Design","web-stories"),[f.PRIORITY]:(0,a.__)("Priority","web-stories")},g={fontSizeTooSmall:{title:(0,o.default)(
/* translators: %d: minimum font size. */
(0,a.__)("Increase font size to %s or above","web-stories"),12),footer:(0,o.default)(
/* translators: %d: minimum font size. */
(0,a.__)("Ensure legibility by selecting text size %d or greater","web-stories"),12)},imagesMissingAltText:{title:(0,a.__)("Add assistive text to images","web-stories"),footer:(0,a.__)("Optimize accessibility and indexability with meaningful text to better assist users.","web-stories")},linkTappableRegionTooBig:{title:(0,a.__)("Reduce link size","web-stories"),footer:(0,a.__)("Elements with links must not cover most of the page. Decrease the size of elements with links.","web-stories")},linkTappableRegionTooSmall:{title:(0,o.default)(
/* translators: %s: minimum tappable region size width x minimum tappable region size height. */
(0,a.__)("Increase tap area size to at least %s","web-stories"),"48x48px"),footer:(0,a.__)("Optimize accessibility and indexability with meaningful text to better assist users","web-stories")},lowContrast:{title:(0,a.__)("Increase contrast between text and background color","web-stories"),footer:(0,a.__)("Ensure legibility of text and ease of reading by increasing color contrast","web-stories"),textPanel:(0,a.__)("This color or font size combination may be hard for some people to read.","web-stories"),backgroundPanel:(0,a.__)("This background color may make some text hard to read.","web-stories"),warningIcon:(0,a.__)("Low Warning","web-stories")},videoMissingCaptions:{title:(0,a.__)("Add video captions","web-stories"),footer:(0,a.__)("Keep the audience engaged even when they can't listen to the audio","web-stories")},videoMissingTitle:{title:(0,a.__)("Add video description","web-stories"),footer:(0,a.__)("Improves indexability and accessibility (for videos without captions)","web-stories")}},h=((0,o.default)(
/* translators: %d: maximum number of pages. */
(0,a._n)("Make Web Story at least %d page","Make Web Story at least %d pages",4,"web-stories"),4),(0,o.default)(
/* translators: 1: minimum number of pages. 2: maximum number of pages. */
(0,a.__)("It is recommended to have between %1$d and %2$d pages in your story","web-stories"),4,30),(0,o.default)(
/* translators: %d: minimum number of pages. */
(0,a._n)("Make Web Story fewer than %d page","Make Web Story fewer than %d pages",30,"web-stories"),30),(0,o.default)(
/* translators: 1: minimum number of pages. 2: maximum number of pages. */
(0,a.__)("It is recommended to have between %1$d and %2$d pages in your story","web-stories"),4,30),(0,a.__)("Add more text to page","web-stories"),(0,o.default)(
/* translators: %d: minimum number of story characters. */
(0,a._n)("Include at least %d character","Include at least %d characters",100,"web-stories"),100),(0,a.__)("Reduce text amount on page","web-stories"),r.createElement(r.Fragment,null,r.createElement("li",null,(0,o.default)(
/* translators: %d: maximum number of story characters. */
(0,a._n)("Include no more than %d character","Include no more than %d characters",200,"web-stories"),200)),r.createElement("li",null,(0,a.__)("Use a page attachment breaking up the text into multiple screens; or","web-stories")),r.createElement("li",null,(0,o.default)(
/* translators: %s: maximum percentage of characters, depending on number of pages. */
(0,a.__)("Keep the total number of text-heavy pages under %s of total number of story pages","web-stories"),"10%"))),(0,o.default)(
/* translators: %s: maximum number of links per page. */
(0,a.__)("Avoid including more than %s links per page","web-stories"),3),(0,o.default)(
/* translators: %s: maximum number of links per page. */
(0,a.__)("Avoid having more than %s links on one page","web-stories"),3),(0,a.__)("Increase image resolution","web-stories"),r.createElement(r.Fragment,null,r.createElement("li",null,(0,a.__)("Use larger resolution (2x or 3x) images for best appearance on screens with high pixel density","web-stories")),r.createElement("li",null,(0,o.default)(
/* translators: %s: minimum image size width x minimum image size height. */
(0,a.__)("For full-screen images, use a resolution of at least %s","web-stories"),"828x1792px"))),(0,o.default)(
/* translators: %d: minimum number of frames per second for video. */
(0,a.__)("Increase video frame rate to at least %d fps","web-stories"),24),(0,o.default)(
/* translators: %d: minimum number of frames per second for video. */
(0,a._n)("Ensure your video has a minimum of %d frame per second","Ensure your video has a minimum of %d frames per second",24,"web-stories"),24),(0,a.__)("Increase video resolution","web-stories"),(0,o.default)(
/* translators: 1: minimum video resolution. 2: minimum video width x minimum video height in pixels. */
(0,a.__)("Consider using a minimum resolution of %1$s (%2$s) to represent portrait videos","web-stories"),"480p","852x480px"),(0,o.default)(
/* translators: %d: maximum video length in minutes. */
(0,a._n)("Split videos into segments of %d minute or less","Split videos into segments of %d minutes or less",u,"web-stories"),u),(0,a.__)("Shorter videos help readers navigate stories","web-stories"),(0,a.__)("Add Web Story description","web-stories"),(0,a.__)("Incorporate a brief description for better user experience","web-stories"),(0,a.__)("Add Web Story title","web-stories"),r.createElement(r.Fragment,null,r.createElement("li",null,(0,o.default)(
/* translators: %d: maximum story title length in words. */
(0,a._n)("Keep under %d word","Keep under %d words",10,"web-stories"),10)),r.createElement("li",null,(0,o.default)(
/* translators: %d: maximum story title length in characters. */
(0,a._n)("Don't exceed %d character","Don't exceed %d characters",70,"web-stories"),70))),(0,a.__)("Add poster image","web-stories"),r.createElement(r.Fragment,null,r.createElement("li",null,(0,a.__)("Use as a representation of the story","web-stories")),r.createElement("li",null,(0,a.__)("Avoid images with embedded text","web-stories")),r.createElement("li",null,(0,o.default)(
/* translators: %s: image dimensions.  */
(0,a.__)("Use an image that's at least %s","web-stories"),"640x853px")),r.createElement("li",null,(0,o.default)(
/* translators: %s: aspect ratio.  */
(0,a.__)("Maintain a %s aspect ratio","web-stories"),"3:4"))),(0,a.__)("Add poster image to every video","web-stories"),(0,a.__)("Ensure a better experience by displaying a poster while users wait for the video to load","web-stories"),(0,o.default)(
/* translators: %d: maximum number of story characters. */
(0,a._n)("Shorten title to fewer than %d character","Shorten title to fewer than %d characters",70,"web-stories"),70),(0,o.default)(
/* translators: %d: maximum number of story characters. */
(0,a._n)("Limit story title to %d character or less","Limit story title to %d characters or less",70,"web-stories"),70),(0,o.default)(
/* translators: %s: image dimensions. */
(0,a.__)("Increase size of publisher logo to at least %s","web-stories"),"96x96px"),r.createElement(r.Fragment,null,r.createElement("li",null,(0,o.default)(
/* translators: %s: image dimensions. */
(0,a.__)("Use an image that's at least %s","web-stories"),"96x96px")),r.createElement("li",null,(0,o.default)(
/* translators: %s: aspect ratio.  */
(0,a.__)("Maintain a %s aspect ratio","web-stories"),"1x1px"))),(0,a.__)("Add a publisher logo to your story","web-stories"),r.createElement(r.Fragment,null,r.createElement("li",null,(0,o.default)(
/* translators: %s: image dimensions. */
(0,a.__)("Use an image that's at least %s","web-stories"),"96x96px")),r.createElement("li",null,(0,o.default)(
/* translators: %s: aspect ratio.  */
(0,a.__)("Maintain a %s aspect ratio","web-stories"),"1x1px"))),(0,o.default)(
/* translators: %s: image dimensions.  */
(0,a.__)("Correct poster image aspect ratio to %s","web-stories"),"640x853px"),r.createElement(r.Fragment,null,r.createElement("li",null,(0,o.default)(
/* translators: %s: image dimensions.  */
(0,a.__)("Use an image that's at least %s","web-stories"),"640x853px")),r.createElement("li",null,(0,o.default)(
/* translators: %s: aspect ratio.  */
(0,a.__)("Maintain a %s aspect ratio","web-stories"),"3:4"))),(0,a.__)("Optimize videos","web-stories"),(0,o.default)(
/* translators: %s: video resolution (720p) */
(0,a.__)("Videos larger than %s can cause slower loading and higher bandwidth costs.","web-stories"),"720p"),(0,a.__)("Add Site Title","web-stories"),(0,a.__)("Compatibility","web-stories"),r.createElement(i.default,{mapping:{a:r.createElement(s.Link,{href:(0,a.__)("https://wp.stories.google/docs/","web-stories"),rel:"noreferrer",target:"_blank",onClick:e=>(0,l.trackClick)(e,"click_checklist_amp_test"),size:c.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL})}},(0,a.__)("Your story contains errors that can affect eligibility to appear on Google. Please see <a>our FAQ</a> for more information.","web-stories")),{UNAVAILABLE:"unavailable",ONLY_RECOMMENDED:"recommended",ALL:"all"}),_={[h.UNAVAILABLE]:[],[h.ONLY_RECOMMENDED]:[f.ACCESSIBILITY,f.DESIGN],[h.ALL]:Object.values(f)},b={[h.UNAVAILABLE]:null,[h.ONLY_RECOMMENDED]:f.DESIGN,[h.ALL]:f.PRIORITY}},35466:(e,t,n)=>{n.d(t,{ChecklistCategoryProvider:()=>ChecklistCategoryProvider,ChecklistCountProvider:()=>ChecklistCountProvider,useCategoryCount:()=>c});var r=n(67294),a=n(35343),o=n(84082);const i=(0,a.createContext)(null),l=(0,a.createContext)(null),s={[o.ISSUE_TYPES.PRIORITY]:{},[o.ISSUE_TYPES.DESIGN]:{},[o.ISSUE_TYPES.ACCESSIBILITY]:{}};function ChecklistCountProvider(e){let{hasChecklist:t,children:n}=e;const o=(0,a.useState)({...s,hasChecklist:t});return r.createElement(i.Provider,{value:o},n)}function ChecklistCategoryProvider(e){let{children:t,category:n}=e;const o=(0,a.useContext)(i)?.[1];if(!o)throw new Error("Cannot use `ChecklistCategoryProvider` outside of `ChecklistCountProvider`");const s=(0,a.useCallback)((e=>o((t=>({...t,[n]:{...t[n],...e}})))),[n,o]);return r.createElement(l.Provider,{value:s},t)}function c(e){const t=(0,a.useContext)(i)?.[0];if(!t)throw new Error("Cannot use `useCategoryCount` outside of `ChecklistCountProvider`");return Object.values(t[e]||{}).filter((e=>e)).length}},93841:(e,t,n)=>{n.d(t,{useIsChecklistMounted:()=>a});n(67294),n(35343),n(26613),n(52601);var r=n(55394);function a(){return(0,r.useChecklist)((e=>{let{state:t}=e;return t.isChecklistMounted}))}},96382:(e,t,n)=>{n.d(t,{PanelText:()=>u,StyledTablistPanel:()=>c,getTabPanelMaxHeight:()=>s});var r=n(58804),a=n(58286),o=n(71314),i=n(72267),l=(n(28249),n(44993),n(36422));const s=e=>{if(e)return`100vh - ${l.NAVIGATION_HEIGHT+60*e+l.DISTANCE_FROM_TOP+l.DISTANCE_FROM_BOTTOM}px`},c=(0,r.default)(i.default).withConfig({displayName:"styles__StyledTablistPanel",componentId:"sc-1rujego-0"})(["height:",";visibility:",";button{display:",";}"],(e=>{let{badgeCount:t}=e;return 0===t?0:"auto"}),(e=>{let{badgeCount:t}=e;return 0===t?"hidden":"visible"}),(e=>{let{badgeCount:t}=e;return 0===t?"none":"auto"})),u=(0,r.default)(a.Text).attrs({size:o.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}).withConfig({displayName:"styles__PanelText",componentId:"sc-1rujego-1"})(["color:",";"],(e=>{let{theme:t}=e;return t.colors.fg.secondary}))},67339:(e,t,n)=>{n.d(t,{Toggle:()=>Toggle});var r=n(67294),a=n(35343),o=n(58804),i=n(58167),l=n(65197),s=n(27699),c=n(59042),u=n(35466),d=n(72063),p=n(84082),f=n(98047);const m=(0,o.default)(s.default).withConfig({displayName:"toggle__MainIcon",componentId:"sc-1kcse2p-0"})(["height:32px;width:auto;display:block;"]),g=(0,o.default)(c.ToggleButton).withConfig({displayName:"toggle__StyledToggleButton",componentId:"sc-1kcse2p-1"})(["display:block;background-color:",";"],(e=>{let{theme:t}=e;return t.colors.bg.primary}));function Toggle(e){let{isOpen:t=!1,popupId:n="",onClick:o=f.noop}=e;const s=(0,u.useCategoryCount)(p.ISSUE_TYPES.PRIORITY),{checkpoint:c}=(0,d.useCheckpoint)((e=>{let{state:{checkpoint:t}}=e;return{checkpoint:t}})),h=(0,a.useMemo)((()=>c===p.PPC_CHECKPOINT_STATE.ALL?s:0),[c,s]);return r.createElement(g,{"aria-owns":n,onClick:o,isOpen:t,MainIcon:m,label:(0,i.__)("Checklist","web-stories"),"aria-label":h>0?(0,l.default)(
/* translators: %s:  number of unaddressed issues. */
(0,i._n)("Checklist: %s unaddressed issue","Checklist: %s unaddressed issues",h,"web-stories"),h):(0,i.__)("Checklist","web-stories"),notificationCount:h})}},11209:(e,t,n)=>{n(67294),n(88858),n(58965);n(89353)},58965:(e,t,n)=>{n.d(t,{GRID_TEMPLATE_AREA:()=>a,GRID_VARIANT:()=>r});const r={SINGLE_WITH_THUMBNAIL:"single_with_thumbnail",SINGLE:"single",DEFAULT:"single",MULTIPLE_WITH_THUMBNAIL:"multiple_with_thumbnail",MULTIPLE_WITH_THUMBNAIL_WITH_CTA:"multiple_with_thumbnail_with_cta",MULTIPLE_WITH_THUMBNAIL_OVERFLOW:" multiple_with_thumbnail_overflow"},a={[r.SINGLE]:"'title title title title' 'cta cta cta thumbnail' 'footer footer footer footer'",[r.SINGLE_WITH_THUMBNAIL]:"'title title title thumbnail' 'cta cta cta thumbnail' 'footer footer footer footer'",[r.MULTIPLE_WITH_THUMBNAIL]:"'title title title title' 'thumbnail thumbnail thumbnail thumbnail' 'footer footer footer footer'",[r.MULTIPLE_WITH_THUMBNAIL_WITH_CTA]:"'title title title title' 'thumbnail thumbnail thumbnail thumbnail' 'cta cta cta cta' 'footer footer footer footer'",[r.MULTIPLE_WITH_THUMBNAIL_WITH_CTA_OVERFLOW]:"'title title title title' 'thumbnail thumbnail thumbnail thumbnail' 'cta cta cta cta' 'footer footer footer footer'",[r.MULTIPLE_WITH_THUMBNAIL_OVERFLOW]:"'title title title title' 'thumbnail thumbnail thumbnail thumbnail' 'footer footer footer footer'"}},8236:(e,t,n)=>{n(67294)},89353:(e,t,n)=>{var r=n(45697),a=n.n(r),o=n(58804),i=n(83506),l=n(58286),s=n(71314),c=n(7192),u=(n(44993),n(89574),n(67294),n(50014),n(72077)),d=(n(46345),n(35343),n(54e3),n(28377),n(40823),n(55537),n(84296),n(17166),n(40169),n(89703),n(19040),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859),n(58965)),p=n(36422);const{focusableOutlineCSS:f}=i;o.default.div.withConfig({displayName:"styles__Wrapper",componentId:"sc-1nhlyv8-0"})(["width:","px;display:flex;border-radius:4px;background:",";margin:8px 0;"],p.CARD_WIDTH,(e=>{let{theme:t}=e;return t.colors.bg.secondary}));o.default.div.withConfig({displayName:"styles__Container",componentId:"sc-1nhlyv8-1"})(["width:240px;display:grid;margin:16px;grid-gap:8px;grid-template-columns:52px 52px 52px 52px;",""],(e=>{let{gridVariant:t}=e;return(0,o.css)(["grid-template-areas:",";"],d.GRID_TEMPLATE_AREA[t])})).propTypes={gridVariant:a().oneOf(Object.values(d.GRID_VARIANT))};o.default.div.withConfig({displayName:"styles__Title",componentId:"sc-1nhlyv8-2"})(["grid-area:title;&:is(button){display:flex;outline:none;margin:0;padding:0;background-color:transparent;border:none;text-align:left;cursor:pointer;border-radius:",";",";}"],(e=>{let{theme:t}=e;return t.borders.radius.small}),(e=>{let{theme:t}=e;return f(t.colors.border.focus,t.colors.bg.secondary)})),o.default.div.withConfig({displayName:"styles__Cta",componentId:"sc-1nhlyv8-3"})(["grid-area:cta;margin:0;"]),(0,o.default)(l.Text).attrs({forwardedAs:"label",size:s.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}).withConfig({displayName:"styles__CheckboxCtaLabel",componentId:"sc-1nhlyv8-4"})(["color:",";"],(e=>{let{theme:t}=e;return t.colors.fg.linkNormal})),o.default.div.withConfig({displayName:"styles__CheckboxCtaContainer",componentId:"sc-1nhlyv8-5"})(["display:flex;align-items:center;margin:14px 0 6px;label{margin:0 8px;}"]),(0,o.default)(u.default).withConfig({displayName:"styles__StyledOverflowThumbnail",componentId:"sc-1nhlyv8-6"})(["width:52px;cursor:pointer;"]),o.default.div.withConfig({displayName:"styles__Footer",componentId:"sc-1nhlyv8-7"})(["grid-area:footer;padding-top:8px;border-top:1px solid ",";& > *{color:",";}"],(e=>{let{theme:t}=e;return t.colors.divider.primary}),(e=>{let{theme:t}=e;return t.colors.fg.secondary})),o.default.div.withConfig({displayName:"styles__CardListWrapper",componentId:"sc-1nhlyv8-8"})(["margin-left:16px;li{color:",";}"],(e=>{let{theme:t}=e;return t.colors.fg.secondary})),(0,o.default)(c.default).withConfig({displayName:"styles__StyledVideoOptimizationIcon",componentId:"sc-1nhlyv8-9"})(["rect{color:",";}path{color:",";}"],(e=>{let{theme:t}=e;return t.colors.opacity.black64}),(e=>{let{theme:t}=e;return t.colors.fg.primary}))},65744:(e,t,n)=>{n.d(t,{default:()=>Dialog});var r=n(67294),a=n(35343),o=n(58804),i=n(90949),l=n(77904),s=n(74350),c=n(21275),u=n(36683);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const Dialog=e=>{let{onClose:t,onSecondary:n,onPrimary:p,primaryText:f,secondaryText:m,primaryRest:g,secondaryRest:h,actions:_,children:b,...y}=e;const E=(0,a.useMemo)((()=>f&&r.createElement(i.Button,d({type:l.BUTTON_TYPES.PRIMARY,size:l.BUTTON_SIZES.SMALL,onClick:()=>p?.()},g),f)),[f,g,p]),T=(0,a.useMemo)((()=>m&&r.createElement(i.Button,d({type:l.BUTTON_TYPES.TERTIARY,size:l.BUTTON_SIZES.SMALL,onClick:()=>n?.()||t()},h),m)),[m,h,n,t]);return r.createElement(o.ThemeProvider,{theme:{...s.theme,colors:c.light}},r.createElement(u.Dialog,d({onClose:t},y,{actions:_||r.createElement(r.Fragment,null,T,E)}),b))}},86807:(e,t,n)=>{n.d(t,{default:()=>DirectionAware});var r=n(67294),a=n(58804),o=n(14194),i=(n(55537),n(84296),n(35343),n(17166),n(40169),n(89703),n(54e3),n(28377),n(97506));n(40823),n(19040),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859);Object.defineProperty(o.default,"name",{value:"stylisRTLPlugin"});const l=[o.default],s=[];function DirectionAware(e){let{children:t}=e;const{isRTL:n}=(0,i.default)();return r.createElement(a.StyleSheetManager,{stylisPlugins:n?l:s},t)}},50869:(e,t,n)=>{n.d(t,{default:()=>u});var r=n(67294),a=n(35343),o=n(58167),i=n(36779),l=(n(55537),n(84296),n(17166),n(40169),n(89703),n(54e3),n(28377),n(40823),n(19040),n(89157),n(29184)),s=(n(73393),n(28951));n(26613),n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const u=(0,a.forwardRef)((function FontPicker(e,t){let{zIndex:n,onChange:u,currentValue:d,highlightStylesOverride:p,showDropdownLabel:f,listStyleOverrides:m,containerStyleOverrides:g,className:h,tabIndex:_}=e;const{fonts:b=[],recentFonts:y=[],curatedFonts:E=[],customFonts:T=[],ensureMenuFontsLoaded:S,ensureCustomFontsLoaded:w,getFontsBySearch:v,getCustomFonts:C,getCuratedFonts:I}=(0,s.default)((e=>{let{actions:t,state:n}=e;return{getFontsBySearch:t.getFontsBySearch,ensureMenuFontsLoaded:t.ensureMenuFontsLoaded,ensureCustomFontsLoaded:t.ensureCustomFontsLoaded,getCuratedFonts:t.getCuratedFonts,getCustomFonts:t.getCustomFonts,recentFonts:n.recentFonts,curatedFonts:n.curatedFonts,fonts:n.fonts,customFonts:n.customFonts}}));(0,a.useEffect)((()=>{C(),I()}),[C,I]);const A=(0,a.useMemo)((()=>{const e=new Map;return b.forEach((t=>{e.set(t.id,t)})),T?.forEach((t=>{e.set(t.id,t)})),e}),[b,T]),x=(0,a.useCallback)((e=>{e.length&&(S(e.filter((e=>"fonts.google.com"===A.get(e)?.service))),w(e.filter((e=>"custom"===A.get(e)?.service))))}),[A,w,S]),k=(0,a.useCallback)(((e,t)=>{let{option:n,...a}=e;return r.createElement(i.default.Option,c({ref:t},a,{fontFamily:"fonts.google.com"===n.service?`'${n.name}::MENU'`:n.name}),d===n.id&&r.createElement(i.default.Selected,{"aria-label":(0,o.__)("Selected","web-stories")}),n.name)}),[d]),P=(0,a.useMemo)((()=>[...T?.length?[{label:(0,o.__)("Your fonts","web-stories"),options:T}]:[],...y?.length?[{label:(0,o.__)("Recently used","web-stories"),options:y}]:[]]),[T,y]);return r.createElement(i.default.DropDown,{ref:t,zIndex:n,tabIndex:_,highlightStylesOverride:p,"data-testid":"font",title:(0,o.__)("Available font families","web-stories"),dropdownButtonLabel:(0,o.__)("Font family","web-stories"),options:b,primaryOptions:E,primaryLabel:(0,o.__)("Recommended","web-stories"),priorityOptionGroups:P,searchResultsLabel:(0,o.__)("Search results","web-stories"),selectedId:l.MULTIPLE_VALUE===d?"":d,placeholder:l.MULTIPLE_VALUE===d?l.MULTIPLE_DISPLAY_VALUE:d,hasSearch:!0,getOptionsByQuery:v,onChange:u,onObserve:x,renderer:(0,a.forwardRef)(k),disabled:!b?.length,dropDownLabel:f?(0,o.__)("Font","web-stories"):null,listStyleOverrides:m,containerStyleOverrides:g,className:h})}))},47299:(e,t,n)=>{n.d(t,{default:()=>DatePicker});var r=n(67294),a=n(35343),o=n(58804),i=n(58167),l=n(2825);const s=o.default.div.withConfig({displayName:"calendarWrapper__CalendarWrapper",componentId:"sc-u1av1j-0"})(["min-height:236px;.react-calendar{width:350px;max-width:100%;background:white;border:1px solid #a0a096;font-family:Arial,Helvetica,sans-serif;line-height:1.125em;}.react-calendar--doubleView{width:700px;}.react-calendar--doubleView .react-calendar__viewContainer{display:flex;margin:-0.5em;}.react-calendar--doubleView .react-calendar__viewContainer > *{width:50%;margin:0.5em;}.react-calendar,.react-calendar *,.react-calendar *:before,.react-calendar *:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;}.react-calendar button{margin:0;border:0;outline:none;}.react-calendar button:enabled:hover{cursor:pointer;}.react-calendar__navigation{display:flex;height:44px;margin-bottom:1em;}.react-calendar__navigation button{min-width:44px;background:none;}.react-calendar__navigation button:disabled{background-color:#f0f0f0;}.react-calendar__navigation button:enabled:hover,.react-calendar__navigation button:enabled:focus{background-color:#e6e6e6;}.react-calendar__month-view__weekdays{text-align:center;text-transform:uppercase;font-weight:bold;font-size:0.75em;}.react-calendar__month-view__weekdays__weekday{padding:0.5em;}.react-calendar__month-view__weekNumbers .react-calendar__tile{display:flex;align-items:center;justify-content:center;font-size:0.75em;font-weight:bold;}.react-calendar__month-view__days__day--weekend{color:#d10000;}.react-calendar__month-view__days__day--neighboringMonth{color:#757575;}.react-calendar__year-view .react-calendar__tile,.react-calendar__decade-view .react-calendar__tile,.react-calendar__century-view .react-calendar__tile{padding:2em 0.5em;}.react-calendar__tile{max-width:100%;padding:10px 6.6667px;background:none;text-align:center;line-height:16px;}.react-calendar__tile:disabled{background-color:#f0f0f0;}.react-calendar__tile:enabled:hover,.react-calendar__tile:enabled:focus{background-color:#e6e6e6;}.react-calendar__tile--now{background:#ffff76;}.react-calendar__tile--now:enabled:hover,.react-calendar__tile--now:enabled:focus{background:#ffffa9;}.react-calendar__tile--hasActive{background:#76baff;}.react-calendar__tile--hasActive:enabled:hover,.react-calendar__tile--hasActive:enabled:focus{background:#a9d4ff;}.react-calendar__tile--active{background:#006edc;color:white;}.react-calendar__tile--active:enabled:hover,.react-calendar__tile--active:enabled:focus{background:#1087ff;}.react-calendar--selectRange .react-calendar__tile--hover{background-color:#e6e6e6;}"]),c=(0,a.lazy)((()=>n.e(2392).then(n.bind(n,73)))),u=o.default.div.withConfig({displayName:"datePicker__FallbackCalendar",componentId:"sc-9qun1q-0"})(["height:256px;width:350px;display:flex;align-items:center;justify-content:center;"]);function DatePicker(e){let{currentDate:t,onChange:n,onViewChange:o}=e;const d=(0,a.useRef)(),p=(0,a.useMemo)((()=>new Date(t)),[t]),f=(0,a.useCallback)((e=>{e.setHours(p.getHours()),e.setMinutes(p.getMinutes()),n(e.toISOString(),!0)}),[p,n]),m=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(d.current){const t=[...d.current.querySelectorAll(".react-calendar__navigation button")];t[0].tabIndex="0",t.shift();for(const e of t)e.tabIndex="-1";const n=[...d.current.querySelectorAll(".react-calendar__viewContainer button")];let r=!1;for(const t of n)t.classList.contains("react-calendar__tile--now")?(t.tabIndex="0",e&&t.focus(),r=!0):t.tabIndex="-1";r||(n[0].tabIndex="0",n[0].focus())}}),[d]);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{m()}));return()=>{clearTimeout(e)}}),[m]),r.createElement(a.Suspense,{fallback:r.createElement(u,null,r.createElement(l.default,null))},r.createElement(s,{ref:d},r.createElement(c,{value:p,onChange:f,onViewChange:o,onActiveStartDateChange:()=>m(!0),nextAriaLabel:(0,i._x)("Next","This label can apply to next month, year and/or decade","web-stories"),prevAriaLabel:(0,i._x)("Previous","This label can apply to previous month, year and/or decade","web-stories"),next2AriaLabel:(0,i._x)("Jump forward","This label can apply to month, year and/or decade","web-stories"),prev2AriaLabel:(0,i._x)("Jump backwards","This label can apply to month, year and/or decade","web-stories")})))}},11912:(e,t,n)=>{n.d(t,{default:()=>TimePicker});var r=n(67294),a=n(58804),o=n(58167),i=n(35343),l=n(92790),s=n(58286),c=n(38421),u=n(71314),d=n(31271);const p=a.default.div.withConfig({displayName:"timeZone__Wrapper",componentId:"sc-1n80l1r-0"})(["white-space:nowrap;"]),f=(0,a.default)(s.Text).withConfig({displayName:"timeZone__StyledText",componentId:"sc-1n80l1r-1"})(["color:",";line-height:30px;"],(e=>{let{theme:t}=e;return t.colors.fg.disable}));function TimeZone(e){let{date:t}=e;const{timezone:n,gmtOffset:a}=(0,l.getSettings)(),i=(new Date).getTimezoneOffset()/60*-1;if(Number(a)===i)return null;const{timeZone:s}=(0,l.getOptions)(),m=n?.length?(0,l.format)(t,"T"):`UTC${s}`,g="UTC"===m?(0,o.__)("Coordinated Universal Time","web-stories"):n;return r.createElement(p,null,r.createElement(d.default,{hasTail:!0,title:g,placement:c.PLACEMENT.TOP},r.createElement(f,{forwardedAs:"span",size:u.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL},m)))}const m=a.default.div.withConfig({displayName:"timePicker__TimeWrapper",componentId:"sc-14og2kb-0"})(["margin-bottom:1em;padding:0 20px;"]),g=a.default.fieldset.withConfig({displayName:"timePicker__Fieldset",componentId:"sc-14og2kb-1"})(["margin-top:0.5em;position:relative;"]),h=a.default.legend.withConfig({displayName:"timePicker__Legend",componentId:"sc-14og2kb-2"})(["position:absolute;top:-999em;left:-999em;"]),_=a.default.div.withConfig({displayName:"timePicker__InputRow",componentId:"sc-14og2kb-3"})(["display:flex;"]),b=(0,a.css)(["min-height:30px;box-shadow:0 0 0 transparent;transition:box-shadow 0.1s linear;border-radius:4px;border:1px solid #006edc;height:28px;vertical-align:middle;background-color:",";color:#32373c;"],(e=>{let{theme:t}=e;return t.colors.standard.white})),y=a.default.input.withConfig({displayName:"timePicker__NumberInput",componentId:"sc-14og2kb-4"})([""," padding:0;margin-right:4px;text-align:center;width:50%;max-width:50px;::-webkit-inner-spin-button,::-webkit-outer-spin-button{margin:0;appearance:none;}"],b),E=a.default.span.withConfig({displayName:"timePicker__TimeSeparator",componentId:"sc-14og2kb-5"})(["padding:0 3px 0 0;color:#555d66;"]),T=a.default.button.withConfig({displayName:"timePicker__Button",componentId:"sc-14og2kb-6"})(["display:inline-flex;text-decoration:none;font-size:13px;margin:0;border:0;cursor:pointer;transition:box-shadow 0.1s linear;padding:0 10px;line-height:2;height:30px;border-radius:3px;white-space:nowrap;border-width:1px;border-style:solid;color:#006edc;border-color:#006edc;background:#f3f5f6;&:focus{outline:2px solid transparent;background:#f3f5f6;color:rgb(0,93,140);border-color:",";box-shadow:0 0 0 1px ",";text-decoration:none;}",""],(e=>{let{theme:t}=e;return t.colors.fg.linkHover}),(e=>{let{theme:t}=e;return t.colors.fg.linkHover}),(e=>{let{isToggled:t}=e;return t&&"\n  background: #edeff0;\n  border-color: #8f98a1;\n  box-shadow: inset 0 2px 5px -3px #555d66;\n  "})),S=a.default.div.withConfig({displayName:"timePicker__InputGroup",componentId:"sc-14og2kb-7"})(["flex-basis:100%;"]),w=(0,a.default)(T).withConfig({displayName:"timePicker__AMButton",componentId:"sc-14og2kb-8"})(["margin-right:-1px;border-radius:3px 0 0 3px;"]),v=(0,a.default)(T).withConfig({displayName:"timePicker__PMButton",componentId:"sc-14og2kb-9"})(["margin-left:-1px;border-radius:0 3px 3px 0;"]);function TimePicker(e){let{onChange:t,is12Hour:n,localData:a,setLocalData:l}=e;const s=e=>t=>{l({...a,[e]:parseInt(t.target.value)})},c=()=>n?12:23,u=()=>n?1:0,d=e=>{const{am:t}=a;return n?"AM"===t?e%12:(e%12+12)%24:e},p=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l({...a,...n,date:e}),t(e.toISOString())},f=e=>()=>{const{am:t,date:n,hours:r}=a;if(t===e)return;const o=n;"PM"===e?o.setHours((r%12+12)%24):o.setHours(r%12),p(o,{am:e})},b=(0,i.useRef)();(0,i.useEffect)((()=>{b.current.focus()}),[]);const T="AM"===a.am,C="PM"===a.am;return r.createElement(m,null,r.createElement(g,null,r.createElement(h,null,(0,o.__)("Time","web-stories")),r.createElement(_,null,r.createElement(S,null,r.createElement(y,{ref:b,"aria-label":(0,o.__)("Hours","web-stories"),type:"number",step:1,min:u(),max:c(),value:parseInt(a.hours),onChange:s("hours"),onBlur:()=>{const{hours:e,date:t}=a,n=parseInt(e);if(!(isNaN(n)||n<u()||n>c())&&t.getHours()!==d(e)){const n=t;n.setHours(d(e)),p(n)}}}),r.createElement(E,null,":"),r.createElement(y,{"aria-label":(0,o.__)("Minutes","web-stories"),type:"number",min:0,max:59,value:parseInt(a.minutes),onChange:s("minutes"),onBlur:()=>{const{minutes:e,date:t}=a,n=parseInt(e);if(!(isNaN(n)||n<0||n>59)&&t.getMinutes()!==e){const n=t;n.setMinutes(e),p(n)}}})),n&&r.createElement(S,null,r.createElement(w,{"aria-pressed":T,type:"button",isToggled:T,onClick:f("AM")},(0,o.__)("AM","web-stories")),r.createElement(v,{"aria-pressed":C,type:"button",isToggled:C,tabIndex:"-1",onClick:f("PM")},(0,o.__)("PM","web-stories"))),r.createElement(TimeZone,{date:a?.date}))))}},13618:(e,t,n)=>{n.d(t,{default:()=>MediaUploadButton});var r=n(67294),a=n(27227),o=n(35343),i=n(97775),l=n(58167),s=n(65197),c=n(94955),u=(n(55537),n(84296),n(17166),n(40169),n(89703),n(54e3),n(28377),n(97506)),d=(n(40823),n(19040),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(93909),n(39751),n(9219),n(79074)),p=(n(12221),n(41657),n(249),n(32696),n(88476)),f=n(49599);n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859);function MediaUploadButton(e){let{onInsert:t,renderButton:n,buttonInsertText:m}=e;const{allowedMimeTypes:{image:g,vector:h,video:_},MediaUpload:b}=(0,u.default)(),y=(0,o.useMemo)((()=>[...g,...h,..._]),[g,h,_]),E=(0,o.useMemo)((()=>y.map((e=>(0,i.getExtensionsFromMimeType)(e))).flat()),[y]),{canTranscodeResource:T,resetWithFetch:S,postProcessingResource:w,optimizeVideo:v,optimizeGif:C}=(0,p.default)((e=>{let{state:{canTranscodeResource:t},actions:{resetWithFetch:n,postProcessingResource:r,optimizeVideo:a,optimizeGif:o}}=e;return{canTranscodeResource:t,resetWithFetch:n,postProcessingResource:r,optimizeVideo:a,optimizeGif:o}})),{isTranscodingEnabled:I}=(0,d.default)(),{showSnackbar:A}=(0,a.useSnackbar)(),x=(0,o.useMemo)((()=>I?[...f.TRANSCODABLE_MIME_TYPES,...g,...h,..._]:[...g,...h,..._]),[g,h,_,I]),k=(0,o.useMemo)((()=>f.TRANSCODABLE_MIME_TYPES.filter((e=>!_.includes(e)))),[_]);let P=(0,l.__)("No file types are currently supported.","web-stories");E.length&&(P=(0,s.default)(
/* translators: %s: list of allowed file types. */
(0,l.__)("Please choose only %s to insert into page.","web-stories"),(0,c.default)(E)));const N=(0,o.useCallback)((e=>{try{I&&T(e)&&(k.includes(e.mimeType)&&v({resource:e}),"image/gif"===e.mimeType&&C({resource:e})),t(e),w(e)}catch(e){A({message:e.message,dismissible:!0})}}),[I,T,t,C,v,w,A,k]);return r.createElement(b,{onSelect:N,onSelectErrorMessage:P,onClose:S,type:x,render:n,buttonInsertText:m})}},12706:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(35343),a=n(8684);function o(e){const t=(0,r.useCallback)((t=>{const n=e.current;if(!n)return;const r=Array.from(n.querySelectorAll('input[type="radio"]')),a=r.indexOf(document.activeElement);if(-1===a)return;const o=a+t;o<0||o>=r.length||(r[o].focus(),r[o].click())}),[e]),n=(0,r.useCallback)((()=>t(-1)),[t]);(0,a.useKeyDownEffect)(e,["up","left"],n,[n]);const o=(0,r.useCallback)((()=>t(1)),[t]);(0,a.useKeyDownEffect)(e,["down","right"],o,[o])}},43304:(e,t,n)=>{n.d(t,{ACTIONS:()=>s,deepEquals:()=>l,default:()=>c});var r=n(61342),a=n(7328);function o(e){return e.replace(/( +)/g," ").trim()}function i(e){const t=new Map;return e.forEach((e=>{t.set((0,a.default)(e),e)})),[...t.values()]}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length===t.length&&e.every((e=>t.includes(e)))}const s={UPDATE_VALUE:"updateValue",SUBMIT_VALUE:"submitValue",REMOVE_TAG:"removeTag",RESET_OFFSET:"resetOffset",RESET_VALUE:"resetValue",INCREMENT_OFFSET:"incrementOffset",DECREMENT_OFFSET:"decrementOffset",UPDATE_TAGS:"updateTags"};function c(e,t){switch(t.type){case s.UPDATE_VALUE:{const n=t.payload.split(",");if(n.length<=1)return{...e,value:t.payload};const r=n.slice(0,-1).map(o).filter((e=>e.length)),a=n[n.length-1];return function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>e.includes(t)))}(r,e.tags)?{...e,value:a}:{...e,value:a,tagBuffer:i([...e.tags.slice(0,e.tags.length-e.offset),...r,...e.tags.slice(e.tags.length-e.offset)])}}case s.SUBMIT_VALUE:{const n=o(t?.payload||e.value);return""===n||e.tags.includes(n)?{...e,value:""}:{...e,value:"",tagBuffer:i([...e.tags.slice(0,e.tags.length-e.offset),n,...e.tags.slice(e.tags.length-e.offset)])}}case s.REMOVE_TAG:{const n="string"==typeof t.payload?e.tags.findIndex((e=>e===t.payload)):e.tags.length-1-e.offset;return n<0?e:{...e,tagBuffer:[...e.tags.slice(0,n),...e.tags.slice(n+1,e.tags.length)]}}case s.INCREMENT_OFFSET:return{...e,offset:(0,r.clamp)(e.offset+1,{MIN:0,MAX:e.tags.length})};case s.DECREMENT_OFFSET:return{...e,offset:(0,r.clamp)(e.offset-1,{MIN:0,MAX:e.tags.length})};case s.RESET_OFFSET:return{...e,offset:0};case s.RESET_VALUE:return{...e,value:""};case s.UPDATE_TAGS:{const n=e.tags.map((e=>[(0,a.default)(e),e])),r=t.payload.map((e=>[(0,a.default)(e),e]));if(l(n.map((e=>{let[t]=e;return t})),r.map((e=>{let[t]=e;return t}))))return e;const o=n.filter((e=>{let[t]=e;return r.map((e=>{let[t]=e;return t})).includes(t)})).map((e=>{let[,t]=e;return t})),i=r.filter((e=>{let[t]=e;return!n.map((e=>{let[t]=e;return t})).includes(t)})).map((e=>{let[,t]=e;return t}));return{...e,tags:[...o,...i],tagBuffer:null}}default:return e}}},56453:(e,t,n)=>{n.d(t,{default:()=>i});var r=n(35343),a=n(27646);function o(e){return(0,r.useContextSelector)(a.default,e??r.identity)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=o((e=>e.registerPresubmitHandler));(0,r.useEffect)((()=>n(e)),[n].concat(t||[]))}},16852:(e,t,n)=>{n.d(t,{PANEL_COLLAPSED_THRESHOLD:()=>p,default:()=>Panel});var r=n(67294),a=n(58804),o=n(44586),i=n(35343),l=n(26613),s=n(58945),c=(n(89157),n(29184),n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(54e3),n(28377),n(40823),n(40169),n(89703),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(84401)),u=n(36791);function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const p=10,f=999999999,m=a.default.section.withConfig({displayName:"panel__Wrapper",componentId:"sc-1vyy7rt-0"})(["display:flex;flex-direction:column;position:relative;border-bottom:1px solid ",";",""],(e=>{let{theme:t}=e;return t.colors.divider.tertiary}),(e=>{let{noBorder:t}=e;return t&&"border-bottom: none;"}));function Panel(e){let{name:t,children:n,resizable:a=!1,showDragHandle:p,showFocusStyles:g,canCollapse:h=!0,collapsedByDefault:_=!0,initialHeight:b=null,maxHeight:y=f,ariaLabel:E=null,ariaHidden:T=!1,isPersistable:S=!0,...w}=e;const v=0===y?f:y,{selectedElementIds:C}=(0,c.default)((e=>{let{state:{selectedElementIds:t}}=e;return{selectedElementIds:t}})),I=(0,i.useMemo)((()=>S?s.default.getItemByKey(`${s.LOCAL_STORAGE_PREFIX.PANEL}:${t}`):null),[t,S]),[A,x]=(0,i.useState)((()=>!!S&&(I?.isCollapsed??_))),[k,P]=(0,i.useState)(Math.min(I?.expandToHeight,v)||b),[N,O]=(0,i.useState)(Math.min(I?.height,v)||b),[L,M]=(0,i.useState)(!1),[R,B]=(0,i.useState)(!1),U=(0,i.useCallback)((e=>{O(Math.min(e,v))}),[v]),H=(0,i.useCallback)((e=>{P(Math.min(e,v))}),[v]),D=(0,i.useCallback)((()=>M(!0)),[]),F=(0,i.useCallback)((()=>{h&&(x(!0),B(!0),a&&U(0),(0,l.trackEvent)("panel_toggled",{name:t,status:"collapsed"}))}),[a,h,t,U]),Y=(0,i.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];x(!1),B(!0),e&&a&&U(k),(0,l.trackEvent)("panel_toggled",{name:t,status:"expanded"})}),[a,k,t,U]);(0,i.useEffect)((()=>{S||Y(!0)}),[Y,S,C]),(0,i.useEffect)((()=>{a&&N<=10&&!A&&F()}),[F,N,a,A]),(0,i.useEffect)((()=>{R||I||!a||(U(b),H(b))}),[R,b,a,I,t,H,U]),(0,i.useEffect)((()=>{v<N&&U(v),v<k&&H(v)}),[k,N,v,U,H]),(0,i.useEffect)((()=>{S&&R&&s.default.setItemByKey(`${s.LOCAL_STORAGE_PREFIX.PANEL}:${t}`,{height:N,isCollapsed:A,expandToHeight:k})}),[t,A,N,k,R,S]);const z=(0,i.useCallback)((e=>{a&&(B(!0),U(Math.min(e(N),v)),A&&e(N)>10&&Y(!1))}),[Y,N,A,v,a,U,B]),j=(0,i.useCallback)((()=>{B(!1),A&&Y(!0)}),[Y,A]),$=`panel-${t}-${(0,o.default)()}`,W=`panel-title-${t}-${(0,o.default)()}`,G={state:{height:N,resizable:a,showDragHandle:p,showFocusStyles:g,isCollapsed:A,panelContentId:$,panelTitleId:W,panelTitleReadable:`panel-title-${t}`,ariaHidden:T},actions:{setHeight:z,setExpandToHeight:H,collapse:F,expand:Y,resetHeight:j,confirmTitle:D}},V=u.default.Provider,Z=(0,i.useMemo)((()=>L?{"aria-labelledby":W}:{"aria-label":E}),[L,W,E]);return r.createElement(m,d({},Z,{"aria-hidden":T},w),r.createElement(V,{value:G},n))}},42854:(e,t,n)=>{n.d(t,{default:()=>SimplePanel});var r=n(67294),a=n(16852),o=n(12983),i=n(52284);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function SimplePanel(e){let{children:t,name:n,ariaLabel:s,title:c,className:u,...d}=e;return r.createElement(a.default,l({name:n},d),r.createElement(o.default,l({ariaLabel:s??("string"==typeof c?c:"")},d),c),r.createElement(i.default,{className:u},t))}},54806:(e,t,n)=>{n.d(t,{default:()=>BackgroundAudioPanelContent});var r=n(67294),a=n(58804),o=n(90949),i=n(77904),l=n(44477),s=n(16087),c=n(65197),u=n(58167),d=n(94955),p=n(35343),f=n(97775),m=n(44586),g=(n(46345),n(55537),n(84296),n(17166),n(40169),n(89703),n(54e3),n(28377),n(97506)),h=(n(40823),n(19040),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859),n(36363)),_=(n(46123),n(93206),n(18800),n(40238),n(57346),n(8897)),b=(n(92056),n(42009),n(27646),n(91935),n(63632),n(73978),n(39737),n(47011),n(71314)),y=n(56782),E=n(33836),T=n(207),S=n(31271),w=n(28841);const v=(0,a.default)(o.Button).withConfig({displayName:"audioPlayer__StyledButton",componentId:"sc-cot87i-0"})(["",";"],(e=>{let{theme:t}=e;return s.focusableOutlineCSS(t.colors.border.focus,t.colors.bg.secondary)})),C=a.default.div.withConfig({displayName:"audioPlayer__Wrapper",componentId:"sc-cot87i-1"})((e=>{let{theme:t}=e;return(0,a.css)(["position:relative;min-width:40px;width:100%;height:36px;display:flex;align-items:center;justify-content:space-between;color:",";",";"],t.colors.fg.primary,T.expandPresetStyles({preset:{...t.typography.presets.paragraph[b.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL]},theme:t}))})),I=a.default.audio.withConfig({displayName:"audioPlayer__Audio",componentId:"sc-cot87i-2"})(["display:none;"]);function AudioPlayer(e){let{title:t,src:n,mimeType:a,tracks:o=[],audioId:l,loop:s}=e;const[c,d]=(0,p.useState)(!1),f=(0,p.useRef)(),{getProxiedUrl:m}=(0,w.default)(),g=(0,p.useCallback)((()=>{const e=f.current;e&&(c?e.pause():e.play().catch((()=>{})))}),[c]);(0,p.useEffect)((()=>{const e=f.current;if(!e)return;const t=()=>d(!0),n=()=>d(!1),r=()=>{e.currentTime=0,d(!1)};return e.addEventListener("play",t),e.addEventListener("pause",n),e.addEventListener("ended",r),()=>{e.removeEventListener("play",t),e.removeEventListener("pause",n),e.removeEventListener("ended",r)}}),[f]);const _=(0,u.__)(c?"Pause":"Play","web-stories"),b=o.map((e=>{const t=m(e,e?.track);return{...e,track:t}}));return r.createElement(C,null,r.createElement(I,{crossOrigin:"anonymous",loop:s,ref:f,id:l},r.createElement("source",{src:n,type:a}),b&&b.map(((e,t)=>{let{srclang:n,label:a,track:o,id:i}=e;return r.createElement("track",{srcLang:n,label:a,kind:"metadata",src:o,key:i,default:0===t})}))),r.createElement("div",null,t),r.createElement(S.default,{hasTail:!0,title:_,popupZIndexOverride:h.Z_INDEX_STORY_DETAILS},r.createElement(v,{type:i.BUTTON_TYPES.TERTIARY,size:i.BUTTON_SIZES.SMALL,variant:i.BUTTON_VARIANTS.SQUARE,"aria-label":_,onClick:g},c?r.createElement(y.default,null):r.createElement(E.default,null))))}var A=n(5306),x=n(94438);const k=(0,a.default)(o.Button).withConfig({displayName:"backgroundAudioPanelContent__StyledButton",componentId:"sc-lth4t7-0"})(["",";"],(e=>{let{theme:t}=e;return s.focusableOutlineCSS(t.colors.border.focus,t.colors.bg.secondary)})),P=(0,a.default)(k).withConfig({displayName:"backgroundAudioPanelContent__UploadButton",componentId:"sc-lth4t7-1"})(["padding:12px 8px;"]);function BackgroundAudioPanelContent(e){let{backgroundAudio:t,updateBackgroundAudio:n,showCaptions:a=!1,showLoopControl:o=!1,audioId:s}=e;const{allowedMimeTypes:{audio:b},capabilities:{hasUploadMediaAction:y},MediaUpload:E}=(0,g.default)(),T=(0,p.useMemo)((()=>b.map((e=>(0,f.getExtensionsFromMimeType)(e))).flat()),[b]),{resource:w,tracks:v=[],loop:C=!0}=t||{},I=(0,c.default)(
/* translators: %s: list of allowed file types. */
(0,u.__)("Please choose only %s to insert into page.","web-stories"),(0,d.default)(T)),N=(0,p.useCallback)((e=>{const t={resource:{src:e.src,id:e.id,mimeType:e.mimeType,length:e.length,lengthFormatted:e.lengthFormatted}};a&&(t.tracks=[]),o&&(t.loop=!0),n(t)}),[a,o,n]),O=(0,p.useCallback)((e=>{n({...t,tracks:e})}),[t,n]),L=(0,p.useCallback)((e=>{n({...t,loop:e.target.checked})}),[t,n]),M=(0,p.useCallback)((e=>{let t=[];if(e){const n=v.findIndex((t=>{let{id:n}=t;return n===e}));t=[...v.slice(0,n),...v.slice(n+1)]}O(t)}),[v,O]),R=(0,p.useCallback)((e=>{let{src:t="",id:n,needsProxy:r=!1}=e;const a={track:t,trackId:n,trackName:t.split("/").pop(),id:(0,m.default)(),kind:"captions",srclang:"",label:"",needsProxy:r};O([...v,a])}),[v,O]),B=(0,p.useCallback)((e=>r.createElement(P,{onClick:e,type:i.BUTTON_TYPES.SECONDARY,size:i.BUTTON_SIZES.SMALL,variant:i.BUTTON_VARIANTS.RECTANGLE},(0,u.__)("Upload an audio file","web-stories"))),[]),U=(0,u.__)("Upload audio captions","web-stories"),H=(0,p.useCallback)((e=>r.createElement(P,{onClick:e,type:i.BUTTON_TYPES.SECONDARY,size:i.BUTTON_SIZES.SMALL,variant:i.BUTTON_VARIANTS.RECTANGLE},U)),[U]);return r.createElement(r.Fragment,null,!w?.src&&y&&r.createElement(_.default,{expand:!0},r.createElement(E,{onSelect:N,onSelectErrorMessage:I,type:b,title:(0,u.__)("Upload an audio file","web-stories"),buttonInsertText:(0,u.__)("Select audio file","web-stories"),render:B})),w?.src&&r.createElement(r.Fragment,null,r.createElement(_.default,null,r.createElement(AudioPlayer,{title:w?.src.substring(w?.src.lastIndexOf("/")+1),src:w?.src,mimeType:w?.mimeType,tracks:v,audioId:s,loop:C}),r.createElement(S.default,{hasTail:!0,title:(0,u.__)("Remove file","web-stories"),popupZIndexOverride:h.Z_INDEX_STORY_DETAILS},r.createElement(k,{"aria-label":(0,u.__)("Remove file","web-stories"),type:i.BUTTON_TYPES.TERTIARY,size:i.BUTTON_SIZES.SMALL,variant:i.BUTTON_VARIANTS.SQUARE,onClick:()=>n(null)},r.createElement(l.default,null)))),a&&r.createElement(A.default,{captionText:U,tracks:v||[],handleChangeTrack:R,handleRemoveTrack:M,renderUploadButton:H}),o&&w?.length&&r.createElement(_.default,{spaceBetween:!1},r.createElement(x.default,{loop:C,onChange:L}))))}},5306:(e,t,n)=>{n.d(t,{default:()=>CaptionsPanelContent});var r=n(67294),a=n(58804),o=n(78955),i=n(90949),l=n(77904),s=n(44477),c=n(16087),u=n(58167),d=n(35343),p=n(97775),f=n(1745),m=(n(46123),n(93206),n(18800),n(40238),n(57346),n(55537),n(84296),n(17166),n(40169),n(89703),n(54e3),n(28377),n(97506)),g=(n(40823),n(19040),n(89157),n(29184)),h=(n(73393),n(26613)),_=(n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859),n(8897)),b=(n(92056),n(42009),n(27646),n(91935),n(63632),n(73978),n(39737),n(47011),n(31271)),y=n(64428),E=n(65197),T=n(94955),S=n(50907),w=n(65744),v=n(91662),C=n(47390),I=n(28841);const A=a.default.form.withConfig({displayName:"hotlinkModal__InputWrapper",componentId:"sc-bvssi1-0"})(["margin:16px 4px;width:470px;height:100px;"]);function HotlinkModal(e){let{isOpen:t,onClose:n,onSelect:a,allowedFileTypes:i=[],title:l}=e;const[s,c]=(0,d.useState)(!1),[p,f]=(0,d.useState)(""),[m,g]=(0,d.useState)(!1),_=(0,d.useRef)(null),{actions:{getHotlinkInfo:b}}=(0,C.default)(),{checkResourceAccess:y}=(0,I.default)(),x=m||!p||s,k=(0,u.__)(s?"Inserting…":"Insert","web-stories");let P=(0,u.__)("No file types are currently supported.","web-stories");i.length&&(P=(0,E.default)(
/* translators: %s is a list of allowed file extensions. */
(0,u.__)("You can insert %s.","web-stories"),(0,T.default)(i))),(0,d.useLayoutEffect)((()=>{const e=setTimeout((()=>{t&&_.current&&_.current.focus()}));return()=>clearTimeout(e)}),[t,_]);const N=(0,d.useCallback)((()=>{if(p?.length>0){const e=(0,S.withProtocol)(p);f(e),(0,v.isValidUrlForHotlinking)(e)||g((0,u.__)("Invalid link.","web-stories"))}}),[p]),O=(0,d.useCallback)((e=>{m&&g(null),f(e)}),[f,m]),L=(0,d.useCallback)((async()=>{if(p)if((0,v.isValidUrlForHotlinking)(p)){c(!0);try{const e=await b(p),t=await y(p);(0,h.trackEvent)("hotlink_file",{event_label:p,file_size:e.fileSize,file_type:e.mimeType,needs_proxy:t}),a({src:p,needsProxy:t})}catch(e){(0,h.trackError)("hotlink_file",e?.message),g((0,v.getErrorMessage)(e.code,P))}finally{c(!1)}}else g((0,u.__)("Invalid link.","web-stories"))}),[P,a,p,b,g,y]),M=(0,d.useCallback)((e=>{e.preventDefault(),x||L()}),[x,L]);return r.createElement(w.default,{onClose:()=>{n(),f(""),g(!1),c(!1)},isOpen:t,title:l,onPrimary:()=>L(),primaryText:k,secondaryText:(0,u.__)("Cancel","web-stories"),primaryRest:{disabled:x}},r.createElement(A,{onSubmit:M},r.createElement(o.Input,{ref:_,onChange:e=>{let{target:{value:t}}=e;return O(t)},value:p,hint:m?.length?m:P,hasError:Boolean(m?.length),onBlur:N,label:(0,u.__)("URL","web-stories"),type:"url",required:!0})))}const x=a.default.div.withConfig({displayName:"captionsPanelContent__InputRow",componentId:"sc-17hyw65-0"})(["display:flex;flex-grow:1;margin-right:8px;"]),k=(0,a.default)(_.default).withConfig({displayName:"captionsPanelContent__ButtonRow",componentId:"sc-17hyw65-1"})(["gap:12px;"]),P=(0,a.default)(o.Input).withConfig({displayName:"captionsPanelContent__StyledFileInput",componentId:"sc-17hyw65-2"})((e=>{let{$isIndeterminate:t,theme:n}=e;return(0,a.css)(["",";",";"],y.focusStyle,!t&&(0,a.css)(["* > input:disabled{color:",";}"],n.colors.fg.primary))})),N=(0,a.default)(i.Button).withConfig({displayName:"captionsPanelContent__StyledButton",componentId:"sc-17hyw65-3"})(["",";"],(e=>{let{theme:t}=e;return c.focusableOutlineCSS(t.colors.border.focus,t.colors.bg.secondary)})),O=(0,a.default)(i.Button).withConfig({displayName:"captionsPanelContent__HotlinkButton",componentId:"sc-17hyw65-4"})(["padding:12px 8px;"]);function CaptionsPanelContent(e){let{isIndeterminate:t=!1,tracks:n=[],captionText:a=(0,u.__)("Upload a file","web-stories"),handleChangeTrack:o,handleRemoveTrack:i,renderUploadButton:c,clearFileText:h=(0,u.__)("Remove file","web-stories")}=e;const{allowedMimeTypes:{caption:y=[]},capabilities:{hasUploadMediaAction:E},MediaUpload:T}=(0,m.default)(),[S,w]=(0,d.useState)(!1),v=(0,f.useFeature)("captionHotlinking"),C=(0,d.useMemo)((()=>y.map((e=>(0,p.getExtensionsFromMimeType)(e))).flat()),[y]);return y?.length?r.createElement(r.Fragment,null,t&&r.createElement(_.default,null,r.createElement(P,{value:g.MULTIPLE_DISPLAY_VALUE,disabled:!0,"aria-label":(0,u.__)("Filename","web-stories"),onChange:()=>i(),$isIndeterminate:t})),n.map((e=>{let{id:t,trackName:n}=e;return r.createElement(_.default,{key:`row-filename-${t}`},r.createElement(x,null,r.createElement(P,{value:n,"aria-label":(0,u.__)("Filename","web-stories"),onChange:()=>i(t),disabled:!0})),r.createElement(b.default,{hasTail:!0,title:h},r.createElement(N,{"aria-label":h,type:l.BUTTON_TYPES.TERTIARY,size:l.BUTTON_SIZES.SMALL,variant:l.BUTTON_VARIANTS.SQUARE,onClick:()=>i(t)},r.createElement(s.default,null))))})),!n.length&&!t&&r.createElement(k,{spaceBetween:!1},E&&r.createElement(T,{onSelect:o,onSelectErrorMessage:(0,u.__)("Please choose a VTT file to use as caption.","web-stories"),type:y,title:a,buttonInsertText:(0,u.__)("Select caption","web-stories"),render:c}),v&&r.createElement(r.Fragment,null,r.createElement(O,{variant:l.BUTTON_VARIANTS.RECTANGLE,type:l.BUTTON_TYPES.SECONDARY,size:l.BUTTON_SIZES.SMALL,onClick:()=>w(!0)},(0,u.__)("Link to file","web-stories")),r.createElement(HotlinkModal,{title:(0,u.__)("Insert external captions","web-stories"),isOpen:S,onSelect:e=>{o(e),w(!1)},onClose:()=>w(!1),allowedFileTypes:C})))):null}},5053:(e,t,n)=>{n.d(t,{default:()=>a});var r=n(65426);function a(e,t,n){const a={},o=e.map((e=>e[t]||n));return Object.keys(n).forEach((e=>{a[e]=(0,r.default)(o,e)})),a}},65426:(e,t,n)=>{n.d(t,{default:()=>a});n(89157);var r=n(29184);function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const a="function"==typeof t?t:e=>e[t],i=o(a(e[0]),n),l=e.every((e=>o(a(e),n)===i));return l?i:r.MULTIPLE_VALUE}function o(e,t){return void 0===e?t:e}},94438:(e,t,n)=>{n.d(t,{default:()=>LoopPanelContent});var r=n(67294),a=n(44586),o=n(58167),i=n(2161),l=n(19977),s=n(58286),c=n(71314),u=n(58804),d=n(35343);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}const f=(0,u.default)(i.Checkbox).withConfig({displayName:"loopPanelContent__StyledCheckbox",componentId:"sc-lp7bl3-0"})(["",""],(e=>{let{theme:t}=e;return`\n    input[type='checkbox']&.${l.FOCUS_VISIBLE_SELECTOR} ~ div, input[type='checkbox']:focus ~ div {\n      box-shadow: 0px 0px 0 2px ${t.colors.bg.secondary}, 0px 0px 0 4px ${t.colors.border.focus} !important;\n    }\n  `})),m=u.default.div.withConfig({displayName:"loopPanelContent__Wrapper",componentId:"sc-lp7bl3-1"})(["display:flex;gap:12px;"]);function LoopPanelContent(e){let{loop:t,className:n="",onChange:i,...l}=e;const u=(0,d.useInitializedValue)((()=>`cb-${(0,a.default)()}`));return r.createElement(m,{className:n},r.createElement(f,p({id:u,checked:t,onChange:i},l)),r.createElement("label",{htmlFor:u},r.createElement(s.Text,{as:"span",size:c.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},(0,o.__)("Loop","web-stories"))))}},64428:(e,t,n)=>{n.d(t,{focusStyle:()=>o,inputContainerStyleOverride:()=>i});var r=n(58804),a=n(16087);const o=(0,r.css)(["",";"],(e=>{let{theme:t}=e;return a.focusableOutlineCSS(t.colors.border.focus,t.colors.bg.secondary)})),i=(0,r.css)([":focus-within{",";}"],(e=>{let{theme:t}=e;return a.focusCSS(t.colors.border.focus,t.colors.bg.secondary)}))},63214:(e,t,n)=>{n.d(t,{default:()=>l});var r=n(35343),a=n(72920),o=n(31393),i=(n(89157),n(29184));function l(e,t){return(0,r.useMemo)((()=>{const n=e.map((e=>e[t]));if(0===n.length)return null;if(1===n.length)return n[0];const r={};return n.forEach((e=>{const t=(0,a.default)((0,o.default)(e));t in r||(r[t]=e)})),1===Object.keys(r).length?Object.values(r)[0]:i.MULTIPLE_VALUE}),[e,t])}},29059:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(35343),a=n(5053);function o(e,t,n){const o=(0,a.default)(e,t,n),i=Object.keys(n).map((e=>o[e]));return(0,r.useMemo)((()=>o),i)}},24035:(e,t,n)=>{n.d(t,{default:()=>r});var r=(0,n(35343).createContext)({state:{},actions:{},tabs:{},refs:{}})},35185:(e,t,n)=>{n.d(t,{PANEL_STATES:()=>r});const r={NORMAL:"normal",DANGER:"danger"}},80439:(e,t,n)=>{n(67294),n(46345),n(28841),n(55537),n(84296),n(35343),n(17166),n(40169),n(89703),n(54e3),n(28377),n(40823),n(19040),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(84401),n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859)},89574:(e,t,n)=>{n.d(t,{THUMBNAIL_DIMENSIONS:()=>a,THUMBNAIL_SCRIM_CLASSNAME:()=>i,THUMBNAIL_SHOW_ON_HOVER_FOCUS:()=>l,THUMBNAIL_TYPES:()=>o});var r=n(58167);const a={WIDTH:52,HEIGHT:78,NESTED_ICON:32,THUMBNAIL_SHAPE:36},o={VIDEO:"VIDEO",IMAGE:"IMAGE",TEXT:"TEXT",SHAPE:"SHAPE",PAGE:"PAGE"},i="thumbnail-scrim",l="thumbnail-show-hover-focus";(0,r.__)("Loading","web-stories")},50014:(e,t,n)=>{n.d(t,{Container:()=>l});var r=n(45697),a=n.n(r),o=n(58804),i=n(89574);const l=o.default.button.withConfig({displayName:"styles__Container",componentId:"sc-jiqsnn-0"})((e=>{let{theme:t,$isError:n,$isOverflow:r}=e;return(0,o.css)(["position:relative;display:flex;align-items:center;justify-content:center;width:","px;height:","px;padding:0;outline:none;border:none;border-radius:",";background-color:",";cursor:pointer;.","{display:none;}&:hover{.","{display:flex;}}"," &:focus,&:focus-within{.","{display:flex;}.","{background-color:",";border:1px solid ",";}}"],i.THUMBNAIL_DIMENSIONS.WIDTH,i.THUMBNAIL_DIMENSIONS.HEIGHT,t.borders.radius.small,r?t.colors.interactiveBg.secondaryNormal:"transparent",i.THUMBNAIL_SHOW_ON_HOVER_FOCUS,i.THUMBNAIL_SHOW_ON_HOVER_FOCUS,n&&(0,o.css)([".","{border:1px solid ",";background-color:",";}&:hover .","{background-color:",";}"],i.THUMBNAIL_SCRIM_CLASSNAME,t.colors.border.negativeNormal,t.colors.opacity.black24,i.THUMBNAIL_SCRIM_CLASSNAME,t.colors.opacity.black24),i.THUMBNAIL_SHOW_ON_HOVER_FOCUS,i.THUMBNAIL_SCRIM_CLASSNAME,t.colors.opacity.black64,t.colors.border[n?"negativeNormal":"focus"])}));l.propTypes={$isError:a().bool};o.default.div.withConfig({displayName:"styles__Background",componentId:"sc-jiqsnn-1"})((e=>{let{theme:t,$isShape:n,$isPage:r}=e;return(0,o.css)(["width:100%;height:100%;display:flex;border-radius:",";& > img,& > video{width:100%;height:100%;object-fit:cover;border-radius:",";}& > div{display:flex;height:100%;margin:0 auto;align-items:center;justify-content:center;align-self:center;color:",";}"," ",""],t.borders.radius.small,t.borders.radius.small,t.colors.fg.primary,n&&(0,o.css)(["& > div{width:","px;height:","px;& > div{width:100%;height:100%;}}"],i.THUMBNAIL_DIMENSIONS.THUMBNAIL_SHAPE,i.THUMBNAIL_DIMENSIONS.THUMBNAIL_SHAPE),r&&(0,o.css)([".pagePreviewOverrides{border-color:none;&::after{content:none;border:none;}}& > div > div{width:100%;}"]))})).propTypes={$isPage:a().bool,$isShape:a().bool};o.default.div.withConfig({displayName:"styles__NestedIconContainer",componentId:"sc-jiqsnn-2"})((e=>{let{theme:t,$isError:n}=e;return(0,o.css)(["display:flex;position:absolute;top:0;width:100%;height:100%;align-items:center;justify-content:center;z-index:5;& > div{margin:auto;width:","px;}svg{width:100%;height:auto;","}"],i.THUMBNAIL_DIMENSIONS.NESTED_ICON,n&&(0,o.css)(["color:",";"],t.colors.fg.negative))})).propTypes={$isError:a().bool};o.default.div.withConfig({displayName:"styles__Scrim",componentId:"sc-jiqsnn-3"})((e=>{let{theme:t,$showDefaultBackground:n}=e;return(0,o.css)(["position:absolute;box-sizing:border-box;top:0;width:100%;height:100%;border:1px solid transparent;border-radius:",";z-index:2;",";&:hover{background-color:",";}"],t.borders.radius.small,n&&(0,o.css)(["background-color:",";"],t.colors.opacity.black24),t.colors.opacity.black64)})).propTypes={$showDefaultBackground:a().bool}},50097:(e,t,n)=>{n(67294);var r=n(89574);n(50014);r.THUMBNAIL_TYPES.SHAPE,r.THUMBNAIL_TYPES.TEXT},59042:(e,t,n)=>{n.d(t,{ToggleButton:()=>y});var r=n(67294),a=n(45697),o=n.n(a),i=n(58804),l=n(90949),s=n(207),c=n(71314),u=n(58286),d=n(55859),p=n(38421),f=n(77904),m=n(35343);function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}const h=(0,i.default)(l.Button).withConfig({displayName:"toggleButton__Button",componentId:"sc-1de7s10-0"})(["height:36px;width:","px;display:inline-block;border:1px solid ",";padding:2px 0;color:",";"," ",""],(e=>{let{isSquare:t}=e;return t?36:58}),(e=>{let{theme:t}=e;return t.colors.border.defaultNormal}),(e=>{let{theme:t}=e;return t.colors.fg.primary}),(e=>{let{isOpen:t,theme:n}=e;return t&&(0,i.css)(["border-color:",";background-color:",";"],n.colors.bg.secondary,n.colors.bg.secondary)}),(e=>{let{hasText:t,theme:n}=e;return t&&(0,i.css)(["padding:2px 0 2px 8px;width:auto;",";span{padding-left:6px;}"],s.expandPresetStyles({preset:{...n.typography.presets.paragraph[c.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL]},theme:n}))}));h.propTypes={hasText:o().bool,isOpen:o().bool};const _=i.default.div.withConfig({displayName:"toggleButton__Wrapper",componentId:"sc-1de7s10-1"})(["width:100%;height:100%;display:flex;justify-content:space-around;align-items:center;"]),b=(0,i.default)(u.Text).attrs({as:"span"}).withConfig({displayName:"toggleButton__NotificationCount",componentId:"sc-1de7s10-2"})(["margin:-2px 0 -2px;padding-right:6px;line-height:20px;color:",";"],(e=>{let{theme:t}=e;return t.colors.violet[20]})),y=(0,m.forwardRef)(((e,t)=>{let{copy:n,isOpen:a=!1,notificationCount:o=0,MainIcon:i,label:l,shortcut:s,popupZIndexOverride:c,...u}=e;const m=o>0;return r.createElement(d.Tooltip,{hasTail:!0,title:l,placement:p.PLACEMENT.TOP,shortcut:s,popupZIndexOverride:c},r.createElement(h,g({ref:t,"aria-haspopup":!0,"aria-pressed":a,"aria-expanded":a,hasText:Boolean(n),isOpen:a,isSquare:!m,type:f.BUTTON_TYPES.TERTIARY,variant:f.BUTTON_VARIANTS.RECTANGLE,size:f.BUTTON_SIZES.MEDIUM},u),r.createElement(_,null,i&&r.createElement(i,null),n,m&&r.createElement(b,null,o))))}));y.displayName="ToggleButton"},31271:(e,t,n)=>{n.d(t,{default:()=>Tooltip});var r=n(67294),a=n(38421),o=n(55859),i=(n(28377),n(97506));function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function Tooltip(e){let{placement:t=a.PLACEMENT.BOTTOM,...n}=e;const{isRTL:s}=(0,i.default)(),c=s?a.RTL_PLACEMENT[t]:t;return r.createElement(o.Tooltip,l({placement:c},n))}},46208:(e,t,n)=>{n.d(t,{BackgroundAudioPanel:()=>BackgroundAudioPanel,DateTime:()=>V.default,ExcerptPanel:()=>ExcerptPanel,HeaderTitle:()=>HeaderTitle,InterfaceSkeleton:()=>et.default,Media:()=>j.default,PageAdvancementPanel:()=>PageAdvancementPanel,Panel:()=>q.default,PanelContent:()=>J.default,PanelTitle:()=>Q.default,RadioGroup:()=>X.default,Required:()=>Z.default,Row:()=>$.default,SimplePanel:()=>ee.default,SlugPanel:()=>SlugPanel,StoryEditor:()=>r.default,TaxonomiesPanel:()=>TaxonomiesPanel,Tooltip:()=>b.default,focusStyle:()=>he.focusStyle,highlightStates:()=>C.default,highlightStyles:()=>te.styles,useAPI:()=>_.default,useCheckpoint:()=>v.useCheckpoint,useConfig:()=>g.default,useHighlights:()=>ne.default,useRefreshPostEditURL:()=>w.default,useSidebar:()=>D.default,useStory:()=>h.default});n(65744);var r=n(66099),a=n(67294),o=n(45697),i=n.n(o),l=n(35343),s=n(58804),c=n(31393),u=n(70746),d=(n(65314),n(87930));const p=s.default.div.withConfig({displayName:"previewPage__FullBleedPreviewWrapper",componentId:"sc-1r5t7dq-0"})(["height:",";width:100%;overflow:hidden;position:relative;display:flex;align-items:center;background-color:white;",";"],(e=>{let{pageSize:t}=e;return`${t.containerHeight}px`}),(e=>{let{background:t}=e;return(0,c.default)(t)})),f=s.default.div.withConfig({displayName:"previewPage__PreviewSafeZone",componentId:"sc-1r5t7dq-1"})(["width:100%;height:",";overflow:visible;position:absolute;margin:0;"],(e=>{let{pageSize:t}=e;return`${t.height}px`}));function PreviewPageAnimationController(e){let{animationState:t}=e;const n=(0,u.useStoryAnimationContext)((e=>{let{actions:t}=e;return t.WAAPIAnimationMethods}));return(0,l.useEffect)((()=>{switch(t){case u.STORY_ANIMATION_STATE.PLAYING:return n.play(),()=>{};case u.STORY_ANIMATION_STATE.RESET:return n.reset(),()=>{};case u.STORY_ANIMATION_STATE.SCRUBBING:case u.STORY_ANIMATION_STATE.PAUSED:return n.pause(),()=>{};default:return()=>{}}}),[t,n]),(0,l.useEffect)((()=>()=>n.reset()),[n]),null}const m=(0,l.memo)((0,l.forwardRef)((function PreviewPageDisplay(e,t){let{page:n,pageSize:r}=e;return a.createElement(p,{ref:t,pageSize:r,background:n.backgroundColor},a.createElement(f,{pageSize:r},a.createElement(d.default,{page:n})))})));(0,l.forwardRef)((function PreviewPage(e,t){let{page:n,pageSize:r,animationState:o=u.STORY_ANIMATION_STATE.RESET,onAnimationComplete:i}=e;return a.createElement(s.StyleSheetManager,{stylisPlugins:[]},a.createElement(u.StoryAnimation.Provider,{animations:n.animations,elements:n.elements,onWAAPIFinish:i},a.createElement(m,{ref:t,page:n,pageSize:r}),a.createElement(PreviewPageAnimationController,{animationState:o})))}));PreviewPageAnimationController.propTypes={animationState:i().oneOf(Object.values(u.STORY_ANIMATION_STATE))};n(52054),n(28377);var g=n(97506),h=(n(21377),n(8494),n(6707),n(54850),n(80612),n(19941),n(71470),n(44459),n(60702),n(54234),n(7481),n(84476),n(62109),n(35443),n(90694),n(93902),n(76129),n(84401)),_=(n(97472),n(24763),n(21303),n(34639),n(79254),n(2380),n(40823),n(47390)),b=n(31271),y=(n(55537),n(84296),n(17166),n(40169),n(2399)),E=(n(54e3),n(19040),n(89157),n(29184),n(73393),n(26613)),T=(n(60211),n(13851),n(46345),n(11606),n(37890),n(30738),n(50067),n(28410));n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859);n(89703);var S=n(37870);n(92790);var w=n(19675),v=(n(52601),n(72063)),C=(n(35466),n(79426),n(37070),n(96426),n(60811)),I=(n(6687),n(9730),n(84082)),A=(n(89353),n(88858),n(58965),n(89574),n(50014),n(52563),n(88862),n(75671),n(74350)),x=(n(86807),n(90949));const k="44px";var P=n(58167),N=n(77904),O=n(55859),L=n(36363),M=n(20341);const ChecklistIcon=e=>{let{checkpoint:t,...n}=e;return t===I.PPC_CHECKPOINT_STATE.ALL?a.createElement(M.default,n):null};function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}const B=(0,s.default)(x.Button).withConfig({displayName:"buttonWithChecklistWarning__Button",componentId:"sc-jm08jq-0"})(["padding:4px 6px;height:32px;svg{width:24px;height:auto;}"]),U=(0,l.forwardRef)((function InnerButton(e,t){let{text:n,checkpoint:r,hasHighPriorityIssues:o=!1,onClick:i,...l}=e;return a.createElement(B,R({ref:t,variant:N.BUTTON_VARIANTS.RECTANGLE,type:N.BUTTON_TYPES.PRIMARY,size:N.BUTTON_SIZES.SMALL,onClick:e=>{e.currentTarget.blur(),i?.(e)}},l),n,o&&a.createElement(ChecklistIcon,{checkpoint:r}))}));(0,l.forwardRef)((function ButtonWithChecklistWarning(e,t){let{disabled:n,hasFutureDate:r,...o}=e;const i=(0,S.default)(),{isSaving:s,canPublish:c,status:u}=(0,h.default)((e=>{let{state:t}=e;return{isSaving:t.meta?.isSaving,status:t.story.status,canPublish:Boolean(t?.capabilities?.publish)}})),{checkpoint:d,hasHighPriorityIssues:p}=(0,v.useCheckpoint)((e=>{let{state:{checkpoint:t,hasHighPriorityIssues:n}}=e;return{checkpoint:t,hasHighPriorityIssues:n}})),f={[I.PPC_CHECKPOINT_STATE.ALL]:p?(0,P.__)("Make updates before publishing to improve discoverability and performance on search engines","web-stories"):"",[I.PPC_CHECKPOINT_STATE.ONLY_RECOMMENDED]:(0,P.__)("Review checklist to improve performance before publishing","web-stories"),[I.PPC_CHECKPOINT_STATE.UNAVAILABLE]:""},m=(0,P.__)("Saving is disabled due to media currently being uploaded.","web-stories"),g=(0,P.__)("Submit your work for review, and an Editor will be able to approve it for you.","web-stories");let _=i?m:f[d];c||(_=g);const b=(0,l.useMemo)((()=>(0,P.__)(r&&"private"!==u?"Schedule":"Publish","web-stories")),[r,u]),y=c?b:(0,P.__)("Submit for review","web-stories");return a.createElement(O.Tooltip,{title:_,popupZIndexOverride:L.Z_INDEX_STORY_DETAILS,hasTail:!0},a.createElement(U,R({ref:t,text:y,disabled:n||s||i,checkpoint:d,hasHighPriorityIssues:p},o)))})),s.default.header.withConfig({displayName:"header___Header",componentId:"sc-yxsju1-0"})(["width:100%;height:",";display:flex;align-items:center;margin-bottom:",";background-color:",";border-top-left-radius:",";border-top-right-radius:",";"],k,"1px",(e=>{let{theme:t}=e;return t.colors.bg.secondary}),(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return t.borders.radius.medium})),(0,s.default)(x.Button).withConfig({displayName:"header__CloseButton",componentId:"sc-yxsju1-1"})(["margin:6px auto 5px 6px;"]),s.default.div.withConfig({displayName:"header__PublishButtonWrapper",componentId:"sc-yxsju1-2"})(["margin:6px 6px 5px auto;"]);var H=n(15339),D=n(1165),F=n(69609),Y=n(58286),z=n(71314),j=(n(46123),n(93206),n(18800),n(40238),n(57346)),$=n(8897),W=n(92056),G=n(42009),V=(n(27646),n(91935)),Z=n(63632),X=n(73978),K=(n(39737),n(47011)),q=n(16852),Q=(n(36791),n(12983)),J=n(52284),ee=n(42854),te=n(67651),ne=n(35917);const re=(0,s.default)(Y.Text).withConfig({displayName:"excerpt__StyledText",componentId:"sc-t9wjp4-0"})(["color:",";margin-top:-4px;"],(e=>{let{theme:t}=e;return t.colors.fg.tertiary}));function ExcerptPanel(e){let{nameOverride:t}=e;const{excerpt:n,updateStory:r}=(0,h.default)((e=>{let{state:{story:{excerpt:t=""}},actions:{updateStory:n}}=e;return{excerpt:t,updateStory:n}})),o=(0,l.useCallback)((e=>{r({properties:{excerpt:e.target.value}})}),[r]),{highlight:i,resetHighlight:s,cancelHighlight:c}=(0,ne.default)((e=>({highlight:e[C.default.EXCERPT],resetHighlight:e.onFocusOut,cancelHighlight:e.cancelEffect})));return a.createElement(ae,{onAnimationEnd:()=>s(),name:t||"excerpt",title:(0,P.__)("Story Description","web-stories"),collapsedByDefault:!1,isPersistable:!i,$_css:i?.showEffect&&te.styles.FLASH},a.createElement($.default,null,a.createElement(oe,{ref:e=>{e&&i?.focus&&i?.showEffect&&(e.addEventListener("keydown",c,{once:!0}),e.focus())},value:n,onChange:o,placeholder:(0,P.__)("Write a description of the story","web-stories"),"aria-label":(0,P.__)("Story Description","web-stories"),maxLength:200,showCount:!0,rows:4,$_css2:i?.showEffect&&te.styles.OUTLINE})),a.createElement($.default,null,a.createElement(re,{size:z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL},(0,P.__)("Stories with a description tend to do better on search and have a wider reach","web-stories"))))}var ae=(0,s.default)(ee.default).withConfig({displayName:"excerpt___StyledSimplePanel",componentId:"sc-t9wjp4-1"})(["",""],(e=>e.$_css)),oe=(0,s.default)(G.default).withConfig({displayName:"excerpt___StyledTextArea",componentId:"sc-t9wjp4-2"})(["",""],(e=>e.$_css2));s.default.div.withConfig({displayName:"mainStoryInfo__FormSection",componentId:"sc-1f06m84-0"})(["padding:0 4px;&:first-of-type{margin:20px 0px 0px;}"]),(0,s.default)(F.TextArea).withConfig({displayName:"mainStoryInfo___TextArea",componentId:"sc-1f06m84-1"})(["margin:8px 0 0;& > p{margin-bottom:-4px;}"]);var ie=n(28633),le=n(59426);n(51517);const se=s.default.div.withConfig({displayName:"storyPreview__PreviewWrapper",componentId:"sc-zk17py-0"})(["width:","px;height:","px;position:relative;margin-top:8px;"],(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t}));se.propTypes={width:i().number.isRequired,height:i().number.isRequired};const ce=s.default.div.withConfig({displayName:"storyPreview__PreviewContainer",componentId:"sc-zk17py-1"})(["width:","px;height:","px;position:absolute;"],(e=>{let{width:t}=e;return t}),(e=>{let{height:t}=e;return t}));ce.propTypes={width:i().number.isRequired,height:i().number.isRequired};s.default.img.withConfig({displayName:"storyPreview__Image",componentId:"sc-zk17py-2"})(["height:100%;width:100%;display:block;aspect-ratio:",";object-fit:cover;border-radius:",";background:",";"],le.PAGE_RATIO,(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return t.colors.interactiveBg.primaryNormal})),s.default.div.withConfig({displayName:"storyPreview__EmptyPlaceholder",componentId:"sc-zk17py-3"})(["height:100%;border-radius:",";background:",";"],(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return t.colors.interactiveBg.primaryNormal})),s.default.div.withConfig({displayName:"storyPreview__Gradient",componentId:"sc-zk17py-4"})(["position:absolute;bottom:0;height:67%;width:100%;border-radius:",";background:",";"],(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return t.colors.gradient.posterOverlay})),s.default.div.withConfig({displayName:"storyPreview__ScrimWrapper",componentId:"sc-zk17py-5"})(["position:absolute;top:0;box-sizing:border-box;width:100%;height:100%;border-radius:",";background:",";padding:8px;"],(e=>{let{theme:t}=e;return t.borders.radius.medium}),(e=>{let{theme:t}=e;return t.colors.opacity.black3})),s.default.div.withConfig({displayName:"storyPreview__ScrimContainer",componentId:"sc-zk17py-6"})(["display:flex;height:100%;width:100%;flex-wrap:wrap;justify-content:space-between;"]),s.default.div.withConfig({displayName:"storyPreview__ScrimTop",componentId:"sc-zk17py-7"})(["display:grid;grid-template-columns:50% 50%;grid-template-rows:auto;grid-template-areas:'publisherLogo editButton';justify-content:inherit;width:100%;"]),s.default.img.withConfig({displayName:"storyPreview__PublisherLogo",componentId:"sc-zk17py-8"})(["grid-area:publisherLogo;height:24px;width:24px;border-radius:2px;box-shadow:0 0 8px rgba(0,0,0,0.08);"]),(0,s.default)(j.default).withConfig({displayName:"storyPreview__StyledMedia",componentId:"sc-zk17py-9"})(["grid-area:editButton;display:flex;flex-direction:row-reverse;"]),s.default.div.withConfig({displayName:"storyPreview__ScrimBottom",componentId:"sc-zk17py-10"})(["width:100%;margin:auto 0 0;align-self:flex-end;"]),(0,s.default)(ie.Headline).attrs({as:"h3",size:z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}).withConfig({displayName:"storyPreview__Title",componentId:"sc-zk17py-11"})(["max-height:calc(1.2em * 3);display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;padding:0;margin:0 0 4px;overflow:hidden;text-overflow:ellipsis;color:",";"],(e=>{let{theme:t}=e;return t.colors.fg.primary})),(0,s.default)(Y.Text).attrs({forwardAs:"span",size:z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.MEDIUM}).withConfig({displayName:"storyPreview__Publisher",componentId:"sc-zk17py-12"})(["display:block;margin:0;padding:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:",";"],(e=>{let{theme:t}=e;return t.colors.fg.secondary}));n(59042);s.default.div.withConfig({displayName:"content__Main",componentId:"sc-1d1lm9j-0"})(["display:grid;min-width:917px;width:100%;height:calc(100% - "," - ",");grid-template-columns:30.5% 34% 35.5%;grid-template-rows:auto;grid-template-areas:'preview mainPanel sidePanel' 'footer mainPanel sidePanel';"],"1px",k),s.default.div.withConfig({displayName:"content___StoryPreview",componentId:"sc-1d1lm9j-1"})(["grid-area:preview;margin:20px 18px 0 32px;"]),s.default.div.withConfig({displayName:"content___MainStoryInfo",componentId:"sc-1d1lm9j-2"})(["grid-area:mainPanel;display:flex;flex-direction:column;padding:0 16px;overflow-y:scroll;gap:34px;& > section{border:none;& > h2{padding-top:0;padding-bottom:2px;& > button{height:1em;}}}"]),s.default.div.attrs({role:"tabpanel"}).withConfig({displayName:"content__PanelContainer",componentId:"sc-1d1lm9j-3"})(["grid-area:sidePanel;height:100%;margin-left:18px;background-color:",";border-bottom-right-radius:",";overflow-y:scroll;",";"],(e=>{let{theme:t}=e;return t.colors.bg.secondary}),(e=>{let{theme:t}=e;return t.borders.radius.medium}),H.scrollbarCSS),s.default.div.withConfig({displayName:"content__Footer",componentId:"sc-1d1lm9j-4"})(["grid-area:footer;display:flex;align-items:flex-end;margin:0 18px 20px 32px;"]),s.default.div.withConfig({displayName:"publishModal__Container",componentId:"sc-16gvo2-0"})(["height:100%;color:",";background-color:",";border:",";border-radius:",";"],A.theme.colors.fg.primary,A.theme.colors.bg.primary,`1px solid ${A.theme.colors.divider.primary}`,A.theme.borders.radius.medium);var ue=n(207),de=n(16087),pe=n(57639);const fe=s.default.input.withConfig({displayName:"title__Input",componentId:"sc-jcmnyx-0"})(["color:",";margin:0;"," background:",";border:none !important;text-align:start;min-width:60%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;border-radius:",";",";",""],(e=>{let{theme:t}=e;return`${t.colors.fg.primary} !important`}),ue.expandTextPreset(((e,t)=>{let{paragraph:n}=e,{MEDIUM:r}=t;return n[r]})),(e=>{let{isHighlighted:t}=e;return!t&&"none !important"}),(e=>{let{theme:t}=e;return t.borders.radius.small}),de.focusableOutlineCSS,(e=>{let{isHighlighted:t}=e;return t&&(0,s.css)([""," ",""],te.styles.OUTLINE,te.styles.FLASH)}));function HeaderTitle(){const{title:e,slug:t,updateStory:n}=(0,h.default)((e=>{let{state:{story:{title:t,slug:n}},actions:{updateStory:r}}=e;return{title:t,slug:n,updateStory:r}})),{highlight:r,resetHighlight:o,cancelHighlight:i}=(0,ne.default)((e=>({highlight:e[C.default.STORY_TITLE],resetHighlight:e.onFocusOut,cancelHighlight:e.cancelEffect}))),{storyId:s}=(0,g.default)(),c=(0,l.useCallback)((e=>n({properties:{title:e.target.value}})),[n]),u=(0,l.useCallback)((()=>{(0,pe.updateSlug)({currentSlug:t,currentTitle:e,storyId:s,updateStory:n})}),[t,s,e,n]);return"string"!=typeof e?null:a.createElement(fe,{ref:e=>{e&&r?.focus&&r?.showEffect&&(e.addEventListener("keydown",i,{once:!0}),e.focus())},value:e,type:"text",onBlur:u,onChange:c,placeholder:(0,P.__)("Add title","web-stories"),"aria-label":(0,P.__)("Story title","web-stories"),isHighlighted:r?.showEffect,onAnimationEnd:()=>o()})}var me=n(17211),ge=n(61342),he=n(64428);const _e=s.default.div.withConfig({displayName:"pageAdvancement__SwitchRow",componentId:"sc-11tn322-0"})(["margin-bottom:16px;"]),be=(0,s.default)(Y.Text).attrs({size:z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}).withConfig({displayName:"pageAdvancement__MutedText",componentId:"sc-11tn322-1"})(["color:",";"],(e=>{let{theme:t}=e;return t.colors.fg.secondary})),ye={MIN:1,MAX:20};function PageAdvancementPanel(e){let{nameOverride:t}=e;const{autoAdvance:n,defaultPageDuration:r,updateStory:o}=(0,h.default)((e=>{let{state:{story:{autoAdvance:t=T.DEFAULT_AUTO_ADVANCE,defaultPageDuration:n=T.DEFAULT_PAGE_DURATION}},actions:{updateStory:r}}=e;return{autoAdvance:t,defaultPageDuration:n,updateStory:r}})),[i,s]=(0,l.useState)(r);(0,l.useEffect)((()=>{s(r)}),[r]);const c=(0,l.useCallback)(((e,t)=>{o({properties:{autoAdvance:t}}),(0,E.trackEvent)("change_page_advancement",{status:t?"auto":"manual",duration:i})}),[o,i]),u=(0,l.useDebouncedCallback)((e=>{const t=(0,ge.clamp)(e,ye);e!==t&&s(t),r!==t&&(o({properties:{defaultPageDuration:t}}),(0,E.trackEvent)("change_page_advancement",{status:n?"auto":"manual",duration:t}))}),800);(0,l.useEffect)((()=>{u(i)}),[i,u]);const d=(0,l.useCallback)(((e,t)=>s(t)),[]);return a.createElement(ee.default,{name:t||"pageAdvancement",title:(0,P.__)("Page Advancement","web-stories"),collapsedByDefault:!1},a.createElement($.default,null,a.createElement(be,null,(0,P.__)("Control whether a story auto-advances between pages, or whether the reader has to manually tap to advance.","web-stories"))),a.createElement(_e,null,a.createElement(W.default,{groupLabel:(0,P.__)("Page Advancement","web-stories"),name:"page-advancement-switch",value:n,onLabel:(0,P.__)("Auto","web-stories"),offLabel:(0,P.__)("Manual","web-stories"),onChange:c})),n&&a.createElement($.default,null,a.createElement(me.NumericInput,{unit:` ${(0,P.__)("seconds","web-stories")}`,suffix:(0,P.__)("Duration","web-stories"),value:i,onChange:d,"aria-label":(0,P.__)("Default page duration in seconds","web-stories"),min:ye.MIN,max:ye.MAX,isFloat:!0,containerStyleOverride:he.inputContainerStyleOverride})))}var Ee=n(78955),Te=n(21931),Se=n(19977),we=n(7328),ve=n(2203);const Ce={MIN:1,MAX:200},Ie=(0,s.default)($.default).withConfig({displayName:"slug__PermalinkRow",componentId:"sc-12ylqoy-0"})(["margin-bottom:12px;input{color:",";:active,:focus,.","{color:",";}}"],(e=>{let{theme:t}=e;return t.colors.fg.tertiary}),Se.FOCUS_VISIBLE_SELECTOR,(e=>{let{theme:t}=e;return t.colors.fg.primary})),Ae=s.default.div.withConfig({displayName:"slug__LinkContainer",componentId:"sc-12ylqoy-1"})(["margin-bottom:16px;"]);function SlugPanel(e){let{nameOverride:t}=e;const{slug:n,link:r,permalinkConfig:o,updateStory:i}=(0,h.default)((e=>{let{state:{story:{slug:t="",link:n,permalinkConfig:r}},actions:{updateStory:a}}=e;return{slug:t,link:n,permalinkConfig:r,updateStory:a}})),[s,c]=(0,l.useState)(n);(0,l.useEffect)((()=>{c(n)}),[n]);const u=(0,l.useCallback)((e=>{const t=e.slice(0,Ce.MAX);i({properties:{slug:(0,we.default)(t)}})}),[i]),d=(0,l.useCallback)((e=>c((0,we.default)(e.target.value,!0))),[]),p=(0,l.useCallback)((e=>u(e.target.value)),[u]),f=s&&o&&(0,ve.default)(s.length,Ce)?o.prefix+s+o.suffix:r;return a.createElement(ee.default,{name:t||"permalink",title:(0,P.__)("Permalink","web-stories"),collapsedByDefault:!1},o&&a.createElement(Ie,null,a.createElement(Ee.Input,{value:String(s),onChange:d,onBlur:p,placeholder:(0,P.__)("Enter slug","web-stories"),"aria-label":(0,P.__)("URL slug","web-stories"),minLength:Ce.MIN,maxLength:Ce.MAX,containerStyleOverride:he.inputContainerStyleOverride})),a.createElement(Ae,null,a.createElement(Te.Link,{rel:"noopener noreferrer",target:"_blank",href:r,size:z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL},f)))}var xe=n(54806);const ke=(0,s.default)(Y.Text).attrs({size:z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}).withConfig({displayName:"backgroundAudio__HelperText",componentId:"sc-1n4veap-0"})(["color:",";"],(e=>{let{theme:t}=e;return t.colors.fg.secondary}));function BackgroundAudioPanel(e){let{nameOverride:t}=e;const{capabilities:{hasUploadMediaAction:n}}=(0,g.default)(),{backgroundAudio:r,updateStory:o}=(0,h.default)((e=>{let{state:{story:{backgroundAudio:t}},actions:{updateStory:n}}=e;return{backgroundAudio:t,updateStory:n}})),i=(0,l.useCallback)((e=>{o({properties:{backgroundAudio:e}})}),[o]);return r||n?a.createElement(ee.default,{name:t||"backgroundAudio",title:(0,P.__)("Background Audio","web-stories"),collapsedByDefault:!0},a.createElement($.default,null,a.createElement(ke,null,(0,P.__)("Select an audio file that plays throughout the story.","web-stories"))),a.createElement(xe.default,{backgroundAudio:r,updateBackgroundAudio:i})):null}var Pe=n(37071);function Ne(e){return(0,l.useContextSelector)(Pe.default,e??l.identity)}var Oe=n(65197),Le=n(54531),Me=n(75530),Re=n(44586);i().shape({capabilities:i().object,description:i().string,hierarchical:i().bool,labels:i().object,name:i().string.isRequired,restBase:i().string.isRequired,showCloud:i().bool,slug:i().string.isRequired,types:i().arrayOf(i().string),visibility:i().object});const Be=(0,s.default)(ie.Headline).attrs({as:"h3",size:z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.XXX_SMALL}).withConfig({displayName:"shared__ContentHeading",componentId:"sc-1pfee07-0"})(["margin:4px 0 16px;font-weight:",";"],(e=>{let{theme:t}=e;return t.typography.weight.regular})),Ue=(0,s.default)(x.Button).attrs({variant:N.BUTTON_VARIANTS.LINK}).withConfig({displayName:"shared__LinkButton",componentId:"sc-1pfee07-1"})([""," margin-bottom:16px;font-weight:500;"],ue.expandTextPreset(((e,t)=>{let{link:n}=e,{X_SMALL:r}=t;return n[r]}))),He=s.default.div.withConfig({displayName:"shared__SiblingBorder",componentId:"sc-1pfee07-2"})(["padding-left:16px;padding-right:16px;& + &{border-top:1px solid ",";padding-top:16px;padding-bottom:8px;}"],(e=>{let{theme:t}=e;return t.colors.divider.tertiary})),De={Heading:(0,s.default)(Be).attrs({as:"h4"}).withConfig({displayName:"shared__Heading",componentId:"sc-1pfee07-3"})(["margin-bottom:4px;"]),Wrapper:s.default.div.withConfig({displayName:"shared__Wrapper",componentId:"sc-1pfee07-4"})(["padding:18px 0px;"]),List:s.default.ul.withConfig({displayName:"shared__List",componentId:"sc-1pfee07-5"})(["all:unset;cursor:pointer;"]),ListItem:s.default.li.withConfig({displayName:"shared__ListItem",componentId:"sc-1pfee07-6"})(["all:unset;"]),Word:(0,s.default)(Ue).withConfig({displayName:"shared__Word",componentId:"sc-1pfee07-7"})(["margin:0;display:revert;"])};var Fe=n(53897);const Ye="NO_PARENT_VALUE",ze=s.default.div.withConfig({displayName:"HierarchicalTermSelector__ContentArea",componentId:"sc-17x36f5-0"})(["label,* > label{",";color:",";}"],(e=>{let{theme:t}=e;return ue.expandPresetStyles({preset:t.typography.presets.label[z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL],theme:t})}),(e=>{let{theme:t}=e;return t.colors.fg.secondary})),je=s.default.form.withConfig({displayName:"HierarchicalTermSelector__AddNewCategoryForm",componentId:"sc-17x36f5-1"})(["margin:24px 0 16px;"]),$e=s.default.div.withConfig({displayName:"HierarchicalTermSelector__ButtonContainer",componentId:"sc-17x36f5-2"})(["display:flex;gap:8px;"]),We=(0,s.default)(Y.Text).attrs({forwardedAs:"label",size:z.THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}).withConfig({displayName:"HierarchicalTermSelector__Label",componentId:"sc-17x36f5-3"})(["display:inline-block;margin:12px 0;"]),Ge=(0,s.default)(x.Button).attrs({variant:N.BUTTON_VARIANTS.RECTANGLE,size:N.BUTTON_SIZES.SMALL,type:N.BUTTON_TYPES.SECONDARY}).withConfig({displayName:"HierarchicalTermSelector__AddNewCategoryButton",componentId:"sc-17x36f5-4"})(["margin-top:20px;"]);function HierarchicalTermSelector(e){let{noParentId:t=Ye,taxonomy:n,canCreateTerms:r}=e;const{createTerm:o,termCache:i,terms:s,setTerms:c}=Ne((e=>{let{state:{termCache:t,terms:n},actions:{createTerm:r,setTerms:a}}=e;return{createTerm:r,setTerms:a,termCache:t,terms:n}})),u=(0,l.useMemo)((()=>i?.[n.restBase]?Object.values(i[n.restBase]).map((e=>({id:e.id,parent:e.parent,value:e.id,label:e.name,checked:s[n.restBase]?.includes(e.id),slug:e.slug}))):[]),[n,i,s]),[d,p]=(0,l.useState)(!1),[f,m]=(0,l.useState)(""),[g,h]=(0,l.useState)(t),_=(0,l.useMemo)(Re.default,[]),[b,y]=(0,l.useState)(!1),E=(0,l.useRef)(),T=(0,l.useRef)(),[S,w]=(0,l.useState)(!1),[v,C]=(0,l.useState)(""),I=(0,l.useCallback)((e=>C(e)),[]),A=(0,Le.default)("assertive"),x=(0,l.useCallback)((()=>{m(""),h(t)}),[t]),k=(0,l.useCallback)(((e,t)=>{let{id:r,checked:a}=t;const o=u.find((e=>e.id===r));c(n,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e.findIndex((e=>e===o.id));return a&&-1===t?[...e,o.id]:!a&&t>-1?[...e.slice(0,t),...e.slice(t+1)]:e}))}),[u,c,n]),N=(0,l.useCallback)((()=>{p(!d),x(),y(!d),w(d)}),[x,d]),O=(0,l.useCallback)((e=>{m(e.target.value)}),[]),L=(0,l.useMemo)((()=>u.find((e=>e.id===g))?.slug),[g,u]),M=(0,l.useCallback)((e=>{e.preventDefault(),o(n,f,{id:g===t?0:g,slug:L},!0),A((0,Oe.default)(
/* Translators: %s: Taxonomy label name. */
(0,P.__)("%s added.","web-stories"),n.labels.singular_name)),p(!1),x(),w(d)}),[o,A,f,t,x,g,d,n,L]),R=(0,l.useCallback)(((e,t)=>h(t)),[]);(0,l.useEffect)((()=>{const e=E.current;if(e){const t=e=>{"Enter"===e.key&&M(e)};return e.addEventListener("keypress",t),()=>{e.removeEventListener("keypress",t)}}return null}),[M,E]),(0,l.useEffect)((()=>{S&&T.current.focus()}),[S]);const B=(0,l.useMemo)((()=>(0,Fe.makeFlatOptionTree)(u,v)),[u,v]),U=(0,l.useMemo)((()=>[{value:Ye,label:(0,P.__)("None","web-stories")}].concat(B).map((e=>{let{$level:t,label:n,...r}=e;return{...r,label:`${Array.from({length:t},(()=>"— ")).join("")} ${n}`}}))),[B]);return a.createElement(ze,null,a.createElement(Be,null,n.labels.name),a.createElement(K.default,{inputValue:v,onInputChange:I,label:n.labels.searchItems,options:B,onChange:k,noOptionsText:n.labels?.notFound}),r?a.createElement(a.Fragment,null,!d&&a.createElement(Ue,{ref:T,"aria-expanded":!1,onClick:N},n.labels.addNewItem),d?a.createElement(je,{ref:E,onSubmit:M},a.createElement(Ee.Input,{autoFocus:!0,name:n.labels.newItemName,label:n.labels.newItemName,value:f,onChange:O,hasFocus:b}),a.createElement(We,{htmlFor:_},n.labels.parentItem),a.createElement(Me.DropDown,{id:_,ariaLabel:n.labels.parentItem,options:U,selectedValue:g,onMenuItemClick:R}),a.createElement($e,null,a.createElement(Ge,{disabled:!f.length,type:"submit"},n.labels.addNewItem),a.createElement(Ge,{"aria-expanded":!0,onClick:N},(0,P.__)("Cancel","web-stories")))):null):null)}var Ve=n(24046),Ze=n(37137),Xe=n(53535);const Ke={Input:Ve.default,Description:Ze.default,Label:Xe.default};var qe=n(43304);function FlatTermSelector(e){let{taxonomy:t,canCreateTerms:n}=e;const[r,o]=(0,l.useState)([]),{createTerm:i,termCache:s,addSearchResultsToCache:c,terms:u=[],setTerms:d,addTermToSelection:p}=Ne((e=>{let{state:{termCache:t,terms:n},actions:{createTerm:r,addSearchResultsToCache:a,setTerms:o,addTermToSelection:i}}=e;return{termCache:t,createTerm:r,addSearchResultsToCache:a,terms:n,setTerms:o,addTermToSelection:i}})),{undo:f}=(0,y.default)((e=>{let{actions:{undo:t}}=e;return{undo:t}})),[m,g]=(0,l.useState)([]),h=(0,Le.default)("assertive"),_=(0,l.useCallback)((e=>{const r=e.map((e=>[(0,we.default)(e),e])),a=r.map((e=>{let[t]=e;return t})).map((e=>s[t.restBase]?.[e])).filter((e=>e)).map((e=>e.id));(0,qe.deepEquals)(u[t.restBase],a)||d(t,a),n&&r.filter((e=>{let[n]=e;return!s[t.restBase]?.[n]})).map((e=>{let[,t]=e;return t})).forEach((e=>i(t,e,null,!0)))}),[n,u,t,s,d,i]),b=(0,l.useDebouncedCallback)((async e=>{if(0===e.length)return void g([]);if(e.length<3)return;const n=await c(t,{search:e,per_page:20});g(n);const r=n.length,a=(0,Oe.default)(
/* Translators: %d: Number of results. */
(0,P._n)("%d result found.","%d results found.","web-stories","web-stories"),r);h(a)}),300),E=(0,l.useMemo)((()=>(u[t.restBase]||[]).map((e=>Object.values(s[t.restBase]||{}).find((t=>t.id===e)))).filter((e=>void 0!==e)).map((e=>e.name))),[t,u,s]),T=(0,l.useCallback)((e=>s[t.restBase]?.[(0,we.default)(e)]?.name),[t,s]);return(0,l.useEffect)((()=>{!async function(){const e=await c(t,{orderby:"count",order:"desc",hide_empty:!0});o(e)}()}),[t,c]),a.createElement(a.Fragment,null,a.createElement(Be,null,t.labels.name),a.createElement("div",{key:t.slug},a.createElement(Ke.Label,{htmlFor:`${t.slug}-input`},t.labels.addNewItem),a.createElement(Ke.Input,{id:`${t.slug}-input`,"aria-describedby":`${t.slug}-description`,name:t.slug,onTagsChange:_,onInputChange:b,tagDisplayTransformer:T,tokens:E,onUndo:f,suggestedTerms:m,suggestedTermsLabel:t?.labels?.itemsList}),a.createElement(Ke.Description,{id:`${t.slug}-description`},t.labels.separateItemsWithCommas),r.length>0&&a.createElement(De.Wrapper,{"data-testid":`${t.slug}-most-used`},a.createElement(De.Heading,null,t.labels.mostUsed),a.createElement(De.List,null,r.map(((e,n)=>a.createElement(De.ListItem,{key:e.id},a.createElement(De.Word,{onClick:()=>{u[t.restBase]?.includes(e.id)||p(t,e)}},e.name,n<r.length-1&&
/* translators: delimiter used in a list */
(0,P.__)(",","web-stories")),n<r.length-1&&" ")))))))}function Qe(){return Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}const Je=(0,s.default)(ee.default).withConfig({displayName:"taxonomies__StyledSimplePanel",componentId:"sc-171mnp-0"})(["padding-left:0;padding-right:0;"]);function TaxonomiesPanel(e){let{nameOverride:t,...n}=e;const{capabilities:r}=(0,h.default)((e=>{let{state:{capabilities:t}}=e;return{capabilities:t}})),{taxonomies:o}=Ne((e=>{let{state:{taxonomies:t}}=e;return{taxonomies:t}}));if(!o?.length)return null;const i=o.filter((e=>{const t=e?.visibility?.show_ui,n=Boolean(r[`assign-${e?.restBase}`]||r[`assign-${e?.slug}`]);return t&&n}));return 0===i.length?null:a.createElement(Je,Qe({name:t||"taxonomies",title:(0,P.__)("Taxonomies","web-stories")},n),i.map((e=>{const t=Boolean(r[`create-${e?.restBase}`]||r[`create-${e?.slug}`]);return a.createElement(He,{key:e.slug},e.hierarchical?a.createElement(HierarchicalTermSelector,{taxonomy:e,canCreateTerms:t}):a.createElement(FlatTermSelector,{taxonomy:e,canCreateTerms:t}))})))}n(13618),n(56453),n(97596),n(9170),n(65426),n(5053),n(63214),n(29059),n(24807),n(55394),n(96548),n(11209),n(8236),n(50097),n(80439),n(93841);n(13688);n(50869);n(20653),n(94645),n(83457),n(46340),n(15890);var et=n(45504);n(24035)},15890:(e,t,n)=>{n.d(t,{GlobalStyle:()=>i});var r=n(58804),a=n(74350),o=n(15339);n(35343);const i=(0,r.createGlobalStyle)(["ul#adminmenu a.wp-has-current-submenu::after{border-right-color:",";}.web-stories-content b,.web-stories-content strong{font-weight:bold;}body.edit-story #wpbody *{",";}"],a.theme.colors.bg.secondary,o.scrollbarCSS)},45743:(e,t,n)=>{n.d(t,{calculateLuminanceFromRGB:()=>a,calculateLuminanceFromStyleColor:()=>o,checkContrastFromLuminances:()=>i,getAccessibleTextColorsFromPixels:()=>s});var r=n(88862);function a(e){const{r:t,g:n,b:a,a:o=1}=e;return r.relativeLuminance({r:t/255,g:n/255,b:a/255,a:o})}function o(e){const t=r.str2rgba(e);return r.relativeLuminance(t)}function i(e,t,n){const a=r.contrast(e,t);return{ratio:a,WCAG_AA:r.aa(a,n)}}function l(e,t,n){return i(a({r:e[0],g:e[1],b:e[2]}),a({r:t[0],g:t[1],b:t[2]}),n)}function s(e,t){const n=[255,255,255,255],r=[0,0,0,255],a=[],o={r:255,g:255,b:255,a:1},i={r:0,g:0,b:0,a:1};for(let t=0;t<e.length;t+=4)a.push([e[t],e[t+1],e[t+2],e[t+3]]);const s=a.map((e=>l(r,e,t)));if(!s.some((e=>{let{WCAG_AA:t}=e;return!t})))return{color:i};const c=a.map((e=>l(n,e,t)));return c.some((e=>{let{WCAG_AA:t}=e;return!t}))?s.reduce(((e,t)=>e+t.ratio),0)<c.reduce(((e,t)=>e+t.ratio),0)?{color:i,backgroundColor:{...o,a:.7}}:{color:o,backgroundColor:{...i,a:.7}}:{color:o}}},40282:(e,t,n)=>{n.d(t,{default:()=>l});var r=n(26613),a=n(66093),o=n(69305);async function i(e){const{default:t}=await n.e(269).then(n.bind(n,80269));return new Promise(((n,o)=>{try{const r=(new t).getColor(e);n((0,a.default)(r))}catch(e){(0,r.trackError)("image_base_color",e.message),o(e)}}))}async function l(e){let t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";if(!e)throw new Error("No source to image");const s=(0,r.getTimeTracker)("load_get_base_color");try{n=await(0,o.default)({src:e,width:a,height:l}),t=await i(n)}catch(e){if("TypeError"!==e?.name)throw e;t="#ffffff"}finally{n?.remove(),s()}return t}},28841:(e,t,n)=>{n.d(t,{default:()=>o});var r=n(35343),a=(n(67294),n(54e3),n(28377),n(40823),n(47390));function o(){const{actions:{getProxyUrl:e}}=(0,a.default)(),t=(0,r.useCallback)((async e=>{let t=!1;if(!e)return t;try{await fetch(e,{method:"HEAD"})}catch(e){t=!0}return t}),[]);return{getProxiedUrl:(0,r.useCallback)(((t,n)=>{const{needsProxy:r}=t;return r&&n?e(n):n}),[e]),checkResourceAccess:t}}},37870:(e,t,n)=>{n.d(t,{default:()=>i});var r=n(35343),a=(n(55537),n(84296),n(17166),n(40169),n(89703),n(67294),n(54e3),n(28377),n(40823),n(19040),n(89157),n(29184),n(73393),n(26613),n(70746),n(60211),n(13851),n(46345),n(76129),n(11606),n(37890),n(30738),n(50067),n(28410),n(24763),n(21303),n(34639),n(84401)),o=(n(93909),n(39751),n(9219),n(79074),n(12221),n(41657),n(249),n(32696),n(88476));n(63594),n(16243),n(77850),n(697),n(65290),n(80951),n(73071),n(7377),n(55376),n(24355),n(62313),n(83859);function i(){const e=(0,a.default)((e=>{let{state:{pages:t=[]}}=e;return t.reduce(((e,t)=>(e.push(...t.elements.filter((e=>{let{type:t,isExternal:n}=e;return["image","video","gif"].includes(t)&&!n})).map((e=>{let{resource:t}=e;return t.id}))),e)),[])})),{isCurrentResourceUploading:t,isCurrentResourceProcessing:n}=(0,o.default)((e=>{let{state:{isCurrentResourceUploading:t,isCurrentResourceProcessing:n}}=e;return{isCurrentResourceUploading:t,isCurrentResourceProcessing:n}}));return(0,r.useMemo)((()=>Boolean(e?.some((e=>t(e)||n(e))))),[e,t,n])}},19675:(e,t,n)=>{n.d(t,{default:()=>i});var r=n(35343),a=n(65197),o=n(58167);function i(e,t){return(0,r.useCallback)((()=>{try{const n=new URL(t);n.hash=window.location.hash,window.history.replaceState({id:e},(0,a.default)(
/* translators: %d: current story id. */
(0,o.__)("Post %d","web-stories"),e),n.toString())}catch(e){}}),[e,t])}},79244:(e,t,n)=>{n.d(t,{default:()=>p});var r=n(35343),a=n(8684),o=(n(67294),n(28377),n(97506)),i=n(49711),l=n(73968);function s(e){const t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}}function c(e,t,n){return n>0?(0,i.getNextEnabledElement)(e,t,n):(0,l.getNextEnabledSibling)(e,t)}function u(e,t){return(e?"ArrowRight"===t||"ArrowUp"===t||"PageUp"===t:"ArrowLeft"===t||"ArrowUp"===t||"PageUp"===t)?"previousSibling":"nextSibling"}function d(e,t,n){const r=s(e);let a=null,o=null,i=null;for(let d=c(e,t,n);d;d=c(d,t,n)){const e=s(d);if(Math.floor(e.y)===Math.floor(r.y))continue;if(a&&Math.floor(e.y)>Math.floor(o.y))break;const t=(l=r,u=e,Math.pow(l.x-u.x,2)+Math.pow(l.y-u.y,2));(!i||t<i)&&(i=t,o=e,a=d)}var l,u;return a}function p(e){let{ref:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{isRTL:s}=(0,o.default)(),p=(0,r.useCallback)((e=>{let{key:t,target:n}=e;const r=n,a=u(s,t),o=e=>{if(e){const t=l>0?(0,i.getAncestorByDepth)(e,l):e;r.tabIndex=-1,e.tabIndex=0,e.focus(),t.scrollIntoView("previousSibling"===a)}};if("ArrowLeft"===t||"ArrowRight"===t){const e=c(r,a,l);e&&o(e)}else if("ArrowUp"===t||"ArrowDown"===t){const e=d(r,a,l);e?(r.tabIndex=-1,e.tabIndex=0,e.focus()):o("ArrowUp"===t?l>0?(0,i.getFocusableChild)(r,l):r.parentNode.firstChild:l>0?(0,i.getFocusableChild)(r,l,"lastChild"):r.parentNode.lastChild)}else if("Home"===t)o(l>0?(0,i.getFocusableChild)(r,l):r.parentNode.firstChild);else if("End"===t)o(l>0?(0,i.getFocusableChild)(r,l,"lastChild"):r.parentNode.lastChild);else if("PageDown"===t||"PageUp"===t){let e=r;for(let t=0;c(e,a,l)&&t<5;e=c(e,a,l))t++;o(e)}}),[s,l]);(0,a.useKeyDownEffect)(t,{key:["up","down","left","right","pageup","pagedown","home","end"]},p,[t,p,...n])}},26613:(e,t,n)=>{n.d(t,{getTimeTracker:()=>u,trackClick:()=>o,trackError:()=>i.default,trackEvent:()=>l.default,trackTiming:()=>s.default});n(71703),n(70001),n(47828);var r=n(2425),a=n(11066);async function o(e,t){const{currentTarget:n}=e;return await(0,r.default)()?"_blank"===n?.target||e.ctrlKey||e.shiftKey||e.metaKey||2===e.which?(0,a.default)(t):(e.preventDefault(),(0,a.default)(t).finally((()=>{document.location=n.href}))):Promise.resolve()}var i=n(96394),l=n(69718),s=n(4396);var c=n(22379);function u(e){const t=window.performance.now();return()=>{const n=window.performance.now()-t;(0,l.default)("timing_complete",{name:e,value:n,send_to:c.config.trackingId}),(0,l.default)(e,{value:n,send_to:c.config.trackingIdGA4})}}},1745:(e,t,n)=>{n.d(t,{FlagsProvider:()=>FlagsProvider,useFeature:()=>c,useFeatures:()=>s});var r=n(67294);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var o=(0,r.createContext)({});function i(e){return Array.isArray(e)?Object.fromEntries(e.map((function(e){return[e,!0]}))):e}function l(e,t){return a({},e,t)}function FlagsProvider(e){var t=e.features,n=void 0===t?{}:t,a=e.children,c=s();return(0,r.createElement)(o.Provider,{value:l(i(c),i(n))},a)}function s(){return(0,r.useContext)(o)}function c(e){var t=s();return Array.isArray(t)?t.includes(e):"boolean"==typeof t[e]?t[e]:e.split("/").reduce((function(e,t){return"boolean"==typeof e?e:void 0!==e[t]&&e[t]}),t)}},72408:(e,t,n)=>{var r=n(27418),a=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,l=60110,s=60112;t.Suspense=60113;var c=60115,u=60116;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;a=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),i=d("react.provider"),l=d("react.context"),s=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var p="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function h(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function _(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}h.prototype.isReactComponent={},h.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},h.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=h.prototype;var y=b.prototype=new _;y.constructor=b,r(y,h.prototype),y.isPureReactComponent=!0;var E={current:null},T=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,n){var r,o={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)T.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:a,type:e,key:i,ref:l,props:o,_owner:E.current}}function v(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var C=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case o:s=!0}}if(s)return i=i(s=e),e=""===r?"."+I(s,0):r,Array.isArray(i)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),A(i,t,n,"",(function(e){return e}))):null!=i&&(v(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+I(l=e[c],c);s+=A(l,t,n,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)s+=A(l=l.value,t,n,u=r+I(l,c++),i);else if("object"===l)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function x(e,t,n){if(null==e)return e;var r=[],a=0;return A(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function k(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function N(){var e=P.current;if(null===e)throw Error(f(321));return e}var O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!v(e))throw Error(f(143));return e}},t.Component=h,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),i=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=E.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)T.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:a,type:e.type,key:i,ref:l,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=v,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},19040:(e,t,n)=>{n.d(t,{ensureFontLoaded:()=>a.default,loadInlineStylesheet:()=>o.loadInlineStylesheet,loadStylesheet:()=>o.loadStylesheet,stripHTML:()=>r.default});var r=n(71078);document.createElement("div");var a=n(28727),o=n(63929)},54e3:(e,t,n)=>{n.d(t,{getAllTemplates:()=>i});var r=n(47700),a=n(71135);const o=(0,r.default)(a.default);async function i(e){let{cdnURL:t}=e;const n=await o(t),r={createdBy:"Google",modified:"2020-04-21"};return n.map(((e,t)=>({id:t+1,...r,...e})))}}}]);