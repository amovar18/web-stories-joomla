{"version":3,"sources":["webpack:///./node_modules/web-animations-js/src/scope.js","webpack:///./node_modules/web-animations-js/src/timing-utilities.js","webpack:///./node_modules/web-animations-js/src/normalize-keyframes.js","webpack:///./node_modules/web-animations-js/src/deprecation.js","webpack:///./node_modules/web-animations-js/src/web-animations-bonus-cancel-events.js","webpack:///./node_modules/web-animations-js/src/web-animations-bonus-object-form-keyframes.js","webpack:///./node_modules/web-animations-js/src/timeline.js","webpack:///./node_modules/web-animations-js/src/web-animations-next-animation.js","webpack:///./node_modules/web-animations-js/src/keyframe-effect-constructor.js","webpack:///./node_modules/web-animations-js/src/effect-callback.js","webpack:///./node_modules/web-animations-js/src/group-constructors.js"],"names":["webAnimationsShared","webAnimations1","webAnimationsNext","shared","testing","cloneTimingInput","timingInput","clone","m","AnimationEffectTiming","this","_delay","_endDelay","_fill","_iterationStart","_iterations","_duration","_playbackRate","_direction","_easing","_easingFunction","linear","isInvalidTimingDeprecated","isDeprecated","makeTiming","forGroup","effect","timing","fill","duration","isNaN","Object","getOwnPropertyNames","forEach","property","fills","indexOf","directions","numericTimingToObject","normalizeTimingInput","cubic","a","b","c","d","x","f","start_gradient","end_gradient","start","end","mid","xEst","Math","abs","step","count","pos","stepSize","normalizeEasing","easing","styleForCleaning","document","createElement","style","animationTimingFunction","normalizedEasing","TypeError","parseEasingFunction","cubicData","cubicBezierRe","exec","apply","slice","map","Number","step1Data","step1Re","End","step2Data","step2Re","Start","middle","Middle","presets","calculateActiveDuration","repeatedDuration","playbackRate","iterations","calculatePhase","activeDuration","localTime","PhaseNone","endTime","delay","endDelay","min","PhaseBefore","PhaseAfter","PhaseActive","calculateActiveTime","fillMode","phase","calculateOverallProgress","iterationDuration","activeTime","iterationStart","overallProgress","calculateSimpleIterationProgress","simpleIterationProgress","Infinity","calculateCurrentIteration","floor","calculateDirectedProgress","playbackDirection","currentIteration","currentDirection","calculateIterationProgress","directedProgress","direction","split","prototype","_setMember","member","value","_effect","_timingInput","_timing","_animation","_rebuildUnderlyingAnimation","ease","ease-in","ease-out","ease-in-out","step-start","step-middle","step-end","numberString","RegExp","antiAlias","aliases","isNotAnimatable","lastIndexOf","expandShorthandAndAntiAlias","result","longProperties","shorthandToLonghand","shorthandExpanderElem","i","longProperty","longhandValue","convertToArrayForm","effectInput","normalizedEffectInput","values","Array","isArray","keyframe","numKeyframes","length","offset","composite","push","sort","normalizeKeyframes","spaceKeyframes","keyframes","previousIndex","previousOffset","j","window","Symbol","iterator","from","originalKeyframe","memberValue","isFinite","type","DOMException","NOT_SUPPORTED_ERR","name","message","everyFrameHasOffset","filter","background","border","borderBottom","borderColor","borderLeft","borderRadius","borderRight","borderTop","borderWidth","flex","font","margin","outline","padding","createElementNS","borderWidthAliases","thin","medium","thick","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","fontSize","xx-small","x-small","small","large","x-large","xx-large","fontWeight","normal","bold","outlineWidth","textShadow","none","boxShadow","silenced","feature","date","advice","plural","auxVerb","today","Date","expiry","setMonth","getMonth","console","warn","toDateString","deprecated","Error","animate","oncancel","now","performance","AnimationCancelEvent","target","currentTime","timelineTime","bubbles","cancelable","currentTarget","defaultPrevented","eventPhase","Event","AT_TARGET","timeStamp","originalElementAnimate","Element","options","animation","call","_cancelHandlers","originalCancel","cancel","event","handlers","concat","setTimeout","handler","originalAddEventListener","addEventListener","originalRemoveEventListener","removeEventListener","index","splice","element","documentElement","animated","originalOpacity","getComputedStyle","getPropertyValue","testOpacity","opacity","error","scope","webAnimationsNextTick","t","timeline","_discardAnimations","_animations","ticking","requestAnimationFrame","originalRequestAnimationFrame","_updateAnimationsPromises","AnimationTimeline","getAnimations","animationsWithPromises","_updatePromises","playState","_play","Animation","restartWebAnimationsNextTick","play","remove","defineProperty","configurable","get","e","id","_id","_timeline","_sequenceNumber","sequenceNumber","_holdTime","_paused","_isGroup","_childAnimations","_callback","_oldPlayState","oldPlayState","newPlayState","_readyPromise","_rejectReadyPromise","_resolveReadyPromise","_finishedPromise","_rejectFinishedPromise","_resolveFinishedPromise","oldPlaybackRate","oldPaused","oldStartTime","oldCurrentTime","hadUnderlying","startTime","_wrapper","KeyframeEffect","newUnderlyingAnimationForKeyframeEffect","bindAnimationForKeyframeEffect","SequenceEffect","GroupEffect","newUnderlyingAnimationForGroup","bindAnimationForGroup","_onsample","bindAnimationForCustomEffect","pause","_updateChildren","childAnimation","_arrangeChildren","groupChildDuration","bind","_setExternalAnimation","children","_constructChildAnimations","_removeChildAnimations","child","finished","Promise","resolve","reject","ABORT_ERR","ready","onfinish","v","sign","MAX_VALUE","_register","_forEachChild","awaitStartTime","time","finish","reverse","wrapped","pop","KeyframeList","_frames","updatePendingGroups","updated","pendingGroups","shift","disassociate","removeMulti","effects","oldParents","_parent","_rebuild","_normalizedKeyframes","_keyframes","getFrames","onsample","callback","parent","nullTarget","keyframeEffect","groupAnimation","originalGetComputedStyle","enumerable","arguments","register","_registered","callbacks","tick","updating","left","right","effectFunction","isKeyframeEffect","last","node","constructor","_reparent","_isAncestor","newChildren","_putChild","args","isAppend","HIERARCHY_REQUEST_ERR","unshift","append","prepend","firstChild","lastChild","clonedTiming","clonedChildren","create","total","max","group","underlyingAnimation","ticker","tf","underlyingEffect"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;CAcA,cAAIA,MACAC,KACAC,MCFJ,SAAUC,EAAQC,GAMhB,QAASC,GAAiBC,GACxB,GAA0B,gBAAfA,GACT,MAAOA,EAET,IAAIC,KACJ,KAAK,GAAIC,KAAKF,GACZC,EAAMC,GAAKF,EAAYE,EAEzB,OAAOD,GAGT,QAASE,KACPC,KAAKC,OAAS,EACdD,KAAKE,UAAY,EACjBF,KAAKG,MAAQ,OACbH,KAAKI,gBAAkB,EACvBJ,KAAKK,YAAc,EACnBL,KAAKM,UAAY,EACjBN,KAAKO,cAAgB,EACrBP,KAAKQ,WAAa,SAClBR,KAAKS,QAAU,SACfT,KAAKU,gBAAkBC,EAGzB,QAASC,KACP,MAAOnB,GAAOoB,aAAa,wBAAyB,aAAc,mDA8EpE,QAASC,GAAWlB,EAAamB,EAAUC,GACzC,GAAIC,GAAS,GAAIlB,EA4BjB,OA3BIgB,KACFE,EAAOC,KAAO,OACdD,EAAOE,SAAW,QAEM,gBAAfvB,IAA4BwB,MAAMxB,YAElCA,GACTyB,OAAOC,oBAAoB1B,GAAa2B,QAAQ,SAASC,GACvD,GAA6B,QAAzB5B,EAAY4B,GAAqB,CACnC,IAA+B,gBAApBP,GAAOO,IAAqC,YAAZA,KACL,gBAAzB5B,GAAY4B,IAAyBJ,MAAMxB,EAAY4B,KAChE,MAGJ,IAAiB,QAAZA,IAAiE,GAAzCC,EAAMC,QAAQ9B,EAAY4B,IACrD,MAEF,IAAiB,aAAZA,IAA2E,GAA9CG,EAAWD,QAAQ9B,EAAY4B,IAC/D,MAEF,IAAgB,gBAAZA,GAAwD,IAA1B5B,EAAY4B,IAAmB/B,EAAOoB,aAAa,qCAAsC,aAAc,uCACvI,MAEFI,GAAOO,GAAY5B,EAAY4B,MAlBnCP,EAAOE,SAAWvB,EAsBbqB,EAGT,QAASW,GAAsBhC,GAQ7B,MAP0B,gBAAfA,KAEPA,EADEwB,MAAMxB,IACQuB,SAAU,IAEVA,SAAUvB,IAGvBA,EAGT,QAASiC,GAAqBjC,EAAamB,GAEzC,MADAnB,GAAcH,EAAOmC,sBAAsBhC,GACpCkB,EAAWlB,EAAamB,GAGjC,QAASe,GAAMC,EAAGC,EAAGC,EAAGC,GACtB,MAAIH,GAAI,GAAKA,EAAI,GAAKE,EAAI,GAAKA,EAAI,EAC1BtB,EAEF,SAASwB,GAmBd,QAASC,GAAEL,EAAGC,EAAGlC,GAAK,MAAO,GAAIiC,GAAK,EAAIjC,IAAM,EAAIA,GAAKA,EAAI,EAAIkC,GAAK,EAAIlC,GAAKA,EAAIA,EAAIA,EAAIA,EAAIA,EAlB/F,GAAIqC,GAAK,EAAG,CACV,GAAIE,GAAiB,CAKrB,OAJIN,GAAI,EACNM,EAAiBL,EAAID,GACbC,GAAKC,EAAI,IACjBI,EAAiBH,EAAID,GAChBI,EAAiBF,EAE1B,GAAIA,GAAK,EAAG,CACV,GAAIG,GAAe,CAKnB,OAJIL,GAAI,EACNK,GAAgBJ,EAAI,IAAMD,EAAI,GAClB,GAALA,GAAUF,EAAI,IACrBO,GAAgBN,EAAI,IAAMD,EAAI,IACzB,EAAIO,GAAgBH,EAAI,GAKjC,IAFA,GAAII,GAAQ,EAAGC,EAAM,EAEdD,EAAQC,GAAK,CAClB,GAAIC,IAAOF,EAAQC,GAAO,EACtBE,EAAON,EAAEL,EAAGE,EAAGQ,EACnB,IAAIE,KAAKC,IAAIT,EAAIO,GAAQ,KACvB,MAAON,GAAEJ,EAAGE,EAAGO,EAEbC,GAAOP,EACTI,EAAQE,EAERD,EAAMC,EAGV,MAAOL,GAAEJ,EAAGE,EAAGO,IAQnB,QAASI,GAAKC,EAAOC,GACnB,MAAO,UAASZ,GACd,GAAIA,GAAK,EACP,MAAO,EAET,IAAIa,GAAW,EAAIF,CAEnB,QADAX,GAAKY,EAAMC,GACAb,EAAIa,GAoBnB,QAASC,GAAgBC,GAClBC,IACHA,EAAmBC,SAASC,cAAc,OAAOC,OAEnDH,EAAiBI,wBAA0B,GAC3CJ,EAAiBI,wBAA0BL,CAC3C,IAAIM,GAAmBL,EAAiBI,uBACxC,IAAwB,IAApBC,GAA0B5C,IAC5B,KAAM,IAAI6C,WAAUP,EAAS,mCAE/B,OAAOM,GAGT,QAASE,GAAoBF,GAC3B,GAAwB,UAApBA,EACF,MAAO7C,EAET,IAAIgD,GAAYC,EAAcC,KAAKL,EACnC,IAAIG,EACF,MAAO7B,GAAMgC,MAAM9D,KAAM2D,EAAUI,MAAM,GAAGC,IAAIC,QAElD,IAAIC,GAAYC,EAAQN,KAAKL,EAC7B,IAAIU,EACF,MAAOrB,GAAKoB,OAAOC,EAAU,IAAKE,EAEpC,IAAIC,GAAYC,EAAQT,KAAKL,EAC7B,OAAIa,GACKxB,EAAKoB,OAAOI,EAAU,KAAM9B,MAASgC,EAAOC,OAAUC,EAAQjC,IAAO4B,GAAKC,EAAU,KAEhFK,EAAQlB,IAMd7C,EAGT,QAASgE,GAAwB1D,GAC/B,MAAO0B,MAAKC,IAAIgC,EAAiB3D,GAAUA,EAAO4D,cAGpD,QAASD,GAAiB3D,GAExB,MAAwB,KAApBA,EAAOE,UAAwC,IAAtBF,EAAO6D,WAC3B,EAEF7D,EAAOE,SAAWF,EAAO6D,WAQlC,QAASC,GAAeC,EAAgBC,EAAWhE,GAEjD,GAAiB,MAAbgE,EACF,MAAOC,EAGT,IAAIC,GAAUlE,EAAOmE,MAAQJ,EAAiB/D,EAAOoE,QACrD,OAAIJ,GAAYtC,KAAK2C,IAAIrE,EAAOmE,MAAOD,GAC9BI,EAELN,GAAatC,KAAK2C,IAAIrE,EAAOmE,MAAQJ,EAAgBG,GAChDK,EAGFC,EAGT,QAASC,GAAoBV,EAAgBW,EAAUV,EAAWW,EAAOR,GAEvE,OAAQQ,GACN,IAAKL,GACH,MAAgB,aAAZI,GAAuC,QAAZA,EACtB,EACF,IACT,KAAKF,GACH,MAAOR,GAAYG,CACrB,KAAKI,GACH,MAAgB,YAAZG,GAAsC,QAAZA,EACrBX,EACF,IACT,KAAKE,GACH,MAAO,OAIb,QAASW,GAAyBC,EAAmBF,EAAOd,EAAYiB,EAAYC,GAElF,GAAIC,GAAkBD,CAQtB,OAP0B,KAAtBF,EACEF,IAAUL,IACZU,GAAmBnB,GAGrBmB,GAAmBF,EAAaD,EAE3BG,EAGT,QAASC,GAAiCD,EAAiBD,EAAgBJ,EAAOd,EAAYiB,EAAYD,GAGxG,GAAIK,GAA2BF,IAAoBG,IAAYJ,EAAiB,EAAIC,EAAkB,CAKtG,OAJgC,KAA5BE,GAAiCP,IAAUJ,GAA6B,IAAfV,GACzC,IAAfiB,GAA0C,IAAtBD,IACvBK,EAA0B,GAErBA,EAGT,QAASE,GAA0BT,EAAOd,EAAYqB,EAAyBF,GAE7E,MAAIL,KAAUJ,GAAcV,IAAesB,IAClCA,IAEuB,IAA5BD,EACKxD,KAAK2D,MAAML,GAAmB,EAEhCtD,KAAK2D,MAAML,GAGpB,QAASM,GAA0BC,EAAmBC,EAAkBN,GAEtE,GAAIO,GAAmBF,CACvB,IAA0B,WAAtBA,GAAwD,YAAtBA,EAAiC,CACrE,GAAItE,GAAIuE,CACkB,uBAAtBD,IACFtE,GAAK,GAEPwE,EAAmB,SACfxE,IAAMkE,KAAYlE,EAAI,GAAM,IAC9BwE,EAAmB,WAGvB,MAAyB,WAArBA,EACKP,EAEF,EAAIA,EAGb,QAASQ,GAA2B3B,EAAgBC,EAAWhE,GAC7D,GAAI2E,GAAQb,EAAeC,EAAgBC,EAAWhE,GAClD8E,EAAaL,EAAoBV,EAAgB/D,EAAOC,KAAM+D,EAAWW,EAAO3E,EAAOmE,MAC3F,IAAmB,OAAfW,EACF,MAAO,KAET,IAAIE,GAAkBJ,EAAyB5E,EAAOE,SAAUyE,EAAO3E,EAAO6D,WAAYiB,EAAY9E,EAAO+E,gBACzGG,EAA0BD,EAAiCD,EAAiBhF,EAAO+E,eAAgBJ,EAAO3E,EAAO6D,WAAYiB,EAAY9E,EAAOE,UAChJsF,EAAmBJ,EAA0BT,EAAO3E,EAAO6D,WAAYqB,EAAyBF,GAChGW,EAAmBL,EAA0BtF,EAAO4F,UAAWJ,EAAkBN,EAIrF,OAAOlF,GAAOP,gBAAgBkG,GA/XhC,GAAInF,GAAQ,+BAA+BqF,MAAM,KAC7CnF,EAAa,sCAAsCmF,MAAM,KACzDnG,EAAS,SAASwB,GAAK,MAAOA,GA8BlCpC,GAAsBgH,WACpBC,WAAY,SAASC,EAAQC,GAC3BlH,KAAK,IAAMiH,GAAUC,EACjBlH,KAAKmH,UACPnH,KAAKmH,QAAQC,aAAaH,GAAUC,EACpClH,KAAKmH,QAAQE,QAAU5H,EAAOoC,qBAAqB7B,KAAKmH,QAAQC,cAChEpH,KAAKmH,QAAQnC,eAAiBvF,EAAOkF,wBAAwB3E,KAAKmH,QAAQE,SACtErH,KAAKmH,QAAQG,YACftH,KAAKmH,QAAQG,WAAWC,gCAI9B1C,mBACE,MAAO7E,MAAKO,eAEd6E,UAAU8B,GACRlH,KAAKgH,WAAW,QAASE,IAE3B9B,YACE,MAAOpF,MAAKC,QAEdoF,aAAa6B,GACXlH,KAAKgH,WAAW,WAAYE,IAE9B7B,eACE,MAAOrF,MAAKE,WAEdgB,SAASgG,GACPlH,KAAKgH,WAAW,OAAQE,IAE1BhG,WACE,MAAOlB,MAAKG,OAEd6F,mBAAmBkB,GACjB,IAAK9F,MAAM8F,IAAUA,EAAQ,IAAMtG,IACjC,KAAM,IAAI6C,WAAU,2DAA6DyD,EAEnFlH,MAAKgH,WAAW,iBAAkBE,IAEpClB,qBACE,MAAOhG,MAAKI,iBAEde,aAAa+F,GACX,GAAa,QAATA,IAAoB9F,MAAM8F,IAAUA,EAAQ,IAAMtG,IACpD,KAAM,IAAI6C,WAAU,oDAAsDyD,EAE5ElH,MAAKgH,WAAW,WAAYE,IAE9B/F,eACE,MAAOnB,MAAKM,WAEduG,cAAcK,GACZlH,KAAKgH,WAAW,YAAaE,IAE/BL,gBACE,MAAO7G,MAAKQ,YAEd0C,WAAWgE,GACTlH,KAAKU,gBAAkBgD,EAAoBT,EAAgBiE,IAC3DlH,KAAKgH,WAAW,SAAUE,IAE5BhE,aACE,MAAOlD,MAAKS,SAEdqE,eAAeoC,GACb,IAAK9F,MAAM8F,IAAUA,EAAQ,IAAMtG,IACjC,KAAM,IAAI6C,WAAU,8CAAgDyD,EAEtElH,MAAKgH,WAAW,aAAcE,IAEhCpC,iBACE,MAAO9E,MAAKK,aA4FhB,IAAIkE,GAAQ,EACRE,EAAS,GACTL,EAAM,EAaNM,GACF8C,KAAQ1F,EAAM,IAAM,GAAK,IAAM,GAC/B2F,UAAW3F,EAAM,IAAM,EAAG,EAAG,GAC7B4F,WAAY5F,EAAM,EAAG,EAAG,IAAM,GAC9B6F,cAAe7F,EAAM,IAAM,EAAG,IAAM,GACpC8F,aAAc/E,EAAK,EAAG0B,GACtBsD,cAAehF,EAAK,EAAG4B,GACvBqD,WAAYjF,EAAK,EAAGuB,IAGlBjB,EAAmB,KACnB4E,EAAe,qCACfnE,EAAgB,GAAIoE,QAAO,kBAAoBD,EAAe,IAAMA,EAAe,IAAMA,EAAe,IAAMA,EAAe,OAC7H5D,EAAU,uBACVG,EAAU,gDAoDVY,EAAY,EACZK,EAAc,EACdC,EAAa,EACbC,EAAc,CA2GlBhG,GAAOE,iBAAmBA,EAC1BF,EAAOqB,WAAaA,EACpBrB,EAAOmC,sBAAwBA,EAC/BnC,EAAOoC,qBAAuBA,EAC9BpC,EAAOkF,wBAA0BA,EACjClF,EAAOkH,2BAA6BA,EACpClH,EAAOsF,eAAiBA,EACxBtF,EAAOwD,gBAAkBA,EACzBxD,EAAOiE,oBAAsBA,GAc5BpE,GC1ZH,SAAUG,EAAQC,GAmIhB,QAASuI,GAAUzG,EAAU0F,GAC3B,MAAI1F,KAAY0G,GACPA,EAAQ1G,GAAU0F,IAAUA,EAE9BA,EAGT,QAASiB,GAAgB3G,GAEvB,MAAoB,YAAbA,GAAmE,IAAzCA,EAAS4G,YAAY,YAAa,IAAsD,IAA1C5G,EAAS4G,YAAY,aAAc,GAIpH,QAASC,GAA4B7G,EAAU0F,EAAOoB,GACpD,IAAIH,EAAgB3G,GAApB,CAGA,GAAI+G,GAAiBC,EAAoBhH,EACzC,IAAI+G,EAAgB,CAClBE,EAAsBnF,MAAM9B,GAAY0F,CACxC,KAAK,GAAIwB,KAAKH,GAAgB,CAC5B,GAAII,GAAeJ,EAAeG,GAC9BE,EAAgBH,EAAsBnF,MAAMqF,EAChDL,GAAOK,GAAgBV,EAAUU,EAAcC,QAGjDN,GAAO9G,GAAYyG,EAAUzG,EAAU0F,IAI3C,QAAS2B,GAAmBC,GAC1B,GAAIC,KAEJ,KAAK,GAAIvH,KAAYsH,GACnB,KAAItH,KAAa,SAAU,SAAU,cAArC,CAIA,GAAIwH,GAASF,EAAYtH,EACpByH,OAAMC,QAAQF,KACjBA,GAAUA,GAKZ,KAAK,GAFDG,GACAC,EAAeJ,EAAOK,OACjBX,EAAI,EAAGA,EAAIU,EAAcV,IAChCS,KAGEA,EAASG,OADP,UAAYR,GACIA,EAAYQ,OACL,GAAhBF,EACS,EAEAV,GAAKU,EAAe,GAGpC,UAAYN,KACdK,EAASjG,OAAS4F,EAAY5F,QAG5B,aAAe4F,KACjBK,EAASI,UAAYT,EAAYS,WAGnCJ,EAAS3H,GAAYwH,EAAON,GAE5BK,EAAsBS,KAAKL,GAK/B,MADAJ,GAAsBU,KAAK,SAAS1H,EAAGC,GAAK,MAAOD,GAAEuH,OAAStH,EAAEsH,SACzDP,EAGT,QAASW,GAAmBZ,GAqE1B,QAASa,KACP,GAAIN,GAASO,EAAUP,MACa,OAAhCO,EAAUP,EAAS,GAAGC,SACxBM,EAAUP,EAAS,GAAGC,OAAS,GAC7BD,EAAS,GAA4B,MAAvBO,EAAU,GAAGN,SAC7BM,EAAU,GAAGN,OAAS,EAIxB,KAAK,GAFDO,GAAgB,EAChBC,EAAiBF,EAAU,GAAGN,OACzBZ,EAAI,EAAGA,EAAIW,EAAQX,IAAK,CAC/B,GAAIY,GAASM,EAAUlB,GAAGY,MAC1B,IAAc,MAAVA,EAAgB,CAClB,IAAK,GAAIS,GAAI,EAAGA,EAAIrB,EAAImB,EAAeE,IACrCH,EAAUC,EAAgBE,GAAGT,OAASQ,GAAkBR,EAASQ,GAAkBC,GAAKrB,EAAImB,EAC9FA,GAAgBnB,EAChBoB,EAAiBR,IAnFvB,GAAmB,MAAfR,EACF,QAGEkB,QAAOC,QAAUA,OAAOC,UAAYjB,MAAMlC,UAAUoD,MAAQrB,EAAYmB,OAAOC,YAEjFpB,EAAcG,MAAMkB,KAAKrB,IAGtBG,MAAMC,QAAQJ,KACjBA,EAAcD,EAAmBC,GA0CnC,KAAK,GAvCDc,GAAYd,EAAY9E,IAAI,SAASoG,GACvC,GAAIjB,KACJ,KAAK,GAAIlC,KAAUmD,GAAkB,CACnC,GAAIC,GAAcD,EAAiBnD,EACnC,IAAc,UAAVA,GACF,GAAmB,MAAfoD,EAAqB,CAEvB,GADAA,EAAcpG,OAAOoG,IAChBC,SAASD,GACZ,KAAM,IAAI5G,WAAU,oCACtB,IAAI4G,EAAc,GAAKA,EAAc,EACnC,KAAM,IAAI5G,WAAU,kDAEnB,IAAc,aAAVwD,EAAuB,CAChC,GAAmB,OAAfoD,GAAuC,cAAfA,EAC1B,MACEE,KAAMC,aAAaC,kBACnBC,KAAM,oBACNC,QAAS,mCAEN,IAAmB,WAAfN,EACT,KAAM,IAAI5G,WAAU,0BAA4B4G,EAAc,SAGhEA,GADmB,UAAVpD,EACKxH,EAAOwD,gBAAgBoH,GAEvB,GAAKA,CAErBhC,GAA4BpB,EAAQoD,EAAalB,GAMnD,eAJIA,EAASG,SACXH,EAASG,OAAS,cAChBH,EAASjG,SACXiG,EAASjG,OAAS,UACbiG,IAGLyB,KAEAd,OACKpB,EAAI,EAAGA,EAAIkB,EAAUP,OAAQX,IAAK,CACzC,GAAIY,GAASM,EAAUlB,GAAGY,MAC1B,IAAc,MAAVA,EAAgB,CAClB,GAAIA,EAASQ,EACX,KAAM,IAAIrG,WAAU,uEAEtBqG,GAAiBR,MAEjBsB,MA8BJ,MA1BAhB,GAAYA,EAAUiB,OAAO,SAAS1B,GACpC,MAAOA,GAASG,QAAU,GAAKH,EAASG,QAAU,IAsB/CsB,GACHjB,IAEKC,EAvST,GAAIpB,IACFsC,YACE,kBACA,qBACA,iBACA,mBACA,uBACA,mBACA,iBACA,mBAEFC,QACE,iBACA,iBACA,iBACA,mBACA,mBACA,mBACA,oBACA,oBACA,oBACA,kBACA,kBACA,mBAEFC,cACE,oBACA,oBACA,qBAEFC,aACE,iBACA,mBACA,oBACA,mBAEFC,YACE,kBACA,kBACA,mBAEFC,cACE,sBACA,uBACA,0BACA,0BAEFC,aACE,mBACA,mBACA,oBAEFC,WACE,iBACA,iBACA,kBAEFC,aACE,iBACA,mBACA,oBACA,mBAEFC,MACE,WACA,aACA,aAEFC,MACE,aACA,WACA,YACA,cACA,aACA,cAEFC,QACE,YACA,cACA,eACA,cAEFC,SACE,eACA,eACA,gBAEFC,SACE,aACA,eACA,gBACA,gBAIAlD,EAAwBrF,SAASwI,gBAAgB,+BAAgC,OAEjFC,GACFC,KAAM,MACNC,OAAQ,MACRC,MAAO,OAGL9D,GACF+D,kBAAmBJ,EACnBK,gBAAiBL,EACjBM,iBAAkBN,EAClBO,eAAgBP,EAChBQ,UACEC,WAAY,MACZC,UAAW,MACXC,MAAS,MACTT,OAAU,OACVU,MAAS,OACTC,UAAW,OACXC,WAAY,QAEdC,YACEC,OAAQ,MACRC,KAAM,OAERC,aAAclB,EACdmB,YACEC,KAAM,2BAERC,WACED,KAAM,+BA4KVxN,GAAOoJ,mBAAqBA,EAC5BpJ,EAAOiK,mBAAqBA,GAM3BpK,GClTH,SAAUG,GAER,GAAI0N,KAEJ1N,GAAOoB,aAAe,SAASuM,EAASC,EAAMC,EAAQC,GAKpD,GAAIC,GAAUD,EAAS,MAAQ,KAC3BE,EAAQ,GAAIC,MACZC,EAAS,GAAID,MAAKL,EAGtB,OAFAM,GAAOC,SAASD,EAAOE,WAAa,KAEhCJ,EAAQE,IACJP,IAAWD,IACfW,QAAQC,KAAK,mBAAqBX,EAAU,IAAMI,EAAU,wCAA0CG,EAAOK,eAAiB,KAAOV,GAEvIH,EAASC,MAAW,KAOxB3N,EAAOwO,WAAa,SAASb,EAASC,EAAMC,EAAQC,GAClD,GAAIC,GAAUD,EAAS,MAAQ,IAC/B,IAAI9N,EAAOoB,aAAauM,EAASC,EAAMC,EAAQC,GAC7C,KAAM,IAAIW,OAAMd,EAAU,IAAMI,EAAU,yBAA2BF,KAIxEhO,gqtBChCH,WAEE,YAAI8D,SAASC,cAAc,OAAO8K,YAAYC,SAA9C,CAKE,GAAIC,EACC,IAAIrE,OAAOsE,aAAeA,YAAYD,IAC3C,GAAIA,GAAM,WAAa,MAAOC,aAAYD,WAE1C,IAAIA,GAAM,WAAa,MAAOX,MAAKW,MAGrC,IAAIE,GAAuB,SAASC,EAAQC,EAAaC,GACvD1O,KAAKwO,OAASA,EACdxO,KAAKyO,YAAcA,EACnBzO,KAAK0O,aAAeA,EAEpB1O,KAAKuK,KAAO,SACZvK,KAAK2O,WACL3O,KAAK4O,cACL5O,KAAK6O,cAAgBL,EACrBxO,KAAK8O,oBACL9O,KAAK+O,WAAaC,MAAMC,UACxBjP,KAAKkP,UAAYxB,KAAKW,OAGpBc,EAAyBnF,OAAOoF,QAAQrI,UAAUoH,OACtDnE,QAAOoF,QAAQrI,UAAUoH,QAAU,SAASrF,EAAauG,GACvD,GAAIC,GAAYH,EAAuBI,KAAKvP,KAAM8I,EAAauG,EAE/DC,GAAUE,mBACVF,EAAUlB,SAAW,IAErB,IAAIqB,GAAiBH,EAAUI,MAC/BJ,GAAUI,OAAS,WACjBD,EAAeF,KAAKvP,KACpB,IAAI2P,GAAQ,GAAIpB,GAAqBvO,KAAM,KAAMqO,KAC7CuB,EAAW5P,KAAKwP,gBAAgBK,OAAO7P,KAAKoO,UAAYpO,KAAKoO,aACjE0B,YAAW,WACTF,EAASrO,QAAQ,SAASwO,GACxBA,EAAQR,KAAKI,EAAMnB,OAAQmB,MAE5B,GAGL,IAAIK,GAA2BV,EAAUW,gBACzCX,GAAUW,iBAAmB,SAAS1F,EAAMwF,GACpB,kBAAXA,IAAiC,UAARxF,EAClCvK,KAAKwP,gBAAgBhG,KAAKuG,GAE1BC,EAAyBT,KAAKvP,KAAMuK,EAAMwF,GAG9C,IAAIG,GAA8BZ,EAAUa,mBAW5C,OAVAb,GAAUa,oBAAsB,SAAS5F,EAAMwF,GAC7C,GAAY,UAARxF,EAAkB,CACpB,GAAI6F,GAAQpQ,KAAKwP,gBAAgB9N,QAAQqO,EACrCK,IAAS,GACXpQ,KAAKwP,gBAAgBa,OAAOD,EAAO,OAErCF,GAA4BX,KAAKvP,KAAMuK,EAAMwF,IAI1CT,OClEX,SAAU7P,GAgBR,GAAI6Q,GAAUlN,SAASmN,gBACnBjB,EAAY,KACZkB,IACJ,KACE,GAAIC,GAAkBC,iBAAiBJ,GAASK,iBAAiB,WAC7DC,EAAiC,KAAnBH,EAAyB,IAAM,GACjDnB,GAAYgB,EAAQnC,SAAS0C,SAAYD,EAAaA,KACjDzP,SAAU,IACfmO,EAAUb,YAAc,EACxB+B,EAAWE,iBAAiBJ,GAASK,iBAAiB,YAAcC,EACpE,MAAOE,IACP,QACIxB,GACFA,EAAUI,SAEd,IAAIc,EAAJ,CAIA,GAAIrB,GAAyBnF,OAAOoF,QAAQrI,UAAUoH,OACtDnE,QAAOoF,QAAQrI,UAAUoH,QAAU,SAASrF,EAAauG,GAUvD,MATIrF,QAAOC,QAAUA,OAAOC,UAAYjB,MAAMlC,UAAUoD,MAAQrB,EAAYmB,OAAOC,YAEjFpB,EAAcG,MAAMkB,KAAKrB,IAGtBG,MAAMC,QAAQJ,IAAgC,OAAhBA,IACjCA,EAAcrJ,EAAOoJ,mBAAmBC,IAGnCqG,EAAuBI,KAAKvP,KAAM8I,EAAauG,MAEvD/P,GC/CH,SAAUG,EAAQsR,EAAOrR,GA8DvB,QAASsR,GAAsBC,GAC7B,GAAIC,GAAWH,EAAMG,QACrBA,GAASzC,YAAcwC,EACvBC,EAASC,qBAC0B,GAA/BD,EAASE,YAAY/H,OACvBgI,KAEAC,sBAAsBN,GApE1B,GAAIO,GAAgCvH,OAAOsH,qBAC3CtH,QAAOsH,sBAAwB,SAASlP,GACtC,MAAOmP,GAA8B,SAASpP,GAC5C4O,EAAMG,SAASM,4BACfpP,EAAED,GACF4O,EAAMG,SAASM,+BAInBT,EAAMU,kBAAoB,WACxBzR,KAAKoR,eACLpR,KAAKyO,oBAGPsC,EAAMU,kBAAkB1K,WACtB2K,cAAe,WAEb,MADA1R,MAAKmR,qBACEnR,KAAKoR,YAAYrN,SAE1ByN,0BAA2B,WACzBT,EAAMY,uBAAyBZ,EAAMY,uBAAuB9G,OAAO,SAASyE,GAC1E,MAAOA,GAAUsC,qBAGrBT,mBAAoB,WAClBnR,KAAKwR,4BACLxR,KAAKoR,YAAcpR,KAAKoR,YAAYvG,OAAO,SAASyE,GAClD,MAA8B,YAAvBA,EAAUuC,WAAkD,QAAvBvC,EAAUuC,aAG1DC,MAAO,SAAS9Q,GACd,GAAIsO,GAAY,GAAIyB,GAAMgB,UAAU/Q,EAAQhB,KAW5C,OAVAA,MAAKoR,YAAY5H,KAAK8F,GACtByB,EAAMiB,+BAMN1C,EAAUsC,kBACVtC,EAAUhI,WAAW2K,OACrB3C,EAAUsC,kBACHtC,GAET2C,KAAM,SAASjR,GAIb,MAHIA,IACFA,EAAOkR,SAEFlS,KAAK8R,MAAM9Q,IAItB,IAAIqQ,KAEJN,GAAMiB,6BAA+B,WAC9BX,IACHA,KACAC,sBAAsBN,IAc1B,IAAIE,GAAW,GAAIH,GAAMU,iBACzBV,GAAMG,SAAWA,CAEjB,KACE7P,OAAO8Q,eAAenI,OAAO5G,SAAU,YACrCgP,gBACAC,IAAK,WAAa,MAAOnB,MAE3B,MAAOoB,IACT,IACEtI,OAAO5G,SAAS8N,SAAWA,EAC3B,MAAOoB,MAERhT,EAAqBE,GCtFxB,SAAUC,EAAQsR,EAAOrR,GACvBqR,EAAMY,0BAENZ,EAAMgB,UAAY,SAAS/Q,EAAQkQ,GASjC,GARAlR,KAAKuS,GAAK,GACNvR,GAAUA,EAAOwR,MACnBxS,KAAKuS,GAAKvR,EAAOwR,KAEnBxS,KAAKgB,OAASA,EACVA,IACFA,EAAOsG,WAAatH,OAEjBkR,EACH,KAAM,IAAIhD,OAAM,gDAElBlO,MAAKyS,UAAYvB,EACjBlR,KAAK0S,gBAAkBjT,EAAOkT,iBAC9B3S,KAAK4S,UAAY,EACjB5S,KAAK6S,WACL7S,KAAK8S,YACL9S,KAAKsH,WAAa,KAClBtH,KAAK+S,oBACL/S,KAAKgT,UAAY,KACjBhT,KAAKiT,cAAgB,OACrBjT,KAAKuH,8BAELvH,KAAKsH,WAAWoI,SAChB1P,KAAK4R,mBAGPb,EAAMgB,UAAUhL,WACd6K,gBAAiB,WACf,GAAIsB,GAAelT,KAAKiT,cACpBE,EAAenT,KAAK6R,SAsBxB,OArBI7R,MAAKoT,eAAiBD,IAAiBD,IACrB,QAAhBC,GACFnT,KAAKqT,sBACLrT,KAAKoT,sBACoB,WAAhBF,EACTlT,KAAKsT,uBACoB,WAAhBH,IACTnT,KAAKoT,uBAGLpT,KAAKuT,kBAAoBJ,IAAiBD,IACxB,QAAhBC,GACFnT,KAAKwT,yBACLxT,KAAKuT,yBACoB,YAAhBJ,EACTnT,KAAKyT,0BACoB,YAAhBP,IACTlT,KAAKuT,0BAGTvT,KAAKiT,cAAgBjT,KAAK6R,UAClB7R,KAAKoT,eAAiBpT,KAAKuT,kBAErChM,4BAA6B,WAC3BvH,KAAK4R,iBACL,IAAI8B,GACAC,EACAC,EACAC,EACAC,IAAgB9T,KAAKsH,UACrBwM,KACFJ,EAAkB1T,KAAK6E,aACvB8O,EAAY3T,KAAK6S,QACjBe,EAAe5T,KAAK+T,UACpBF,EAAiB7T,KAAKyO,YACtBzO,KAAKsH,WAAWoI,SAChB1P,KAAKsH,WAAW0M,SAAW,KAC3BhU,KAAKsH,WAAa,QAGftH,KAAKgB,QAAUhB,KAAKgB,iBAAkBgJ,QAAOiK,kBAChDjU,KAAKsH,WAAayJ,EAAMmD,wCAAwClU,KAAKgB,QACrE+P,EAAMoD,+BAA+BnU,QAEnCA,KAAKgB,iBAAkBgJ,QAAOoK,gBAAkBpU,KAAKgB,iBAAkBgJ,QAAOqK,eAChFrU,KAAKsH,WAAayJ,EAAMuD,+BAA+BtU,KAAKgB,QAC5D+P,EAAMwD,sBAAsBvU,OAE1BA,KAAKgB,QAAUhB,KAAKgB,OAAOwT,WAC7BzD,EAAM0D,6BAA6BzU,MAEjC8T,IACqB,GAAnBJ,IACF1T,KAAK6E,aAAe6O,GAED,OAAjBE,EACF5T,KAAK+T,UAAYH,EACW,OAAnBC,EACT7T,KAAKyO,YAAcoF,EACS,OAAnB7T,KAAK4S,YACd5S,KAAKyO,YAAczO,KAAK4S,WAEtBe,GACF3T,KAAK0U,SAGT1U,KAAK4R,mBAEP+C,gBAAiB,WACf,GAAK3U,KAAKgB,QAA4B,QAAlBhB,KAAK6R,UAAzB,CAGA,GAAIvI,GAAStJ,KAAKgB,OAAOqG,QAAQjC,KACjCpF,MAAK+S,iBAAiBxR,QAAQ,SAASqT,GACrC5U,KAAK6U,iBAAiBD,EAAgBtL,GAClCtJ,KAAKgB,iBAAkBgJ,QAAOoK,iBAChC9K,GAAUyH,EAAM+D,mBAAmBF,EAAe5T,UACpD+T,KAAK/U,SAETgV,sBAAuB,SAAS1F,GAC9B,GAAKtP,KAAKgB,QAAWhB,KAAK8S,SAE1B,IAAK,GAAIpK,GAAI,EAAGA,EAAI1I,KAAKgB,OAAOiU,SAAS5L,OAAQX,IAC/C1I,KAAKgB,OAAOiU,SAASvM,GAAGpB,WAAagI,EACrCtP,KAAK+S,iBAAiBrK,GAAGsM,sBAAsB1F,IAGnD4F,0BAA2B,WACzB,GAAKlV,KAAKgB,QAAWhB,KAAK8S,SAA1B,CAEA,GAAIxJ,GAAStJ,KAAKgB,OAAOqG,QAAQjC,KACjCpF,MAAKmV,yBACLnV,KAAKgB,OAAOiU,SAAS1T,QAAQ,SAAS6T,GACpC,GAAIR,GAAiB7D,EAAMG,SAASY,MAAMsD,EAC1CpV,MAAK+S,iBAAiBvJ,KAAKoL,GAC3BA,EAAe/P,aAAe7E,KAAK6E,aAC/B7E,KAAK6S,SACP+B,EAAeF,QACjBU,EAAM9N,WAAatH,KAAKgB,OAAOsG,WAE/BtH,KAAK6U,iBAAiBD,EAAgBtL,GAElCtJ,KAAKgB,iBAAkBgJ,QAAOoK,iBAChC9K,GAAUyH,EAAM+D,mBAAmBM,KACrCL,KAAK/U,SAET6U,iBAAkB,SAASD,EAAgBtL,GAClB,OAAnBtJ,KAAK+T,UACPa,EAAenG,YAAczO,KAAKyO,YAAcnF,EAAStJ,KAAK6E,aACrD+P,EAAeb,YAAc/T,KAAK+T,UAAYzK,EAAStJ,KAAK6E,eACrE+P,EAAeb,UAAY/T,KAAK+T,UAAYzK,EAAStJ,KAAK6E,eAG9DqM,eACE,MAAOlR,MAAKyS,WAEdZ,gBACE,MAAO7R,MAAKsH,WAAatH,KAAKsH,WAAWuK,UAAY,QAEvDwD,eACE,MAAKrL,QAAOsL,SAIPtV,KAAKuT,oBAC2C,GAA/CxC,EAAMY,uBAAuBjQ,QAAQ1B,OACvC+Q,EAAMY,uBAAuBnI,KAAKxJ,MAEpCA,KAAKuT,iBAAmB,GAAI+B,SACxB,SAASC,EAASC,GAChBxV,KAAKyT,wBAA0B,WAC7B8B,EAAQvV,OAEVA,KAAKwT,uBAAyB,WAC5BgC,GAAQjL,KAAMC,aAAaiL,UAAW/K,KAAM,iBAE9CqK,KAAK/U,OACW,YAAlBA,KAAK6R,WACP7R,KAAKyT,2BAGFzT,KAAKuT,mBApBVzF,QAAQC,KAAK,6DACN,OAqBX2H,YACE,MAAK1L,QAAOsL,SAIPtV,KAAKoT,iBAC2C,GAA/CrC,EAAMY,uBAAuBjQ,QAAQ1B,OACvC+Q,EAAMY,uBAAuBnI,KAAKxJ,MAEpCA,KAAKoT,cAAgB,GAAIkC,SACrB,SAASC,EAASC,GAChBxV,KAAKsT,qBAAuB,WAC1BiC,EAAQvV,OAEVA,KAAKqT,oBAAsB,WACzBmC,GAAQjL,KAAMC,aAAaiL,UAAW/K,KAAM,iBAE9CqK,KAAK/U,OACY,YAAnBA,KAAK6R,WACP7R,KAAKsT,wBAGFtT,KAAKoT,gBApBVtF,QAAQC,KAAK,6DACN,OAqBX4H,eACE,MAAO3V,MAAKsH,WAAWqO,UAEzBA,aAAaC,GAET5V,KAAKsH,WAAWqO,SADF,kBAALC,GACkB,SAAUtD,GACnCA,EAAE9D,OAASxO,KACX4V,EAAErG,KAAKvP,KAAMsS,IACZyC,KAAK/U,MAEmB4V,GAG/BxH,eACE,MAAOpO,MAAKsH,WAAW8G,UAEzBA,aAAawH,GAET5V,KAAKsH,WAAW8G,SADF,kBAALwH,GACkB,SAAUtD,GACnCA,EAAE9D,OAASxO,KACX4V,EAAErG,KAAKvP,KAAMsS,IACZyC,KAAK/U,MAEmB4V,GAG/BnH,kBACEzO,KAAK4R,iBACL,IAAInD,GAAczO,KAAKsH,WAAWmH,WAElC,OADAzO,MAAK4R,kBACEnD,GAETA,gBAAgBmH,GACd5V,KAAK4R,kBACL5R,KAAKsH,WAAWmH,YAAcnE,SAASsL,GAAKA,EAAIjT,KAAKkT,KAAKD,GAAK3R,OAAO6R,UACtE9V,KAAK+V,YACL/V,KAAKgW,cAAc,SAASZ,EAAO9L,GACjC8L,EAAM3G,YAAcmH,EAAItM,IAE1BtJ,KAAK4R,mBAEPmC,gBACE,MAAO/T,MAAKsH,WAAWyM,WAEzBA,cAAc6B,GACZ5V,KAAK4R,kBACL5R,KAAKsH,WAAWyM,UAAYzJ,SAASsL,GAAKA,EAAIjT,KAAKkT,KAAKD,GAAK3R,OAAO6R,UACpE9V,KAAK+V,YACL/V,KAAKgW,cAAc,SAASZ,EAAO9L,GACjC8L,EAAMrB,UAAY6B,EAAItM,IAExBtJ,KAAK4R,mBAEP/M,mBACE,MAAO7E,MAAKsH,WAAWzC,cAEzBA,iBAAiBqC,GACflH,KAAK4R,iBACL,IAAIiC,GAAiB7T,KAAKyO,WAC1BzO,MAAKsH,WAAWzC,aAAeqC,EAC/BlH,KAAKgW,cAAc,SAASpB,GAC1BA,EAAe/P,aAAeqC,IAET,OAAnB2M,IACF7T,KAAKyO,YAAcoF,GAErB7T,KAAK4R,mBAEPK,KAAM,WACJjS,KAAK4R,kBACL5R,KAAK6S,WACL7S,KAAKsH,WAAW2K,QACiC,GAA7CjS,KAAKyS,UAAUrB,YAAY1P,QAAQ1B,OACrCA,KAAKyS,UAAUrB,YAAY5H,KAAKxJ,MAElCA,KAAK+V,YACLhF,EAAMkF,eAAejW,MACrBA,KAAKgW,cAAc,SAASZ,GAC1B,GAAIc,GAAOd,EAAM3G,WACjB2G,GAAMnD,OACNmD,EAAM3G,YAAcyH,IAEtBlW,KAAK4R,mBAEP8C,MAAO,WACL1U,KAAK4R,kBACD5R,KAAKyO,cACPzO,KAAK4S,UAAY5S,KAAKyO,aAExBzO,KAAKsH,WAAWoN,QAChB1U,KAAK+V,YACL/V,KAAKgW,cAAc,SAASZ,GAC1BA,EAAMV,UAER1U,KAAK6S,WACL7S,KAAK4R,mBAEPuE,OAAQ,WACNnW,KAAK4R,kBACL5R,KAAKsH,WAAW6O,SAChBnW,KAAK+V,YACL/V,KAAK4R,mBAEPlC,OAAQ,WACN1P,KAAK4R,kBACL5R,KAAKsH,WAAWoI,SAChB1P,KAAK+V,YACL/V,KAAKmV,yBACLnV,KAAK4R,mBAEPwE,QAAS,WACPpW,KAAK4R,iBACL,IAAIiC,GAAiB7T,KAAKyO,WAC1BzO,MAAKsH,WAAW8O,UAChBpW,KAAKgW,cAAc,SAASpB,GAC1BA,EAAewB,YAEM,OAAnBvC,IACF7T,KAAKyO,YAAcoF,GAErB7T,KAAK4R,mBAEP3B,iBAAkB,SAAS1F,EAAMwF,GAC/B,GAAIsG,GAAUtG,CACQ,mBAAXA,KACTsG,EAAU,SAAU/D,GAClBA,EAAE9D,OAASxO,KACX+P,EAAQR,KAAKvP,KAAMsS,IAClByC,KAAK/U,MACR+P,EAAQiE,SAAWqC,GAErBrW,KAAKsH,WAAW2I,iBAAiB1F,EAAM8L,IAEzClG,oBAAqB,SAAS5F,EAAMwF,GAClC/P,KAAKsH,WAAW6I,oBAAoB5F,EAAOwF,GAAWA,EAAQiE,UAAajE,IAE7EoF,uBAAwB,WACtB,KAAOnV,KAAK+S,iBAAiB1J,QAC3BrJ,KAAK+S,iBAAiBuD,MAAM5G,UAEhCsG,cAAe,SAAS5T,GACtB,GAAIkH,GAAS,CASb,IARItJ,KAAKgB,OAAOiU,UAAYjV,KAAK+S,iBAAiB1J,OAASrJ,KAAKgB,OAAOiU,SAAS5L,QAC9ErJ,KAAKkV,4BACPlV,KAAK+S,iBAAiBxR,QAAQ,SAAS6T,GACrChT,EAAEmN,KAAKvP,KAAMoV,EAAO9L,GAChBtJ,KAAKgB,iBAAkBgJ,QAAOoK,iBAChC9K,GAAU8L,EAAMpU,OAAOgE,iBACzB+P,KAAK/U,OAEe,WAAlBA,KAAK6R,UAAT,CAEA,GAAI5Q,GAASjB,KAAKgB,OAAOqG,QACrB4J,EAAIjR,KAAKyO,WACH,QAANwC,IACFA,EAAIxR,EAAOkH,2BAA2BlH,EAAOkF,wBAAwB1D,GAASgQ,EAAGhQ,KAC1E,MAALgQ,GAAa7P,MAAM6P,KACrBjR,KAAKmV,4BAIXnL,OAAO+H,UAAYhB,EAAMgB,WAMxBzS,EAAqBE,GChXvB,SAASC,EAAQsR,EAAOrR,GAqCvB,QAAS6W,GAAazN,GACpB9I,KAAKwW,QAAU/W,EAAOiK,mBAAmBZ,GAoG3C,QAAS2N,KAEP,IADA,GAAIC,MACGC,EAActN,QACPsN,EAAcC,QACpBjC,kBACN+B,IAEF,OAAOA,GA/IT,GAAIG,GAAe,SAAS7V,GAE1B,GADAA,EAAOsG,kBACHtG,YAAkBgJ,QAAOoK,gBAAkBpT,YAAkBgJ,QAAOqK,YACtE,IAAK,GAAI3L,GAAI,EAAGA,EAAI1H,EAAOiU,SAAS5L,OAAQX,IAC1CmO,EAAa7V,EAAOiU,SAASvM,IAKnCqI,GAAM+F,YAAc,SAASC,GAE3B,IAAK,GADDC,MACKtO,EAAI,EAAGA,EAAIqO,EAAQ1N,OAAQX,IAAK,CACvC,GAAI1H,GAAS+V,EAAQrO,EACjB1H,GAAOiW,UACkC,GAAvCD,EAAWtV,QAAQV,EAAOiW,UAC5BD,EAAWxN,KAAKxI,EAAOiW,SAEzBjW,EAAOiW,QAAQhC,SAAS5E,OAAOrP,EAAOiW,QAAQhC,SAASvT,QAAQV,GAAS,GACxEA,EAAOiW,QAAU,KACjBJ,EAAa7V,IACJA,EAAOsG,YAAetG,EAAOsG,WAAWtG,QAAUA,IAC3DA,EAAOsG,WAAWoI,SAClB1O,EAAOsG,WAAWtG,OAAS,GAAIiT,gBAAe,SAC1CjT,EAAOsG,WAAW0L,YACpBhS,EAAOsG,WAAW0L,UAAU1L,WAAa,MAE3CtG,EAAOsG,WAAWC,8BAClBsP,EAAa7V,IAGjB,IAAK0H,EAAI,EAAGA,EAAIsO,EAAW3N,OAAQX,IACjCsO,EAAWtO,GAAGwO,YAQlBnG,EAAMkD,eAAiB,SAASzF,EAAQ1F,EAAalJ,EAAa2S,GAmBhE,MAlBAvS,MAAKwO,OAASA,EACdxO,KAAKiX,QAAU,KAEfrX,EAAcH,EAAOmC,sBAAsBhC,GAC3CI,KAAKoH,aAAe3H,EAAOE,iBAAiBC,GAC5CI,KAAKqH,QAAU5H,EAAOoC,qBAAqBjC,GAE3CI,KAAKiB,OAASxB,EAAOqB,WAAWlB,KAAoBI,MACpDA,KAAKiB,OAAOkG,QAAUnH,KACI,kBAAf8I,IACTrJ,EAAOwO,WAAW,wBAAyB,aAAc,wCACzDjO,KAAKmX,qBAAuBrO,GAE5B9I,KAAKmX,qBAAuB,GAAIZ,GAAazN,GAE/C9I,KAAKoX,WAAatO,EAClB9I,KAAKgF,eAAiBvF,EAAOkF,wBAAwB3E,KAAKqH,SAC1DrH,KAAKwS,IAAMD,EACJvS,MAGT+Q,EAAMkD,eAAelN,WACnBsQ,UAAW,WACT,MAAwC,kBAA7BrX,MAAKmX,qBACPnX,KAAKmX,qBACPnX,KAAKmX,qBAAqBX,SAEnCc,aAAaC,GACX,GAA+B,kBAApBvX,MAAKqX,YACd,KAAM,IAAInJ,OAAM,qEAElBlO,MAAKwU,UAAY+C,EACbvX,KAAKsH,YACPtH,KAAKsH,WAAWC,+BAGpBiQ,aACE,MAAOxX,MAAKiX,SAEdpX,MAAO,WACL,GAA+B,kBAApBG,MAAKqX,YACd,KAAM,IAAInJ,OAAM,2CAElB,IAAIrO,GAAQ,GAAIoU,gBAAejU,KAAKwO,UAAY/O,EAAOE,iBAAiBK,KAAKoH,cAAepH,KAAKwS,IAGjG,OAFA3S,GAAMsX,qBAAuBnX,KAAKmX,qBAClCtX,EAAMuX,WAAapX,KAAKoX,WACjBvX,GAETqS,OAAQ,WACNnB,EAAM+F,aAAa9W,QAIvB,IAAImP,GAAyBC,QAAQrI,UAAUoH,OAC/CiB,SAAQrI,UAAUoH,QAAU,SAASrF,EAAauG,GAChD,GAAIkD,GAAK,EAIT,OAHIlD,IAAWA,EAAQkD,KACrBA,EAAKlD,EAAQkD,IAERxB,EAAMG,SAASY,MAAM,GAAIf,GAAMkD,eAAejU,KAAM8I,EAAauG,EAASkD,IAGnF,IAAIkF,GAAarU,SAASwI,gBAAgB,+BAAgC,MAC1EmF,GAAMmD,wCAA0C,SAASwD,GACvD,GAAIA,EAAgB,CAClB,GAAIlJ,GAASkJ,EAAelJ,QAAUiJ,EAClC7N,EAAY8N,EAAeN,UACP,mBAAbxN,KACTA,KAEF,IAAIyF,GAAUqI,EAAetQ,YAC7BiI,GAAQkD,GAAKmF,EAAelF,QAE5B,IAAIhE,GAASiJ,EACT7N,KACAyF,EAAU,CAEhB,OAAOF,GAAuBrL,MAAM0K,GAAS5E,EAAWyF,KAI1D0B,EAAMoD,+BAAiC,SAAS7E,GAC1CA,EAAUtO,QAA0D,kBAAzCsO,GAAUtO,OAAOmW,sBAC9CpG,EAAM0D,6BAA6BnF,GAIvC,IAAIqH,KACJ5F,GAAMkF,eAAiB,SAAS0B,GACG,OAA7BA,EAAe5D,WAAuB4D,EAAe7E,WAE7B,GAAxB6D,EAActN,QAChBiI,sBAAsBmF,GAExBE,EAAcnN,KAAKmO,IAWrB,IAAIC,GAA2B5N,OAAO0G,gBACtCrP,QAAO8Q,eAAenI,OAAQ,oBAC5BoI,gBACAyF,cACA3Q,MAAO,WACL6J,EAAMG,SAASM,2BACf,IAAIlJ,GAASsP,EAAyB9T,MAAM9D,KAAM8X,UAIlD,OAHIrB,OACFnO,EAASsP,EAAyB9T,MAAM9D,KAAM8X,YAChD/G,EAAMG,SAASM,4BACRlJ,KAIX0B,OAAOiK,eAAiBlD,EAAMkD,eAC9BjK,OAAOoF,QAAQrI,UAAU2K,cAAgB,WACvC,MAAOtO,UAAS8N,SAASQ,gBAAgB7G,OAAO,SAASyE,GACvD,MAA4B,QAArBA,EAAUtO,QAAmBsO,EAAUtO,OAAOwN,QAAUxO,MAC/D+U,KAAK/U,SAGTV,EAAqBE,GCzKvB,SAAUC,EAAQsR,EAAOrR,GA6CvB,QAASqY,GAASR,GACZA,EAASS,cAEbT,EAASS,eACTC,EAAUzO,KAAK+N,GACVlG,IACHA,KACAC,sBAAsB4G,KAI1B,QAASA,GAAKjH,GACZ,GAAIkH,GAAWF,CACfA,MACAE,EAAS1O,KAAK,SAAS2O,EAAMC,GAC3B,MAAOD,GAAK1F,gBAAkB2F,EAAM3F,kBAEtCyF,EAAWA,EAAStN,OAAO,SAAS0M,GAClCA,GACA,IAAI1F,GAAY0F,EAASjQ,WAAaiQ,EAASjQ,WAAWuK,UAAY,MAGtE,OAFiB,WAAbA,GAAuC,WAAbA,IAC5B0F,EAASS,gBACJT,EAASS,cAElBC,EAAUzO,KAAK1F,MAAMmU,EAAWE,GAE5BF,EAAU5O,QACZgI,KACAC,sBAAsB4G,IAEtB7G,KAzEJ,GAEIsB,IAFavP,SAASwI,gBAAgB,+BAAgC,OAErD,EACrBmF,GAAM0D,6BAA+B,SAASnF,GAC5C,GACIgJ,GADA9J,EAASc,EAAUtO,OAAOwN,OAE1B+J,EAA0D,kBAAhCjJ,GAAUtO,OAAOqW,WAE7CiB,GADEC,EACejJ,EAAUtO,OAAOqW,YAEjB/H,EAAUtO,OAAOwT,SAEpC,IAAIvT,GAASqO,EAAUtO,OAAOC,OAC1BuX,EAAO,IACXvX,GAASxB,EAAOoC,qBAAqBZ,EACrC,IAAIsW,GAAW,WACb,GAAItG,GAAIsG,EAASjQ,WAAaiQ,EAASjQ,WAAWmH,YAAc,IACtD,QAANwC,IACFA,EAAIxR,EAAOkH,2BAA2BlH,EAAOkF,wBAAwB1D,GAASgQ,EAAGhQ,GAC7EG,MAAM6P,KACRA,EAAI,OAIJA,IAAMuH,IACJD,EACFD,EAAerH,EAAGzC,EAAQc,EAAUtO,QAEpCsX,EAAerH,EAAG3B,EAAUtO,OAAQsO,EAAUtO,OAAOsG,aAGzDkR,EAAOvH,EAGTsG,GAASjQ,WAAagI,EACtBiI,EAASS,eACTT,EAAS7E,gBAAkBC,IAC3BrD,EAAU0D,UAAYuE,EACtBQ,EAASR,GAGX,IAAIU,MACA5G,IAmCJN,GAAMgB,UAAUhL,UAAUgP,UAAY,WAChC/V,KAAKgT,WACP+E,EAAS/X,KAAKgT,aAGjB1T,EAAqBE,GCnFxB,SAAUC,EAAQsR,EAAOrR,GAEvB,QAASoV,GAAmB2D,GAC1B,MAAOA,GAAKpR,QAAQjC,MAAQqT,EAAKzT,eAAiByT,EAAKpR,QAAQhC,SAGjE,QAASqT,GAAYzD,EAAUrV,EAAa2S,GAC1CvS,KAAKwS,IAAMD,EACXvS,KAAKiX,QAAU,KACfjX,KAAKiV,SAAWA,MAChBjV,KAAK2Y,UAAU3Y,KAAKiV,UACpBrV,EAAcH,EAAOmC,sBAAsBhC,GAC3CI,KAAKoH,aAAe3H,EAAOE,iBAAiBC,GAC5CI,KAAKqH,QAAU5H,EAAOoC,qBAAqBjC,MAC3CI,KAAKiB,OAASxB,EAAOqB,WAAWlB,KAAmBI,MACnDA,KAAKiB,OAAOkG,QAAUnH,KAEQ,SAA1BA,KAAKqH,QAAQlG,WACfnB,KAAKqH,QAAQlG,SAAWnB,KAAKgF,gBAIjCgF,OAAOoK,eAAiB,WACtBsE,EAAY5U,MAAM9D,KAAM8X,YAG1B9N,OAAOqK,YAAc,WACnBqE,EAAY5U,MAAM9D,KAAM8X,YAG1BY,EAAY3R,WACV6R,YAAa,SAAS5X,GAEpB,IADA,GAAIe,GAAI/B,KACK,OAAN+B,GAAY,CACjB,GAAIA,GAAKf,EACP,QACFe,GAAIA,EAAEkV,QAER,UAEFC,SAAU,WAGR,IADA,GAAIuB,GAAOzY,KACJyY,GACwB,SAAzBA,EAAKxX,OAAOE,WACdsX,EAAKpR,QAAQlG,SAAWsX,EAAKzT,gBAE/ByT,EAAOA,EAAKxB,OAEVjX,MAAKsH,YACPtH,KAAKsH,WAAWC,+BAGpBoR,UAAW,SAASE,GAClB9H,EAAM+F,YAAY+B,EAClB,KAAK,GAAInQ,GAAI,EAAGA,EAAImQ,EAAYxP,OAAQX,IACtCmQ,EAAYnQ,GAAGuO,QAAUjX,MAG7B8Y,UAAW,SAASC,EAAMC,GAExB,IAAK,GADDrO,GAAUqO,EAAW,oCAAsC,qCACtDtQ,EAAI,EAAGA,EAAIqQ,EAAK1P,OAAQX,IAC/B,GAAI1I,KAAK4Y,YAAYG,EAAKrQ,IACxB,MACE6B,KAAMC,aAAayO,sBACnBvO,KAAM,wBACNC,QAASA,EAKf,KAAK,GAAIjC,GAAI,EAAGA,EAAIqQ,EAAK1P,OAAQX,IAC/BsQ,EAAWhZ,KAAKiV,SAASzL,KAAKuP,EAAKrQ,IAAM1I,KAAKiV,SAASiE,QAAQH,EAAKrQ,GAEtE1I,MAAK2Y,UAAUI,GACf/Y,KAAKkX,YAEPiC,OAAQ,WACNnZ,KAAK8Y,UAAUhB,eAEjBsB,QAAS,WACPpZ,KAAK8Y,UAAUhB,eAEjBN,aACE,MAAOxX,MAAKiX,SAEdoC,iBACE,MAAOrZ,MAAKiV,SAAS5L,OAASrJ,KAAKiV,SAAS,GAAK,MAEnDqE,gBACE,MAAOtZ,MAAKiV,SAAS5L,OAASrJ,KAAKiV,SAASjV,KAAKiV,SAAS5L,OAAS,GAAK,MAE1ExJ,MAAO,WAGL,IAAK,GAFD0Z,GAAe9Z,EAAOE,iBAAiBK,KAAKoH,cAC5CoS,KACK9Q,EAAI,EAAGA,EAAI1I,KAAKiV,SAAS5L,OAAQX,IACxC8Q,EAAehQ,KAAKxJ,KAAKiV,SAASvM,GAAG7I,QAEvC,OAAQG,gBAAgBqU,aACpB,GAAIA,aAAYmF,EAAgBD,GAChC,GAAInF,gBAAeoF,EAAgBD,IAEzCrH,OAAQ,WACNnB,EAAM+F,aAAa9W,SAIvBgK,OAAOoK,eAAerN,UAAY1F,OAAOoY,OAAOf,EAAY3R,WAC5D1F,OAAO8Q,eACHnI,OAAOoK,eAAerN,UACtB,kBAEEsL,IAAK,WACH,GAAIqH,GAAQ,CAIZ,OAHA1Z,MAAKiV,SAAS1T,QAAQ,SAAS6T,GAC7BsE,GAAS5E,EAAmBM,KAEvBzS,KAAKgX,IAAID,EAAO,MAI/B1P,OAAOqK,YAAYtN,UAAY1F,OAAOoY,OAAOf,EAAY3R,WACzD1F,OAAO8Q,eACHnI,OAAOqK,YAAYtN,UACnB,kBAEEsL,IAAK,WACH,GAAIsH,GAAM,CAIV,OAHA3Z,MAAKiV,SAAS1T,QAAQ,SAAS6T,GAC7BuE,EAAMhX,KAAKgX,IAAIA,EAAK7E,EAAmBM,MAElCuE,KAIf5I,EAAMuD,+BAAiC,SAASsF,GAC9C,GAAIC,GACA5Y,EAAS,KACT6Y,EAAS,SAASC,GACpB,GAAIzK,GAAYuK,EAAoB7F,QACpC,IAAK1E,GAGsB,WAAvBA,EAAUuC,WAGTvC,EAAUtO,OAGf,MAAU,OAAN+Y,MACFzK,GAAU6F,yBAQF,GAAN4E,GAAWzK,EAAUzK,aAAe,IACjC5D,IACHA,EAASxB,EAAOoC,qBAAqByN,EAAUtO,OAAOC,SAExD8Y,EAAKta,EAAOkH,2BAA2BlH,EAAOkF,wBAAwB1D,IAAU,EAAGA,GAC/EG,MAAM2Y,IAAa,MAANA,IACfzK,EAAU0G,cAAc,SAASZ,GAC/BA,EAAM3G,aAAe,QAEvBa,GAAU6F,kCAMZ6E,EAAmB,GAAI/F,gBAAe,QAAU2F,EAAMvS,QAASuS,EAAMpH,IAGzE,OAFAwH,GAAiB1C,SAAWwC,EAC5BD,EAAsB9I,EAAMG,SAASY,MAAMkI,IAI7CjJ,EAAMwD,sBAAwB,SAASjF,GACrCA,EAAUhI,WAAW0M,SAAW1E,EAChCA,EAAUwD,YACV/B,EAAMkF,eAAe3G,GACrBA,EAAU4F,4BACV5F,EAAU0F,sBAAsB1F,IAGlCyB,EAAM+D,mBAAqBA,GAE1BxV,EAAqBE","file":"vendors-chunk-web-animations-js.js?v=ea39b6a883d7ae36c41c","sourcesContent":["// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\nvar webAnimationsShared = {};\nvar webAnimations1 = {};\nvar webAnimationsNext = {};\n\nif (!WEB_ANIMATIONS_TESTING)\n  var webAnimationsTesting = null;\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, testing) {\n\n  var fills = 'backwards|forwards|both|none'.split('|');\n  var directions = 'reverse|alternate|alternate-reverse'.split('|');\n  var linear = function(x) { return x; };\n\n  function cloneTimingInput(timingInput) {\n    if (typeof timingInput == 'number') {\n      return timingInput;\n    }\n    var clone = {};\n    for (var m in timingInput) {\n      clone[m] = timingInput[m];\n    }\n    return clone;\n  }\n\n  function AnimationEffectTiming() {\n    this._delay = 0;\n    this._endDelay = 0;\n    this._fill = 'none';\n    this._iterationStart = 0;\n    this._iterations = 1;\n    this._duration = 0;\n    this._playbackRate = 1;\n    this._direction = 'normal';\n    this._easing = 'linear';\n    this._easingFunction = linear;\n  }\n\n  function isInvalidTimingDeprecated() {\n    return shared.isDeprecated('Invalid timing inputs', '2016-03-02', 'TypeError exceptions will be thrown instead.', true);\n  }\n\n  AnimationEffectTiming.prototype = {\n    _setMember: function(member, value) {\n      this['_' + member] = value;\n      if (this._effect) {\n        this._effect._timingInput[member] = value;\n        this._effect._timing = shared.normalizeTimingInput(this._effect._timingInput);\n        this._effect.activeDuration = shared.calculateActiveDuration(this._effect._timing);\n        if (this._effect._animation) {\n          this._effect._animation._rebuildUnderlyingAnimation();\n        }\n      }\n    },\n    get playbackRate() {\n      return this._playbackRate;\n    },\n    set delay(value) {\n      this._setMember('delay', value);\n    },\n    get delay() {\n      return this._delay;\n    },\n    set endDelay(value) {\n      this._setMember('endDelay', value);\n    },\n    get endDelay() {\n      return this._endDelay;\n    },\n    set fill(value) {\n      this._setMember('fill', value);\n    },\n    get fill() {\n      return this._fill;\n    },\n    set iterationStart(value) {\n      if ((isNaN(value) || value < 0) && isInvalidTimingDeprecated()) {\n        throw new TypeError('iterationStart must be a non-negative number, received: ' + value);\n      }\n      this._setMember('iterationStart', value);\n    },\n    get iterationStart() {\n      return this._iterationStart;\n    },\n    set duration(value) {\n      if (value != 'auto' && (isNaN(value) || value < 0) && isInvalidTimingDeprecated()) {\n        throw new TypeError('duration must be non-negative or auto, received: ' + value);\n      }\n      this._setMember('duration', value);\n    },\n    get duration() {\n      return this._duration;\n    },\n    set direction(value) {\n      this._setMember('direction', value);\n    },\n    get direction() {\n      return this._direction;\n    },\n    set easing(value) {\n      this._easingFunction = parseEasingFunction(normalizeEasing(value));\n      this._setMember('easing', value);\n    },\n    get easing() {\n      return this._easing;\n    },\n    set iterations(value) {\n      if ((isNaN(value) || value < 0) && isInvalidTimingDeprecated()) {\n        throw new TypeError('iterations must be non-negative, received: ' + value);\n      }\n      this._setMember('iterations', value);\n    },\n    get iterations() {\n      return this._iterations;\n    }\n  };\n\n  function makeTiming(timingInput, forGroup, effect) {\n    var timing = new AnimationEffectTiming();\n    if (forGroup) {\n      timing.fill = 'both';\n      timing.duration = 'auto';\n    }\n    if (typeof timingInput == 'number' && !isNaN(timingInput)) {\n      timing.duration = timingInput;\n    } else if (timingInput !== undefined) {\n      Object.getOwnPropertyNames(timingInput).forEach(function(property) {\n        if (timingInput[property] != 'auto') {\n          if (typeof timing[property] == 'number' || property == 'duration') {\n            if (typeof timingInput[property] != 'number' || isNaN(timingInput[property])) {\n              return;\n            }\n          }\n          if ((property == 'fill') && (fills.indexOf(timingInput[property]) == -1)) {\n            return;\n          }\n          if ((property == 'direction') && (directions.indexOf(timingInput[property]) == -1)) {\n            return;\n          }\n          if (property == 'playbackRate' && timingInput[property] !== 1 && shared.isDeprecated('AnimationEffectTiming.playbackRate', '2014-11-28', 'Use Animation.playbackRate instead.')) {\n            return;\n          }\n          timing[property] = timingInput[property];\n        }\n      });\n    }\n    return timing;\n  }\n\n  function numericTimingToObject(timingInput) {\n    if (typeof timingInput == 'number') {\n      if (isNaN(timingInput)) {\n        timingInput = { duration: 0 };\n      } else {\n        timingInput = { duration: timingInput };\n      }\n    }\n    return timingInput;\n  }\n\n  function normalizeTimingInput(timingInput, forGroup) {\n    timingInput = shared.numericTimingToObject(timingInput);\n    return makeTiming(timingInput, forGroup);\n  }\n\n  function cubic(a, b, c, d) {\n    if (a < 0 || a > 1 || c < 0 || c > 1) {\n      return linear;\n    }\n    return function(x) {\n      if (x <= 0) {\n        var start_gradient = 0;\n        if (a > 0)\n          start_gradient = b / a;\n        else if (!b && c > 0)\n          start_gradient = d / c;\n        return start_gradient * x;\n      }\n      if (x >= 1) {\n        var end_gradient = 0;\n        if (c < 1)\n          end_gradient = (d - 1) / (c - 1);\n        else if (c == 1 && a < 1)\n          end_gradient = (b - 1) / (a - 1);\n        return 1 + end_gradient * (x - 1);\n      }\n\n      var start = 0, end = 1;\n      function f(a, b, m) { return 3 * a * (1 - m) * (1 - m) * m + 3 * b * (1 - m) * m * m + m * m * m};\n      while (start < end) {\n        var mid = (start + end) / 2;\n        var xEst = f(a, c, mid);\n        if (Math.abs(x - xEst) < 0.00001) {\n          return f(b, d, mid);\n        }\n        if (xEst < x) {\n          start = mid;\n        } else {\n          end = mid;\n        }\n      }\n      return f(b, d, mid);\n    }\n  }\n\n  var Start = 1;\n  var Middle = 0.5;\n  var End = 0;\n\n  function step(count, pos) {\n    return function(x) {\n      if (x >= 1) {\n        return 1;\n      }\n      var stepSize = 1 / count;\n      x += pos * stepSize;\n      return x - x % stepSize;\n    }\n  }\n\n  var presets = {\n    'ease': cubic(0.25, 0.1, 0.25, 1),\n    'ease-in': cubic(0.42, 0, 1, 1),\n    'ease-out': cubic(0, 0, 0.58, 1),\n    'ease-in-out': cubic(0.42, 0, 0.58, 1),\n    'step-start': step(1, Start),\n    'step-middle': step(1, Middle),\n    'step-end': step(1, End)\n  };\n\n  var styleForCleaning = null;\n  var numberString = '\\\\s*(-?\\\\d+\\\\.?\\\\d*|-?\\\\.\\\\d+)\\\\s*';\n  var cubicBezierRe = new RegExp('cubic-bezier\\\\(' + numberString + ',' + numberString + ',' + numberString + ',' + numberString + '\\\\)');\n  var step1Re = /steps\\(\\s*(\\d+)\\s*\\)/;\n  var step2Re = /steps\\(\\s*(\\d+)\\s*,\\s*(start|middle|end)\\s*\\)/;\n\n  function normalizeEasing(easing) {\n    if (!styleForCleaning) {\n      styleForCleaning = document.createElement('div').style;\n    }\n    styleForCleaning.animationTimingFunction = '';\n    styleForCleaning.animationTimingFunction = easing;\n    var normalizedEasing = styleForCleaning.animationTimingFunction;\n    if (normalizedEasing == '' && isInvalidTimingDeprecated()) {\n      throw new TypeError(easing + ' is not a valid value for easing');\n    }\n    return normalizedEasing;\n  }\n\n  function parseEasingFunction(normalizedEasing) {\n    if (normalizedEasing == 'linear') {\n      return linear;\n    }\n    var cubicData = cubicBezierRe.exec(normalizedEasing);\n    if (cubicData) {\n      return cubic.apply(this, cubicData.slice(1).map(Number));\n    }\n    var step1Data = step1Re.exec(normalizedEasing);\n    if (step1Data) {\n      return step(Number(step1Data[1]), End);\n    }\n    var step2Data = step2Re.exec(normalizedEasing);\n    if (step2Data) {\n      return step(Number(step2Data[1]), {'start': Start, 'middle': Middle, 'end': End}[step2Data[2]]);\n    }\n    var preset = presets[normalizedEasing];\n    if (preset) {\n      return preset;\n    }\n    // At this point none of our parse attempts succeeded; the easing is invalid.\n    // Fall back to linear in the interest of not crashing the page.\n    return linear;\n  }\n\n  function calculateActiveDuration(timing) {\n    return Math.abs(repeatedDuration(timing) / timing.playbackRate);\n  }\n\n  function repeatedDuration(timing) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-active-duration\n    if (timing.duration === 0 || timing.iterations === 0) {\n      return 0;\n    }\n    return timing.duration * timing.iterations;\n  }\n\n  var PhaseNone = 0;\n  var PhaseBefore = 1;\n  var PhaseAfter = 2;\n  var PhaseActive = 3;\n\n  function calculatePhase(activeDuration, localTime, timing) {\n    // https://drafts.csswg.org/web-animations/#animation-effect-phases-and-states\n    if (localTime == null) {\n      return PhaseNone;\n    }\n\n    var endTime = timing.delay + activeDuration + timing.endDelay;\n    if (localTime < Math.min(timing.delay, endTime)) {\n      return PhaseBefore;\n    }\n    if (localTime >= Math.min(timing.delay + activeDuration, endTime)) {\n      return PhaseAfter;\n    }\n\n    return PhaseActive;\n  }\n\n  function calculateActiveTime(activeDuration, fillMode, localTime, phase, delay) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-active-time\n    switch (phase) {\n      case PhaseBefore:\n        if (fillMode == 'backwards' || fillMode == 'both')\n          return 0;\n        return null;\n      case PhaseActive:\n        return localTime - delay;\n      case PhaseAfter:\n        if (fillMode == 'forwards' || fillMode == 'both')\n          return activeDuration;\n        return null;\n      case PhaseNone:\n        return null;\n    }\n  }\n\n  function calculateOverallProgress(iterationDuration, phase, iterations, activeTime, iterationStart) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-overall-progress\n    var overallProgress = iterationStart;\n    if (iterationDuration === 0) {\n      if (phase !== PhaseBefore) {\n        overallProgress += iterations;\n      }\n    } else {\n      overallProgress += activeTime / iterationDuration;\n    }\n    return overallProgress;\n  }\n\n  function calculateSimpleIterationProgress(overallProgress, iterationStart, phase, iterations, activeTime, iterationDuration) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-simple-iteration-progress\n\n    var simpleIterationProgress = (overallProgress === Infinity) ? iterationStart % 1 : overallProgress % 1;\n    if (simpleIterationProgress === 0 && phase === PhaseAfter && iterations !== 0 &&\n        (activeTime !== 0 || iterationDuration === 0)) {\n      simpleIterationProgress = 1;\n    }\n    return simpleIterationProgress;\n  }\n\n  function calculateCurrentIteration(phase, iterations, simpleIterationProgress, overallProgress) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-current-iteration\n    if (phase === PhaseAfter && iterations === Infinity) {\n      return Infinity;\n    }\n    if (simpleIterationProgress === 1) {\n      return Math.floor(overallProgress) - 1;\n    }\n    return Math.floor(overallProgress);\n  }\n\n  function calculateDirectedProgress(playbackDirection, currentIteration, simpleIterationProgress) {\n    // https://drafts.csswg.org/web-animations/#calculating-the-directed-progress\n    var currentDirection = playbackDirection;\n    if (playbackDirection !== 'normal' && playbackDirection !== 'reverse') {\n      var d = currentIteration;\n      if (playbackDirection === 'alternate-reverse') {\n        d += 1;\n      }\n      currentDirection = 'normal';\n      if (d !== Infinity && d % 2 !== 0) {\n        currentDirection = 'reverse';\n      }\n    }\n    if (currentDirection === 'normal') {\n      return simpleIterationProgress;\n    }\n    return 1 - simpleIterationProgress;\n  }\n\n  function calculateIterationProgress(activeDuration, localTime, timing) {\n    var phase = calculatePhase(activeDuration, localTime, timing);\n    var activeTime = calculateActiveTime(activeDuration, timing.fill, localTime, phase, timing.delay);\n    if (activeTime === null)\n      return null;\n\n    var overallProgress = calculateOverallProgress(timing.duration, phase, timing.iterations, activeTime, timing.iterationStart);\n    var simpleIterationProgress = calculateSimpleIterationProgress(overallProgress, timing.iterationStart, phase, timing.iterations, activeTime, timing.duration);\n    var currentIteration = calculateCurrentIteration(phase, timing.iterations, simpleIterationProgress, overallProgress);\n    var directedProgress = calculateDirectedProgress(timing.direction, currentIteration, simpleIterationProgress);\n\n    // https://drafts.csswg.org/web-animations/#calculating-the-transformed-progress\n    // https://drafts.csswg.org/web-animations/#calculating-the-iteration-progress\n    return timing._easingFunction(directedProgress);\n  }\n\n  shared.cloneTimingInput = cloneTimingInput;\n  shared.makeTiming = makeTiming;\n  shared.numericTimingToObject = numericTimingToObject;\n  shared.normalizeTimingInput = normalizeTimingInput;\n  shared.calculateActiveDuration = calculateActiveDuration;\n  shared.calculateIterationProgress = calculateIterationProgress;\n  shared.calculatePhase = calculatePhase;\n  shared.normalizeEasing = normalizeEasing;\n  shared.parseEasingFunction = parseEasingFunction;\n\n  if (WEB_ANIMATIONS_TESTING) {\n    testing.normalizeTimingInput = normalizeTimingInput;\n    testing.normalizeEasing = normalizeEasing;\n    testing.parseEasingFunction = parseEasingFunction;\n    testing.calculateActiveDuration = calculateActiveDuration;\n    testing.calculatePhase = calculatePhase;\n    testing.PhaseNone = PhaseNone;\n    testing.PhaseBefore = PhaseBefore;\n    testing.PhaseActive = PhaseActive;\n    testing.PhaseAfter = PhaseAfter;\n  }\n\n})(webAnimationsShared, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, testing) {\n  var shorthandToLonghand = {\n    background: [\n      'backgroundImage',\n      'backgroundPosition',\n      'backgroundSize',\n      'backgroundRepeat',\n      'backgroundAttachment',\n      'backgroundOrigin',\n      'backgroundClip',\n      'backgroundColor'\n    ],\n    border: [\n      'borderTopColor',\n      'borderTopStyle',\n      'borderTopWidth',\n      'borderRightColor',\n      'borderRightStyle',\n      'borderRightWidth',\n      'borderBottomColor',\n      'borderBottomStyle',\n      'borderBottomWidth',\n      'borderLeftColor',\n      'borderLeftStyle',\n      'borderLeftWidth'\n    ],\n    borderBottom: [\n      'borderBottomWidth',\n      'borderBottomStyle',\n      'borderBottomColor'\n    ],\n    borderColor: [\n      'borderTopColor',\n      'borderRightColor',\n      'borderBottomColor',\n      'borderLeftColor'\n    ],\n    borderLeft: [\n      'borderLeftWidth',\n      'borderLeftStyle',\n      'borderLeftColor'\n    ],\n    borderRadius: [\n      'borderTopLeftRadius',\n      'borderTopRightRadius',\n      'borderBottomRightRadius',\n      'borderBottomLeftRadius'\n    ],\n    borderRight: [\n      'borderRightWidth',\n      'borderRightStyle',\n      'borderRightColor'\n    ],\n    borderTop: [\n      'borderTopWidth',\n      'borderTopStyle',\n      'borderTopColor'\n    ],\n    borderWidth: [\n      'borderTopWidth',\n      'borderRightWidth',\n      'borderBottomWidth',\n      'borderLeftWidth'\n    ],\n    flex: [\n      'flexGrow',\n      'flexShrink',\n      'flexBasis'\n    ],\n    font: [\n      'fontFamily',\n      'fontSize',\n      'fontStyle',\n      'fontVariant',\n      'fontWeight',\n      'lineHeight'\n    ],\n    margin: [\n      'marginTop',\n      'marginRight',\n      'marginBottom',\n      'marginLeft'\n    ],\n    outline: [\n      'outlineColor',\n      'outlineStyle',\n      'outlineWidth'\n    ],\n    padding: [\n      'paddingTop',\n      'paddingRight',\n      'paddingBottom',\n      'paddingLeft'\n    ]\n  };\n\n  var shorthandExpanderElem = document.createElementNS('http://www.w3.org/1999/xhtml', 'div');\n\n  var borderWidthAliases = {\n    thin: '1px',\n    medium: '3px',\n    thick: '5px'\n  };\n\n  var aliases = {\n    borderBottomWidth: borderWidthAliases,\n    borderLeftWidth: borderWidthAliases,\n    borderRightWidth: borderWidthAliases,\n    borderTopWidth: borderWidthAliases,\n    fontSize: {\n      'xx-small': '60%',\n      'x-small': '75%',\n      'small': '89%',\n      'medium': '100%',\n      'large': '120%',\n      'x-large': '150%',\n      'xx-large': '200%'\n    },\n    fontWeight: {\n      normal: '400',\n      bold: '700'\n    },\n    outlineWidth: borderWidthAliases,\n    textShadow: {\n      none: '0px 0px 0px transparent'\n    },\n    boxShadow: {\n      none: '0px 0px 0px 0px transparent'\n    }\n  };\n\n  function antiAlias(property, value) {\n    if (property in aliases) {\n      return aliases[property][value] || value;\n    }\n    return value;\n  }\n\n  function isNotAnimatable(property) {\n    // https://drafts.csswg.org/web-animations/#concept-not-animatable\n    return property === 'display' || property.lastIndexOf('animation', 0) === 0 || property.lastIndexOf('transition', 0) === 0;\n  }\n\n  // This delegates parsing shorthand value syntax to the browser.\n  function expandShorthandAndAntiAlias(property, value, result) {\n    if (isNotAnimatable(property)) {\n      return;\n    }\n    var longProperties = shorthandToLonghand[property];\n    if (longProperties) {\n      shorthandExpanderElem.style[property] = value;\n      for (var i in longProperties) {\n        var longProperty = longProperties[i];\n        var longhandValue = shorthandExpanderElem.style[longProperty];\n        result[longProperty] = antiAlias(longProperty, longhandValue);\n      }\n    } else {\n      result[property] = antiAlias(property, value);\n    }\n  };\n\n  function convertToArrayForm(effectInput) {\n    var normalizedEffectInput = [];\n\n    for (var property in effectInput) {\n      if (property in ['easing', 'offset', 'composite']) {\n        continue;\n      }\n\n      var values = effectInput[property];\n      if (!Array.isArray(values)) {\n        values = [values];\n      }\n\n      var keyframe;\n      var numKeyframes = values.length;\n      for (var i = 0; i < numKeyframes; i++) {\n        keyframe = {};\n\n        if ('offset' in effectInput) {\n          keyframe.offset = effectInput.offset;\n        } else if (numKeyframes == 1) {\n          keyframe.offset = 1.0;\n        } else {\n          keyframe.offset = i / (numKeyframes - 1.0);\n        }\n\n        if ('easing' in effectInput) {\n          keyframe.easing = effectInput.easing;\n        }\n\n        if ('composite' in effectInput) {\n          keyframe.composite = effectInput.composite;\n        }\n\n        keyframe[property] = values[i];\n\n        normalizedEffectInput.push(keyframe);\n      }\n    }\n\n    normalizedEffectInput.sort(function(a, b) { return a.offset - b.offset; });\n    return normalizedEffectInput;\n  };\n\n  function normalizeKeyframes(effectInput) {\n    if (effectInput == null) {\n      return [];\n    }\n\n    if (window.Symbol && Symbol.iterator && Array.prototype.from && effectInput[Symbol.iterator]) {\n      // Handle custom iterables in most browsers by converting to an array\n      effectInput = Array.from(effectInput);\n    }\n\n    if (!Array.isArray(effectInput)) {\n      effectInput = convertToArrayForm(effectInput);\n    }\n\n    var keyframes = effectInput.map(function(originalKeyframe) {\n      var keyframe = {};\n      for (var member in originalKeyframe) {\n        var memberValue = originalKeyframe[member];\n        if (member == 'offset') {\n          if (memberValue != null) {\n            memberValue = Number(memberValue);\n            if (!isFinite(memberValue))\n              throw new TypeError('Keyframe offsets must be numbers.');\n            if (memberValue < 0 || memberValue > 1)\n              throw new TypeError('Keyframe offsets must be between 0 and 1.');\n          }\n        } else if (member == 'composite') {\n          if (memberValue == 'add' || memberValue == 'accumulate') {\n            throw {\n              type: DOMException.NOT_SUPPORTED_ERR,\n              name: 'NotSupportedError',\n              message: 'add compositing is not supported'\n            };\n          } else if (memberValue != 'replace') {\n            throw new TypeError('Invalid composite mode ' + memberValue + '.');\n          }\n        } else if (member == 'easing') {\n          memberValue = shared.normalizeEasing(memberValue);\n        } else {\n          memberValue = '' + memberValue;\n        }\n        expandShorthandAndAntiAlias(member, memberValue, keyframe);\n      }\n      if (keyframe.offset == undefined)\n        keyframe.offset = null;\n      if (keyframe.easing == undefined)\n        keyframe.easing = 'linear';\n      return keyframe;\n    });\n\n    var everyFrameHasOffset = true;\n    var looselySortedByOffset = true;\n    var previousOffset = -Infinity;\n    for (var i = 0; i < keyframes.length; i++) {\n      var offset = keyframes[i].offset;\n      if (offset != null) {\n        if (offset < previousOffset) {\n          throw new TypeError('Keyframes are not loosely sorted by offset. Sort or specify offsets.');\n        }\n        previousOffset = offset;\n      } else {\n        everyFrameHasOffset = false;\n      }\n    }\n\n    keyframes = keyframes.filter(function(keyframe) {\n      return keyframe.offset >= 0 && keyframe.offset <= 1;\n    });\n\n    function spaceKeyframes() {\n      var length = keyframes.length;\n      if (keyframes[length - 1].offset == null)\n        keyframes[length - 1].offset = 1;\n      if (length > 1 && keyframes[0].offset == null)\n        keyframes[0].offset = 0;\n\n      var previousIndex = 0;\n      var previousOffset = keyframes[0].offset;\n      for (var i = 1; i < length; i++) {\n        var offset = keyframes[i].offset;\n        if (offset != null) {\n          for (var j = 1; j < i - previousIndex; j++)\n            keyframes[previousIndex + j].offset = previousOffset + (offset - previousOffset) * j / (i - previousIndex);\n          previousIndex = i;\n          previousOffset = offset;\n        }\n      }\n    }\n    if (!everyFrameHasOffset)\n      spaceKeyframes();\n\n    return keyframes;\n  }\n\n  shared.convertToArrayForm = convertToArrayForm;\n  shared.normalizeKeyframes = normalizeKeyframes;\n\n  if (WEB_ANIMATIONS_TESTING) {\n    testing.normalizeKeyframes = normalizeKeyframes;\n  }\n\n})(webAnimationsShared, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared) {\n\n  var silenced = {};\n\n  shared.isDeprecated = function(feature, date, advice, plural) {\n    if (WEB_ANIMATIONS_TESTING) {\n      return true;\n    }\n\n    var auxVerb = plural ? 'are' : 'is';\n    var today = new Date();\n    var expiry = new Date(date);\n    expiry.setMonth(expiry.getMonth() + 3); // 3 months grace period\n\n    if (today < expiry) {\n      if (!(feature in silenced)) {\n        console.warn('Web Animations: ' + feature + ' ' + auxVerb + ' deprecated and will stop working on ' + expiry.toDateString() + '. ' + advice);\n      }\n      silenced[feature] = true;\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  shared.deprecated = function(feature, date, advice, plural) {\n    var auxVerb = plural ? 'are' : 'is';\n    if (shared.isDeprecated(feature, date, advice, plural)) {\n      throw new Error(feature + ' ' + auxVerb + ' no longer supported. ' + advice);\n    }\n  };\n\n})(webAnimationsShared);\n","// Copyright 2016 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function() {\n\n  if (document.createElement('div').animate([]).oncancel !== undefined) {\n    return;\n  }\n\n  if (WEB_ANIMATIONS_TESTING) {\n    var now = function() { return webAnimations1.timeline.currentTime; };\n  } else if (window.performance && performance.now) {\n    var now = function() { return performance.now(); };\n  } else {\n    var now = function() { return Date.now(); };\n  }\n\n  var AnimationCancelEvent = function(target, currentTime, timelineTime) {\n    this.target = target;\n    this.currentTime = currentTime;\n    this.timelineTime = timelineTime;\n\n    this.type = 'cancel';\n    this.bubbles = false;\n    this.cancelable = false;\n    this.currentTarget = target;\n    this.defaultPrevented = false;\n    this.eventPhase = Event.AT_TARGET;\n    this.timeStamp = Date.now();\n  };\n\n  var originalElementAnimate = window.Element.prototype.animate;\n  window.Element.prototype.animate = function(effectInput, options) {\n    var animation = originalElementAnimate.call(this, effectInput, options);\n\n    animation._cancelHandlers = [];\n    animation.oncancel = null;\n\n    var originalCancel = animation.cancel;\n    animation.cancel = function() {\n      originalCancel.call(this);\n      var event = new AnimationCancelEvent(this, null, now());\n      var handlers = this._cancelHandlers.concat(this.oncancel ? [this.oncancel] : []);\n      setTimeout(function() {\n        handlers.forEach(function(handler) {\n          handler.call(event.target, event);\n        });\n      }, 0);\n    };\n\n    var originalAddEventListener = animation.addEventListener;\n    animation.addEventListener = function(type, handler) {\n      if (typeof handler == 'function' && type == 'cancel')\n        this._cancelHandlers.push(handler);\n      else\n        originalAddEventListener.call(this, type, handler);\n    };\n\n    var originalRemoveEventListener = animation.removeEventListener;\n    animation.removeEventListener = function(type, handler) {\n      if (type == 'cancel') {\n        var index = this._cancelHandlers.indexOf(handler);\n        if (index >= 0)\n          this._cancelHandlers.splice(index, 1);\n      } else {\n        originalRemoveEventListener.call(this, type, handler);\n      }\n    };\n\n    return animation;\n  };\n})();\n","// Copyright 2016 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared) {\n  // If the polyfill is being loaded in a context where Element.animate is\n  // supported but object-form syntax is not, then creating an animation\n  // using the new syntax will either have no effect or will throw an exception.\n  // In either case, we want to proceed to load this part of the polyfill.\n  //\n  // The test animation uses an opacity other than the one the element already\n  // has, and doesn't need to change during the animation for the test to work.\n  // After the test, the element's opacity will be left how we found it:\n  // - If the animation is not created, the test will leave the element's\n  //   opacity untouched at originalOpacity.\n  // - If the animation is created, it will be cancelled, and leave the\n  //   element's opacity at originalOpacity.\n  // - If the animation is somehow created and runs without being cancelled,\n  //   when it finishes after 1ms, it will cease to have any effect (because\n  //   fill is not specified), and opacity will again be left at originalOpacity.\n  var element = document.documentElement;\n  var animation = null;\n  var animated = false;\n  try {\n    var originalOpacity = getComputedStyle(element).getPropertyValue('opacity');\n    var testOpacity = originalOpacity == '0' ? '1' : '0';\n    animation = element.animate({'opacity': [testOpacity, testOpacity]},\n        {duration: 1});\n    animation.currentTime = 0;\n    animated = getComputedStyle(element).getPropertyValue('opacity') == testOpacity;\n  } catch (error) {\n  } finally {\n    if (animation)\n      animation.cancel();\n  }\n  if (animated) {\n    return;\n  }\n\n  var originalElementAnimate = window.Element.prototype.animate;\n  window.Element.prototype.animate = function(effectInput, options) {\n    if (window.Symbol && Symbol.iterator && Array.prototype.from && effectInput[Symbol.iterator]) {\n      // Handle custom iterables in most browsers by converting to an array\n      effectInput = Array.from(effectInput);\n    }\n\n    if (!Array.isArray(effectInput) && effectInput !== null) {\n      effectInput = shared.convertToArrayForm(effectInput);\n    }\n\n    return originalElementAnimate.call(this, effectInput, options);\n  };\n})(webAnimationsShared);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n(function(shared, scope, testing) {\n  var originalRequestAnimationFrame = window.requestAnimationFrame;\n  window.requestAnimationFrame = function(f) {\n    return originalRequestAnimationFrame(function(x) {\n      scope.timeline._updateAnimationsPromises();\n      f(x);\n      scope.timeline._updateAnimationsPromises();\n    });\n  };\n\n  scope.AnimationTimeline = function() {\n    this._animations = [];\n    this.currentTime = undefined;\n  };\n\n  scope.AnimationTimeline.prototype = {\n    getAnimations: function() {\n      this._discardAnimations();\n      return this._animations.slice();\n    },\n    _updateAnimationsPromises: function() {\n      scope.animationsWithPromises = scope.animationsWithPromises.filter(function(animation) {\n        return animation._updatePromises();\n      });\n    },\n    _discardAnimations: function() {\n      this._updateAnimationsPromises();\n      this._animations = this._animations.filter(function(animation) {\n        return animation.playState != 'finished' && animation.playState != 'idle';\n      });\n    },\n    _play: function(effect) {\n      var animation = new scope.Animation(effect, this);\n      this._animations.push(animation);\n      scope.restartWebAnimationsNextTick();\n      // Use animation._animation.play() here, NOT animation.play().\n      //\n      // Timeline.play calls new scope.Animation(effect) which (indirectly) calls Timeline.play on\n      // effect's children, and Animation.play is also recursive. We only need to call play on each\n      // animation in the tree once.\n      animation._updatePromises();\n      animation._animation.play();\n      animation._updatePromises();\n      return animation;\n    },\n    play: function(effect) {\n      if (effect) {\n        effect.remove();\n      }\n      return this._play(effect);\n    }\n  };\n\n  var ticking = false;\n\n  scope.restartWebAnimationsNextTick = function() {\n    if (!ticking) {\n      ticking = true;\n      requestAnimationFrame(webAnimationsNextTick);\n    }\n  };\n\n  function webAnimationsNextTick(t) {\n    var timeline = scope.timeline;\n    timeline.currentTime = t;\n    timeline._discardAnimations();\n    if (timeline._animations.length == 0)\n      ticking = false;\n    else\n      requestAnimationFrame(webAnimationsNextTick);\n  }\n\n  var timeline = new scope.AnimationTimeline();\n  scope.timeline = timeline;\n\n  try {\n    Object.defineProperty(window.document, 'timeline', {\n      configurable: true,\n      get: function() { return timeline; }\n    });\n  } catch (e) { }\n  try {\n    window.document.timeline = timeline;\n  } catch (e) { }\n\n})(webAnimationsShared, webAnimationsNext, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, scope, testing) {\n  scope.animationsWithPromises = [];\n\n  scope.Animation = function(effect, timeline) {\n    this.id = '';\n    if (effect && effect._id) {\n      this.id = effect._id;\n    }\n    this.effect = effect;\n    if (effect) {\n      effect._animation = this;\n    }\n    if (!timeline) {\n      throw new Error('Animation with null timeline is not supported');\n    }\n    this._timeline = timeline;\n    this._sequenceNumber = shared.sequenceNumber++;\n    this._holdTime = 0;\n    this._paused = false;\n    this._isGroup = false;\n    this._animation = null;\n    this._childAnimations = [];\n    this._callback = null;\n    this._oldPlayState = 'idle';\n    this._rebuildUnderlyingAnimation();\n    // Animations are constructed in the idle state.\n    this._animation.cancel();\n    this._updatePromises();\n  };\n\n  scope.Animation.prototype = {\n    _updatePromises: function() {\n      var oldPlayState = this._oldPlayState;\n      var newPlayState = this.playState;\n      if (this._readyPromise && newPlayState !== oldPlayState) {\n        if (newPlayState == 'idle') {\n          this._rejectReadyPromise();\n          this._readyPromise = undefined;\n        } else if (oldPlayState == 'pending') {\n          this._resolveReadyPromise();\n        } else if (newPlayState == 'pending') {\n          this._readyPromise = undefined;\n        }\n      }\n      if (this._finishedPromise && newPlayState !== oldPlayState) {\n        if (newPlayState == 'idle') {\n          this._rejectFinishedPromise();\n          this._finishedPromise = undefined;\n        } else if (newPlayState == 'finished') {\n          this._resolveFinishedPromise();\n        } else if (oldPlayState == 'finished') {\n          this._finishedPromise = undefined;\n        }\n      }\n      this._oldPlayState = this.playState;\n      return (this._readyPromise || this._finishedPromise);\n    },\n    _rebuildUnderlyingAnimation: function() {\n      this._updatePromises();\n      var oldPlaybackRate;\n      var oldPaused;\n      var oldStartTime;\n      var oldCurrentTime;\n      var hadUnderlying = this._animation ? true : false;\n      if (hadUnderlying) {\n        oldPlaybackRate = this.playbackRate;\n        oldPaused = this._paused;\n        oldStartTime = this.startTime;\n        oldCurrentTime = this.currentTime;\n        this._animation.cancel();\n        this._animation._wrapper = null;\n        this._animation = null;\n      }\n\n      if (!this.effect || this.effect instanceof window.KeyframeEffect) {\n        this._animation = scope.newUnderlyingAnimationForKeyframeEffect(this.effect);\n        scope.bindAnimationForKeyframeEffect(this);\n      }\n      if (this.effect instanceof window.SequenceEffect || this.effect instanceof window.GroupEffect) {\n        this._animation = scope.newUnderlyingAnimationForGroup(this.effect);\n        scope.bindAnimationForGroup(this);\n      }\n      if (this.effect && this.effect._onsample) {\n        scope.bindAnimationForCustomEffect(this);\n      }\n      if (hadUnderlying) {\n        if (oldPlaybackRate != 1) {\n          this.playbackRate = oldPlaybackRate;\n        }\n        if (oldStartTime !== null) {\n          this.startTime = oldStartTime;\n        } else if (oldCurrentTime !== null) {\n          this.currentTime = oldCurrentTime;\n        } else if (this._holdTime !== null) {\n          this.currentTime = this._holdTime;\n        }\n        if (oldPaused) {\n          this.pause();\n        }\n      }\n      this._updatePromises();\n    },\n    _updateChildren: function() {\n      if (!this.effect || this.playState == 'idle')\n        return;\n\n      var offset = this.effect._timing.delay;\n      this._childAnimations.forEach(function(childAnimation) {\n        this._arrangeChildren(childAnimation, offset);\n        if (this.effect instanceof window.SequenceEffect)\n          offset += scope.groupChildDuration(childAnimation.effect);\n      }.bind(this));\n    },\n    _setExternalAnimation: function(animation) {\n      if (!this.effect || !this._isGroup)\n        return;\n      for (var i = 0; i < this.effect.children.length; i++) {\n        this.effect.children[i]._animation = animation;\n        this._childAnimations[i]._setExternalAnimation(animation);\n      }\n    },\n    _constructChildAnimations: function() {\n      if (!this.effect || !this._isGroup)\n        return;\n      var offset = this.effect._timing.delay;\n      this._removeChildAnimations();\n      this.effect.children.forEach(function(child) {\n        var childAnimation = scope.timeline._play(child);\n        this._childAnimations.push(childAnimation);\n        childAnimation.playbackRate = this.playbackRate;\n        if (this._paused)\n          childAnimation.pause();\n        child._animation = this.effect._animation;\n\n        this._arrangeChildren(childAnimation, offset);\n\n        if (this.effect instanceof window.SequenceEffect)\n          offset += scope.groupChildDuration(child);\n      }.bind(this));\n    },\n    _arrangeChildren: function(childAnimation, offset) {\n      if (this.startTime === null) {\n        childAnimation.currentTime = this.currentTime - offset / this.playbackRate;\n      } else if (childAnimation.startTime !== this.startTime + offset / this.playbackRate) {\n        childAnimation.startTime = this.startTime + offset / this.playbackRate;\n      }\n    },\n    get timeline() {\n      return this._timeline;\n    },\n    get playState() {\n      return this._animation ? this._animation.playState : 'idle';\n    },\n    get finished() {\n      if (!window.Promise) {\n        console.warn('Animation Promises require JavaScript Promise constructor');\n        return null;\n      }\n      if (!this._finishedPromise) {\n        if (scope.animationsWithPromises.indexOf(this) == -1) {\n          scope.animationsWithPromises.push(this);\n        }\n        this._finishedPromise = new Promise(\n            function(resolve, reject) {\n              this._resolveFinishedPromise = function() {\n                resolve(this);\n              };\n              this._rejectFinishedPromise = function() {\n                reject({type: DOMException.ABORT_ERR, name: 'AbortError'});\n              };\n            }.bind(this));\n        if (this.playState == 'finished') {\n          this._resolveFinishedPromise();\n        }\n      }\n      return this._finishedPromise;\n    },\n    get ready() {\n      if (!window.Promise) {\n        console.warn('Animation Promises require JavaScript Promise constructor');\n        return null;\n      }\n      if (!this._readyPromise) {\n        if (scope.animationsWithPromises.indexOf(this) == -1) {\n          scope.animationsWithPromises.push(this);\n        }\n        this._readyPromise = new Promise(\n            function(resolve, reject) {\n              this._resolveReadyPromise = function() {\n                resolve(this);\n              };\n              this._rejectReadyPromise = function() {\n                reject({type: DOMException.ABORT_ERR, name: 'AbortError'});\n              };\n            }.bind(this));\n        if (this.playState !== 'pending') {\n          this._resolveReadyPromise();\n        }\n      }\n      return this._readyPromise;\n    },\n    get onfinish() {\n      return this._animation.onfinish;\n    },\n    set onfinish(v) {\n      if (typeof v == 'function') {\n        this._animation.onfinish = (function(e) {\n          e.target = this;\n          v.call(this, e);\n        }).bind(this);\n      } else {\n        this._animation.onfinish = v;\n      }\n    },\n    get oncancel() {\n      return this._animation.oncancel;\n    },\n    set oncancel(v) {\n      if (typeof v == 'function') {\n        this._animation.oncancel = (function(e) {\n          e.target = this;\n          v.call(this, e);\n        }).bind(this);\n      } else {\n        this._animation.oncancel = v;\n      }\n    },\n    get currentTime() {\n      this._updatePromises();\n      var currentTime = this._animation.currentTime;\n      this._updatePromises();\n      return currentTime;\n    },\n    set currentTime(v) {\n      this._updatePromises();\n      this._animation.currentTime = isFinite(v) ? v : Math.sign(v) * Number.MAX_VALUE;\n      this._register();\n      this._forEachChild(function(child, offset) {\n        child.currentTime = v - offset;\n      });\n      this._updatePromises();\n    },\n    get startTime() {\n      return this._animation.startTime;\n    },\n    set startTime(v) {\n      this._updatePromises();\n      this._animation.startTime = isFinite(v) ? v : Math.sign(v) * Number.MAX_VALUE;\n      this._register();\n      this._forEachChild(function(child, offset) {\n        child.startTime = v + offset;\n      });\n      this._updatePromises();\n    },\n    get playbackRate() {\n      return this._animation.playbackRate;\n    },\n    set playbackRate(value) {\n      this._updatePromises();\n      var oldCurrentTime = this.currentTime;\n      this._animation.playbackRate = value;\n      this._forEachChild(function(childAnimation) {\n        childAnimation.playbackRate = value;\n      });\n      if (oldCurrentTime !== null) {\n        this.currentTime = oldCurrentTime;\n      }\n      this._updatePromises();\n    },\n    play: function() {\n      this._updatePromises();\n      this._paused = false;\n      this._animation.play();\n      if (this._timeline._animations.indexOf(this) == -1) {\n        this._timeline._animations.push(this);\n      }\n      this._register();\n      scope.awaitStartTime(this);\n      this._forEachChild(function(child) {\n        var time = child.currentTime;\n        child.play();\n        child.currentTime = time;\n      });\n      this._updatePromises();\n    },\n    pause: function() {\n      this._updatePromises();\n      if (this.currentTime) {\n        this._holdTime = this.currentTime;\n      }\n      this._animation.pause();\n      this._register();\n      this._forEachChild(function(child) {\n        child.pause();\n      });\n      this._paused = true;\n      this._updatePromises();\n    },\n    finish: function() {\n      this._updatePromises();\n      this._animation.finish();\n      this._register();\n      this._updatePromises();\n    },\n    cancel: function() {\n      this._updatePromises();\n      this._animation.cancel();\n      this._register();\n      this._removeChildAnimations();\n      this._updatePromises();\n    },\n    reverse: function() {\n      this._updatePromises();\n      var oldCurrentTime = this.currentTime;\n      this._animation.reverse();\n      this._forEachChild(function(childAnimation) {\n        childAnimation.reverse();\n      });\n      if (oldCurrentTime !== null) {\n        this.currentTime = oldCurrentTime;\n      }\n      this._updatePromises();\n    },\n    addEventListener: function(type, handler) {\n      var wrapped = handler;\n      if (typeof handler == 'function') {\n        wrapped = (function(e) {\n          e.target = this;\n          handler.call(this, e);\n        }).bind(this);\n        handler._wrapper = wrapped;\n      }\n      this._animation.addEventListener(type, wrapped);\n    },\n    removeEventListener: function(type, handler) {\n      this._animation.removeEventListener(type, (handler && handler._wrapper) || handler);\n    },\n    _removeChildAnimations: function() {\n      while (this._childAnimations.length)\n        this._childAnimations.pop().cancel();\n    },\n    _forEachChild: function(f) {\n      var offset = 0;\n      if (this.effect.children && this._childAnimations.length < this.effect.children.length)\n        this._constructChildAnimations();\n      this._childAnimations.forEach(function(child) {\n        f.call(this, child, offset);\n        if (this.effect instanceof window.SequenceEffect)\n          offset += child.effect.activeDuration;\n      }.bind(this));\n\n      if (this.playState == 'pending')\n        return;\n      var timing = this.effect._timing;\n      var t = this.currentTime;\n      if (t !== null)\n        t = shared.calculateIterationProgress(shared.calculateActiveDuration(timing), t, timing);\n      if (t == null || isNaN(t))\n        this._removeChildAnimations();\n    },\n  };\n\n  window.Animation = scope.Animation;\n\n  if (WEB_ANIMATIONS_TESTING) {\n    testing.webAnimationsNextAnimation = scope.Animation;\n  }\n\n})(webAnimationsShared, webAnimationsNext, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, scope, testing) {\n\n  var disassociate = function(effect) {\n    effect._animation = undefined;\n    if (effect instanceof window.SequenceEffect || effect instanceof window.GroupEffect) {\n      for (var i = 0; i < effect.children.length; i++) {\n        disassociate(effect.children[i]);\n      }\n    }\n  };\n\n  scope.removeMulti = function(effects) {\n    var oldParents = [];\n    for (var i = 0; i < effects.length; i++) {\n      var effect = effects[i];\n      if (effect._parent) {\n        if (oldParents.indexOf(effect._parent) == -1) {\n          oldParents.push(effect._parent);\n        }\n        effect._parent.children.splice(effect._parent.children.indexOf(effect), 1);\n        effect._parent = null;\n        disassociate(effect);\n      } else if (effect._animation && (effect._animation.effect == effect)) {\n        effect._animation.cancel();\n        effect._animation.effect = new KeyframeEffect(null, []);\n        if (effect._animation._callback) {\n          effect._animation._callback._animation = null;\n        }\n        effect._animation._rebuildUnderlyingAnimation();\n        disassociate(effect);\n      }\n    }\n    for (i = 0; i < oldParents.length; i++) {\n      oldParents[i]._rebuild();\n    }\n  };\n\n  function KeyframeList(effectInput) {\n    this._frames = shared.normalizeKeyframes(effectInput);\n  }\n\n  scope.KeyframeEffect = function(target, effectInput, timingInput, id) {\n    this.target = target;\n    this._parent = null;\n\n    timingInput = shared.numericTimingToObject(timingInput);\n    this._timingInput = shared.cloneTimingInput(timingInput);\n    this._timing = shared.normalizeTimingInput(timingInput);\n\n    this.timing = shared.makeTiming(timingInput, false, this);\n    this.timing._effect = this;\n    if (typeof effectInput == 'function') {\n      shared.deprecated('Custom KeyframeEffect', '2015-06-22', 'Use KeyframeEffect.onsample instead.');\n      this._normalizedKeyframes = effectInput;\n    } else {\n      this._normalizedKeyframes = new KeyframeList(effectInput);\n    }\n    this._keyframes = effectInput;\n    this.activeDuration = shared.calculateActiveDuration(this._timing);\n    this._id = id;\n    return this;\n  };\n\n  scope.KeyframeEffect.prototype = {\n    getFrames: function() {\n      if (typeof this._normalizedKeyframes == 'function')\n        return this._normalizedKeyframes;\n      return this._normalizedKeyframes._frames;\n    },\n    set onsample(callback) {\n      if (typeof this.getFrames() == 'function') {\n        throw new Error('Setting onsample on custom effect KeyframeEffect is not supported.');\n      }\n      this._onsample = callback;\n      if (this._animation) {\n        this._animation._rebuildUnderlyingAnimation();\n      }\n    },\n    get parent() {\n      return this._parent;\n    },\n    clone: function() {\n      if (typeof this.getFrames() == 'function') {\n        throw new Error('Cloning custom effects is not supported.');\n      }\n      var clone = new KeyframeEffect(this.target, [], shared.cloneTimingInput(this._timingInput), this._id);\n      clone._normalizedKeyframes = this._normalizedKeyframes;\n      clone._keyframes = this._keyframes;\n      return clone;\n    },\n    remove: function() {\n      scope.removeMulti([this]);\n    }\n  };\n\n  var originalElementAnimate = Element.prototype.animate;\n  Element.prototype.animate = function(effectInput, options) {\n    var id = '';\n    if (options && options.id) {\n      id = options.id;\n    }\n    return scope.timeline._play(new scope.KeyframeEffect(this, effectInput, options, id));\n  };\n\n  var nullTarget = document.createElementNS('http://www.w3.org/1999/xhtml', 'div');\n  scope.newUnderlyingAnimationForKeyframeEffect = function(keyframeEffect) {\n    if (keyframeEffect) {\n      var target = keyframeEffect.target || nullTarget;\n      var keyframes = keyframeEffect._keyframes;\n      if (typeof keyframes == 'function') {\n        keyframes = [];\n      }\n      var options = keyframeEffect._timingInput;\n      options.id = keyframeEffect._id;\n    } else {\n      var target = nullTarget;\n      var keyframes = [];\n      var options = 0;\n    }\n    return originalElementAnimate.apply(target, [keyframes, options]);\n  };\n\n  // TODO: Remove this once we remove support for custom KeyframeEffects.\n  scope.bindAnimationForKeyframeEffect = function(animation) {\n    if (animation.effect && typeof animation.effect._normalizedKeyframes == 'function') {\n      scope.bindAnimationForCustomEffect(animation);\n    }\n  };\n\n  var pendingGroups = [];\n  scope.awaitStartTime = function(groupAnimation) {\n    if (groupAnimation.startTime !== null || !groupAnimation._isGroup)\n      return;\n    if (pendingGroups.length == 0) {\n      requestAnimationFrame(updatePendingGroups);\n    }\n    pendingGroups.push(groupAnimation);\n  };\n  function updatePendingGroups() {\n    var updated = false;\n    while (pendingGroups.length) {\n      var group = pendingGroups.shift();\n      group._updateChildren();\n      updated = true;\n    }\n    return updated;\n  }\n  var originalGetComputedStyle = window.getComputedStyle;\n  Object.defineProperty(window, 'getComputedStyle', {\n    configurable: true,\n    enumerable: true,\n    value: function() {\n      scope.timeline._updateAnimationsPromises();\n      var result = originalGetComputedStyle.apply(this, arguments);\n      if (updatePendingGroups())\n        result = originalGetComputedStyle.apply(this, arguments);\n      scope.timeline._updateAnimationsPromises();\n      return result;\n    },\n  });\n\n  window.KeyframeEffect = scope.KeyframeEffect;\n  window.Element.prototype.getAnimations = function() {\n    return document.timeline.getAnimations().filter(function(animation) {\n      return animation.effect !== null && animation.effect.target == this;\n    }.bind(this));\n  };\n\n}(webAnimationsShared, webAnimationsNext, webAnimationsTesting));\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n(function(shared, scope, testing) {\n\n  var nullTarget = document.createElementNS('http://www.w3.org/1999/xhtml', 'div');\n\n  var sequenceNumber = 0;\n  scope.bindAnimationForCustomEffect = function(animation) {\n    var target = animation.effect.target;\n    var effectFunction;\n    var isKeyframeEffect = typeof animation.effect.getFrames() == 'function';\n    if (isKeyframeEffect) {\n      effectFunction = animation.effect.getFrames();\n    } else {\n      effectFunction = animation.effect._onsample;\n    }\n    var timing = animation.effect.timing;\n    var last = null;\n    timing = shared.normalizeTimingInput(timing);\n    var callback = function() {\n      var t = callback._animation ? callback._animation.currentTime : null;\n      if (t !== null) {\n        t = shared.calculateIterationProgress(shared.calculateActiveDuration(timing), t, timing);\n        if (isNaN(t))\n          t = null;\n      }\n      // FIXME: There are actually more conditions under which the effectFunction\n      // should be called.\n      if (t !== last) {\n        if (isKeyframeEffect) {\n          effectFunction(t, target, animation.effect);\n        } else {\n          effectFunction(t, animation.effect, animation.effect._animation);\n        }\n      }\n      last = t;\n    };\n\n    callback._animation = animation;\n    callback._registered = false;\n    callback._sequenceNumber = sequenceNumber++;\n    animation._callback = callback;\n    register(callback);\n  };\n\n  var callbacks = [];\n  var ticking = false;\n  function register(callback) {\n    if (callback._registered)\n      return;\n    callback._registered = true;\n    callbacks.push(callback);\n    if (!ticking) {\n      ticking = true;\n      requestAnimationFrame(tick);\n    }\n  }\n\n  function tick(t) {\n    var updating = callbacks;\n    callbacks = [];\n    updating.sort(function(left, right) {\n      return left._sequenceNumber - right._sequenceNumber;\n    });\n    updating = updating.filter(function(callback) {\n      callback();\n      var playState = callback._animation ? callback._animation.playState : 'idle';\n      if (playState != 'running' && playState != 'pending')\n        callback._registered = false;\n      return callback._registered;\n    });\n    callbacks.push.apply(callbacks, updating);\n\n    if (callbacks.length) {\n      ticking = true;\n      requestAnimationFrame(tick);\n    } else {\n      ticking = false;\n    }\n  }\n\n  scope.Animation.prototype._register = function() {\n    if (this._callback)\n      register(this._callback);\n  };\n\n})(webAnimationsShared, webAnimationsNext, webAnimationsTesting);\n","// Copyright 2014 Google Inc. All rights reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n//     You may obtain a copy of the License at\n//\n// http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//     See the License for the specific language governing permissions and\n// limitations under the License.\n\n(function(shared, scope, testing) {\n\n  function groupChildDuration(node) {\n    return node._timing.delay + node.activeDuration + node._timing.endDelay;\n  }\n\n  function constructor(children, timingInput, id) {\n    this._id = id;\n    this._parent = null;\n    this.children = children || [];\n    this._reparent(this.children);\n    timingInput = shared.numericTimingToObject(timingInput);\n    this._timingInput = shared.cloneTimingInput(timingInput);\n    this._timing = shared.normalizeTimingInput(timingInput, true);\n    this.timing = shared.makeTiming(timingInput, true, this);\n    this.timing._effect = this;\n\n    if (this._timing.duration === 'auto') {\n      this._timing.duration = this.activeDuration;\n    }\n  }\n\n  window.SequenceEffect = function() {\n    constructor.apply(this, arguments);\n  };\n\n  window.GroupEffect = function() {\n    constructor.apply(this, arguments);\n  };\n\n  constructor.prototype = {\n    _isAncestor: function(effect) {\n      var a = this;\n      while (a !== null) {\n        if (a == effect)\n          return true;\n        a = a._parent;\n      }\n      return false;\n    },\n    _rebuild: function() {\n      // Re-calculate durations for ancestors with specified duration 'auto'.\n      var node = this;\n      while (node) {\n        if (node.timing.duration === 'auto') {\n          node._timing.duration = node.activeDuration;\n        }\n        node = node._parent;\n      }\n      if (this._animation) {\n        this._animation._rebuildUnderlyingAnimation();\n      }\n    },\n    _reparent: function(newChildren) {\n      scope.removeMulti(newChildren);\n      for (var i = 0; i < newChildren.length; i++) {\n        newChildren[i]._parent = this;\n      }\n    },\n    _putChild: function(args, isAppend) {\n      var message = isAppend ? 'Cannot append an ancestor or self' : 'Cannot prepend an ancestor or self';\n      for (var i = 0; i < args.length; i++) {\n        if (this._isAncestor(args[i])) {\n          throw {\n            type: DOMException.HIERARCHY_REQUEST_ERR,\n            name: 'HierarchyRequestError',\n            message: message\n          };\n        }\n      }\n      var oldParents = [];\n      for (var i = 0; i < args.length; i++) {\n        isAppend ? this.children.push(args[i]) : this.children.unshift(args[i]);\n      }\n      this._reparent(args);\n      this._rebuild();\n    },\n    append: function()  {\n      this._putChild(arguments, true);\n    },\n    prepend: function()  {\n      this._putChild(arguments, false);\n    },\n    get parent() {\n      return this._parent;\n    },\n    get firstChild() {\n      return this.children.length ? this.children[0] : null;\n    },\n    get lastChild() {\n      return this.children.length ? this.children[this.children.length - 1] : null;\n    },\n    clone: function() {\n      var clonedTiming = shared.cloneTimingInput(this._timingInput);\n      var clonedChildren = [];\n      for (var i = 0; i < this.children.length; i++) {\n        clonedChildren.push(this.children[i].clone());\n      }\n      return (this instanceof GroupEffect) ?\n          new GroupEffect(clonedChildren, clonedTiming) :\n          new SequenceEffect(clonedChildren, clonedTiming);\n    },\n    remove: function() {\n      scope.removeMulti([this]);\n    }\n  };\n\n  window.SequenceEffect.prototype = Object.create(constructor.prototype);\n  Object.defineProperty(\n      window.SequenceEffect.prototype,\n      'activeDuration',\n      {\n        get: function() {\n          var total = 0;\n          this.children.forEach(function(child) {\n            total += groupChildDuration(child);\n          });\n          return Math.max(total, 0);\n        }\n      });\n\n  window.GroupEffect.prototype = Object.create(constructor.prototype);\n  Object.defineProperty(\n      window.GroupEffect.prototype,\n      'activeDuration',\n      {\n        get: function() {\n          var max = 0;\n          this.children.forEach(function(child) {\n            max = Math.max(max, groupChildDuration(child));\n          });\n          return max;\n        }\n      });\n\n  scope.newUnderlyingAnimationForGroup = function(group) {\n    var underlyingAnimation;\n    var timing = null;\n    var ticker = function(tf) {\n      var animation = underlyingAnimation._wrapper;\n      if (!animation) {\n        return;\n      }\n      if (animation.playState == 'pending') {\n        return;\n      }\n      if (!animation.effect) {\n        return;\n      }\n      if (tf == null) {\n        animation._removeChildAnimations();\n        return;\n      }\n\n      // If the group has a negative playback rate and is not fill backwards/both, then it should go\n      // out of effect when it reaches the start of its active interval (tf == 0). If it is fill\n      // backwards/both then it should stay in effect. calculateIterationProgress will return 0 in the\n      // backwards-filling case, and null otherwise.\n      if (tf == 0 && animation.playbackRate < 0) {\n        if (!timing) {\n          timing = shared.normalizeTimingInput(animation.effect.timing);\n        }\n        tf = shared.calculateIterationProgress(shared.calculateActiveDuration(timing), -1, timing);\n        if (isNaN(tf) || tf == null) {\n          animation._forEachChild(function(child) {\n            child.currentTime = -1;\n          });\n          animation._removeChildAnimations();\n          return;\n        }\n      }\n    };\n\n    var underlyingEffect = new KeyframeEffect(null, [], group._timing, group._id);\n    underlyingEffect.onsample = ticker;\n    underlyingAnimation = scope.timeline._play(underlyingEffect);\n    return underlyingAnimation;\n  };\n\n  scope.bindAnimationForGroup = function(animation) {\n    animation._animation._wrapper = animation;\n    animation._isGroup = true;\n    scope.awaitStartTime(animation);\n    animation._constructChildAnimations();\n    animation._setExternalAnimation(animation);\n  };\n\n  scope.groupChildDuration = groupChildDuration;\n\n})(webAnimationsShared, webAnimationsNext, webAnimationsTesting);\n"],"sourceRoot":""}