{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./packages/joomla-story-editor/src/api/index.js","webpack:///./packages/joomla-story-editor/src/api/media.js","webpack:///./packages/joomla-story-editor/src/api/publisherLogo.js","webpack:///./packages/joomla-story-editor/src/api/story.js","webpack:///./packages/joomla-story-editor/src/api/utils/getStorySaveData.js","webpack:///./packages/joomla-story-editor/src/components/documentPane/index.js","webpack:///./packages/joomla-story-editor/src/components/documentPane/publish/author.js","webpack:///./packages/joomla-story-editor/src/components/documentPane/publish/index.js","webpack:///./packages/joomla-story-editor/src/components/documentPane/publish/publish.js","webpack:///./packages/joomla-story-editor/src/components/documentPane/publish/publishTime.js","webpack:///./packages/joomla-story-editor/src/components/documentPane/status/index.js","webpack:///./packages/joomla-story-editor/src/components/documentPane/status/status.js","webpack:///./packages/joomla-story-editor/src/components/header/buttons/index.js","webpack:///./packages/joomla-story-editor/src/components/header/buttons/preview.js","webpack:///./packages/joomla-story-editor/src/components/header/buttons/saveButton.js","webpack:///./packages/joomla-story-editor/src/components/header/index.js","webpack:///./packages/joomla-story-editor/src/components/mediaUpload/index.js","webpack:///./packages/joomla-story-editor/src/components/mediaUpload/mediaPicker/index.js","webpack:///./packages/joomla-story-editor/src/components/mediaUpload/mediaPicker/useMediaPicker.js","webpack:///./packages/joomla-story-editor/src/index.js"],"names":["getMedia","config","mediaType","console","log","response","axios","method","url","headers","Authorization","token","data","totalItems","totalPages","saveMedia","formData","getPublisherLogos","apiPath","Promise","resolve","addPublisherLogo","id","active","title","saveStoryById","story","storySaveData","getStorySaveData","storyId","api","saveLink","markup","content","post_content_filtered","story_data","created_by","post_date","Date","date","toISOString","slice","replace","modified_date","published","getStoryById","pages","featuredMedia","globalStoryStyles","publisherLogo","autoAdvance","defaultPageDuration","currentStoryStyles","backgroundAudio","author","rest","version","featured_media","style_presets","meta","web_stories_publisher_logo","publisher_logo","DocumentPane","Author","actions","getAuthors","useAPI","state","tab","users","isUsersLoading","loadUsers","useInspector","isSaving","updateStory","useStory","queriedUsers","setQueriedUsers","useState","visibleOptions","setVisibleOptions","useEffect","getAuthorsBySearch","useCallback","search","then","userData","map","name","length","currentAuthor","find","handleChangeAuthor","properties","isLoading","dropDownParams","hasSearch","lightMode","onChange","getOptionsByQuery","selectedId","dropDownLabel","__","placeholder","disabled","primaryOptions","LabelWrapper","styled","div","Label","Text","attrs","as","size","THEME_CONSTANTS","TYPOGRAPHY","PRESET_SIZES","SMALL","theme","colors","fg","primary","MediaWrapper","StyledMedia","Media","width","height","HighlightRow","Row","spaceBetween","isHighlighted","styles","FLASH","MediaInputWrapper","DropdownWrapper","LogoImg","img","PublishPanel","publisherLogos","publisherLogosPath","useConfig","apiCallbacks","allowedImageMimeTypes","allowedImageFileTypes","dashboardSettingsLink","capabilities","hasUploadMediaAction","canManageSettings","MediaUpload","setPublisherLogos","highlightPoster","highlightLogo","resetHighlight","useHighlights","states","POSTER","PUBLISHER_LOGO","onFocusOut","cancelHighlight","cancelEffect","handleChangePoster","newPoster","src","onNewPublisherLogoSelected","newLogo","logos","onPublisherLogoChange","option","getErrorMessage","message","returnedMessage","sprintf","translateToExclusiveList","publisherLogoErrorMessage","posterErrorMessage","publisherLogoOptionRenderer","forwardRef","ref","props","activeItemRenderer","displayText","renderUploadButton","open","X_SMALL","publisherLogosWithUploadOption","cropParams","unshift","publish","showEffect","node","focus","TIMEZONELESS_FORMAT","loadCalendar","PublishTime","modified","status","use12HourFormat","is12Hour","shortDateFormat","showDatePicker","setShowDatePicker","dateTimeNode","useRef","dateFieldRef","useKeyDownEffect","key","val","useFocusOut","handleDateChange","value","close","newDate","format","floatingDate","includes","displayDate","now","displayLabel","formatTime","e","preventDefault","focusStyle","PLACEMENT","BOTTOM_END","propagateDimensionChange","InputRow","StatusPanel","password","saveStory","editLink","showReviewDialog","setShowReviewDialog","closeReviewDialog","shouldReviewDialogBeSeen","useCheckpoint","hasPassword","setHasPassword","Boolean","visibility","useMemo","visibilityOptions","label","helper","push","handleChangePassword","evt","target","refreshPostEditURL","useRefreshPostEditURL","publishPrivately","trackEvent","title_length","isAlreadyPublished","handleChangeVisibility","newVisibility","window","confirm","ButtonList","nav","List","Space","Spinner","IconWithSpinner","Loading","Buttons","PreviewButton","previewLink","openPreviewLink","popup","global","document","write","JSON","stringify","BUTTON_VARIANTS","SQUARE","BUTTON_TYPES","QUATERNARY","BUTTON_SIZES","SaveButton","showSnackbar","useSnackbar","handleSaveButton","RECTANGLE","PRIMARY","Background","header","role","bg","Head","ButtonCell","HeaderLayout","render","useMediaPicker","attributes","propTypes","PropTypes","func","isRequired","onPermissionError","onClose","updateMedia","wp","Uploader","prototype","success","web_stories_media_source","alt_text","alt","embedPreview","variablex","divTag","getElementById","image","createElement","innerHTML","style","maxHeight","maxWidth","URL","createObjectURL","files","appendChild","submitImages","FormData","append","click","openMediaDialog","AppContainer","initialize","appElement","Pane","initializeWithConfig","globalconfig","webStoriesEditorSettings","apiCallbacksNames","reduce","callbacks","storyResponse","raw","excerpt","permalink_template","color","textStyles","_config","deepMerge","defaultConfig","finalConfig","readyState","addEventListener"],"mappings":";QAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,yCAAyC,8lZAA8lZ,kCAAkC,gxVAAgxV;QACz7uB;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;Q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","file":"joomla-story-editor.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n \t\tvar prefetchChunks = data[3] || [];\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n \t\tdeferredPrefetch.push.apply(deferredPrefetch, prefetchChunks);\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\tif(deferredModules.length === 0) {\n \t\t\t// chunk prefetching for javascript\n \t\t\tdeferredPrefetch.forEach(function(chunkId) {\n \t\t\t\tif(installedChunks[chunkId] === undefined) {\n \t\t\t\t\tinstalledChunks[chunkId] = null;\n \t\t\t\t\tvar link = document.createElement('link');\n\n \t\t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\t\tlink.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t\t}\n \t\t\t\t\tlink.rel = \"prefetch\";\n \t\t\t\t\tlink.as = \"script\";\n \t\t\t\t\tlink.href = jsonpScriptSrc(chunkId);\n \t\t\t\t\tdocument.head.appendChild(link);\n \t\t\t\t}\n \t\t\t});\n \t\t\tdeferredPrefetch.length = 0;\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"joomla-story-editor\": 0\n \t};\n\n \tvar deferredModules = [], deferredPrefetch = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"chunk-colorthief\":\"chunk-colorthief\",\"chunk-fonts\":\"chunk-fonts\",\"chunk-web-stories-template-100\":\"chunk-web-stories-template-100\",\"chunk-web-stories-template-102\":\"chunk-web-stories-template-102\",\"chunk-web-stories-template-96\":\"chunk-web-stories-template-96\",\"chunk-web-stories-template-108\":\"chunk-web-stories-template-108\",\"chunk-web-stories-template-110\":\"chunk-web-stories-template-110\",\"chunk-web-stories-template-104\":\"chunk-web-stories-template-104\",\"chunk-web-stories-template-116\":\"chunk-web-stories-template-116\",\"chunk-web-stories-template-118\":\"chunk-web-stories-template-118\",\"chunk-web-stories-template-112\":\"chunk-web-stories-template-112\",\"chunk-web-stories-template-12\":\"chunk-web-stories-template-12\",\"chunk-web-stories-template-124\":\"chunk-web-stories-template-124\",\"chunk-web-stories-template-126\":\"chunk-web-stories-template-126\",\"chunk-web-stories-template-120\":\"chunk-web-stories-template-120\",\"chunk-web-stories-template-132\":\"chunk-web-stories-template-132\",\"chunk-web-stories-template-134\":\"chunk-web-stories-template-134\",\"chunk-web-stories-template-128\":\"chunk-web-stories-template-128\",\"chunk-web-stories-template-14\":\"chunk-web-stories-template-14\",\"chunk-web-stories-template-8\":\"chunk-web-stories-template-8\",\"chunk-web-stories-template-140\":\"chunk-web-stories-template-140\",\"chunk-web-stories-template-142\":\"chunk-web-stories-template-142\",\"chunk-web-stories-template-136\":\"chunk-web-stories-template-136\",\"chunk-web-stories-template-148\":\"chunk-web-stories-template-148\",\"chunk-web-stories-template-150\":\"chunk-web-stories-template-150\",\"chunk-web-stories-template-144\":\"chunk-web-stories-template-144\",\"chunk-web-stories-template-156\":\"chunk-web-stories-template-156\",\"chunk-web-stories-template-158\":\"chunk-web-stories-template-158\",\"chunk-web-stories-template-152\":\"chunk-web-stories-template-152\",\"chunk-web-stories-template-164\":\"chunk-web-stories-template-164\",\"chunk-web-stories-template-166\":\"chunk-web-stories-template-166\",\"chunk-web-stories-template-160\":\"chunk-web-stories-template-160\",\"chunk-web-stories-template-172\":\"chunk-web-stories-template-172\",\"chunk-web-stories-template-174\":\"chunk-web-stories-template-174\",\"chunk-web-stories-template-168\":\"chunk-web-stories-template-168\",\"chunk-web-stories-template-180\":\"chunk-web-stories-template-180\",\"chunk-web-stories-template-182\":\"chunk-web-stories-template-182\",\"chunk-web-stories-template-176\":\"chunk-web-stories-template-176\",\"chunk-web-stories-template-188\":\"chunk-web-stories-template-188\",\"chunk-web-stories-template-190\":\"chunk-web-stories-template-190\",\"chunk-web-stories-template-184\":\"chunk-web-stories-template-184\",\"chunk-web-stories-template-196\":\"chunk-web-stories-template-196\",\"chunk-web-stories-template-198\":\"chunk-web-stories-template-198\",\"chunk-web-stories-template-192\":\"chunk-web-stories-template-192\",\"chunk-web-stories-template-20\":\"chunk-web-stories-template-20\",\"chunk-web-stories-template-204\":\"chunk-web-stories-template-204\",\"chunk-web-stories-template-206\":\"chunk-web-stories-template-206\",\"chunk-web-stories-template-200\":\"chunk-web-stories-template-200\",\"chunk-web-stories-template-212\":\"chunk-web-stories-template-212\",\"chunk-web-stories-template-214\":\"chunk-web-stories-template-214\",\"chunk-web-stories-template-208\":\"chunk-web-stories-template-208\",\"chunk-web-stories-template-22\":\"chunk-web-stories-template-22\",\"chunk-web-stories-template-16\":\"chunk-web-stories-template-16\",\"chunk-web-stories-template-220\":\"chunk-web-stories-template-220\",\"chunk-web-stories-template-222\":\"chunk-web-stories-template-222\",\"chunk-web-stories-template-216\":\"chunk-web-stories-template-216\",\"chunk-web-stories-template-228\":\"chunk-web-stories-template-228\",\"chunk-web-stories-template-230\":\"chunk-web-stories-template-230\",\"chunk-web-stories-template-224\":\"chunk-web-stories-template-224\",\"chunk-web-stories-template-236\":\"chunk-web-stories-template-236\",\"chunk-web-stories-template-238\":\"chunk-web-stories-template-238\",\"chunk-web-stories-template-232\":\"chunk-web-stories-template-232\",\"chunk-web-stories-template-244\":\"chunk-web-stories-template-244\",\"chunk-web-stories-template-246\":\"chunk-web-stories-template-246\",\"chunk-web-stories-template-240\":\"chunk-web-stories-template-240\",\"chunk-web-stories-template-252\":\"chunk-web-stories-template-252\",\"chunk-web-stories-template-254\":\"chunk-web-stories-template-254\",\"chunk-web-stories-template-248\":\"chunk-web-stories-template-248\",\"chunk-web-stories-template-260\":\"chunk-web-stories-template-260\",\"chunk-web-stories-template-262\":\"chunk-web-stories-template-262\",\"chunk-web-stories-template-256\":\"chunk-web-stories-template-256\",\"chunk-web-stories-template-268\":\"chunk-web-stories-template-268\",\"chunk-web-stories-template-270\":\"chunk-web-stories-template-270\",\"chunk-web-stories-template-264\":\"chunk-web-stories-template-264\",\"chunk-web-stories-template-276\":\"chunk-web-stories-template-276\",\"chunk-web-stories-template-278\":\"chunk-web-stories-template-278\",\"chunk-web-stories-template-272\":\"chunk-web-stories-template-272\",\"chunk-web-stories-template-28\":\"chunk-web-stories-template-28\",\"chunk-web-stories-template-284\":\"chunk-web-stories-template-284\",\"chunk-web-stories-template-286\":\"chunk-web-stories-template-286\",\"chunk-web-stories-template-280\":\"chunk-web-stories-template-280\",\"chunk-web-stories-template-292\":\"chunk-web-stories-template-292\",\"chunk-web-stories-template-294\":\"chunk-web-stories-template-294\",\"chunk-web-stories-template-288\":\"chunk-web-stories-template-288\",\"chunk-web-stories-template-30\":\"chunk-web-stories-template-30\",\"chunk-web-stories-template-24\":\"chunk-web-stories-template-24\",\"chunk-web-stories-template-300\":\"chunk-web-stories-template-300\",\"chunk-web-stories-template-302\":\"chunk-web-stories-template-302\",\"chunk-web-stories-template-296\":\"chunk-web-stories-template-296\",\"chunk-web-stories-template-308\":\"chunk-web-stories-template-308\",\"chunk-web-stories-template-310\":\"chunk-web-stories-template-310\",\"chunk-web-stories-template-304\":\"chunk-web-stories-template-304\",\"chunk-web-stories-template-316\":\"chunk-web-stories-template-316\",\"chunk-web-stories-template-318\":\"chunk-web-stories-template-318\",\"chunk-web-stories-template-312\":\"chunk-web-stories-template-312\",\"chunk-web-stories-template-324\":\"chunk-web-stories-template-324\",\"chunk-web-stories-template-326\":\"chunk-web-stories-template-326\",\"chunk-web-stories-template-320\":\"chunk-web-stories-template-320\",\"chunk-web-stories-template-332\":\"chunk-web-stories-template-332\",\"chunk-web-stories-template-334\":\"chunk-web-stories-template-334\",\"chunk-web-stories-template-328\":\"chunk-web-stories-template-328\",\"chunk-web-stories-template-340\":\"chunk-web-stories-template-340\",\"chunk-web-stories-template-342\":\"chunk-web-stories-template-342\",\"chunk-web-stories-template-336\":\"chunk-web-stories-template-336\",\"chunk-web-stories-template-348\":\"chunk-web-stories-template-348\",\"chunk-web-stories-template-350\":\"chunk-web-stories-template-350\",\"chunk-web-stories-template-344\":\"chunk-web-stories-template-344\",\"chunk-web-stories-template-356\":\"chunk-web-stories-template-356\",\"chunk-web-stories-template-358\":\"chunk-web-stories-template-358\",\"chunk-web-stories-template-352\":\"chunk-web-stories-template-352\",\"chunk-web-stories-template-36\":\"chunk-web-stories-template-36\",\"chunk-web-stories-template-364\":\"chunk-web-stories-template-364\",\"chunk-web-stories-template-366\":\"chunk-web-stories-template-366\",\"chunk-web-stories-template-360\":\"chunk-web-stories-template-360\",\"chunk-web-stories-template-372\":\"chunk-web-stories-template-372\",\"chunk-web-stories-template-374\":\"chunk-web-stories-template-374\",\"chunk-web-stories-template-368\":\"chunk-web-stories-template-368\",\"chunk-web-stories-template-38\":\"chunk-web-stories-template-38\",\"chunk-web-stories-template-32\":\"chunk-web-stories-template-32\",\"chunk-web-stories-template-380\":\"chunk-web-stories-template-380\",\"chunk-web-stories-template-382\":\"chunk-web-stories-template-382\",\"chunk-web-stories-template-376\":\"chunk-web-stories-template-376\",\"chunk-web-stories-template-388\":\"chunk-web-stories-template-388\",\"chunk-web-stories-template-390\":\"chunk-web-stories-template-390\",\"chunk-web-stories-template-384\":\"chunk-web-stories-template-384\",\"chunk-web-stories-template-396\":\"chunk-web-stories-template-396\",\"chunk-web-stories-template-398\":\"chunk-web-stories-template-398\",\"chunk-web-stories-template-392\":\"chunk-web-stories-template-392\",\"chunk-web-stories-template-4\":\"chunk-web-stories-template-4\",\"chunk-web-stories-template-404\":\"chunk-web-stories-template-404\",\"chunk-web-stories-template-406\":\"chunk-web-stories-template-406\",\"chunk-web-stories-template-400\":\"chunk-web-stories-template-400\",\"chunk-web-stories-template-412\":\"chunk-web-stories-template-412\",\"chunk-web-stories-template-414\":\"chunk-web-stories-template-414\",\"chunk-web-stories-template-408\":\"chunk-web-stories-template-408\",\"chunk-web-stories-template-420\":\"chunk-web-stories-template-420\",\"chunk-web-stories-template-422\":\"chunk-web-stories-template-422\",\"chunk-web-stories-template-416\":\"chunk-web-stories-template-416\",\"chunk-web-stories-template-428\":\"chunk-web-stories-template-428\",\"chunk-web-stories-template-430\":\"chunk-web-stories-template-430\",\"chunk-web-stories-template-424\":\"chunk-web-stories-template-424\",\"chunk-web-stories-template-436\":\"chunk-web-stories-template-436\",\"chunk-web-stories-template-438\":\"chunk-web-stories-template-438\",\"chunk-web-stories-template-432\":\"chunk-web-stories-template-432\",\"chunk-web-stories-template-44\":\"chunk-web-stories-template-44\",\"chunk-web-stories-template-444\":\"chunk-web-stories-template-444\",\"chunk-web-stories-template-446\":\"chunk-web-stories-template-446\",\"chunk-web-stories-template-440\":\"chunk-web-stories-template-440\",\"chunk-web-stories-template-452\":\"chunk-web-stories-template-452\",\"chunk-web-stories-template-454\":\"chunk-web-stories-template-454\",\"chunk-web-stories-template-448\":\"chunk-web-stories-template-448\",\"chunk-web-stories-template-46\":\"chunk-web-stories-template-46\",\"chunk-web-stories-template-40\":\"chunk-web-stories-template-40\",\"chunk-web-stories-template-460\":\"chunk-web-stories-template-460\",\"chunk-web-stories-template-462\":\"chunk-web-stories-template-462\",\"chunk-web-stories-template-456\":\"chunk-web-stories-template-456\",\"chunk-web-stories-template-468\":\"chunk-web-stories-template-468\",\"chunk-web-stories-template-470\":\"chunk-web-stories-template-470\",\"chunk-web-stories-template-464\":\"chunk-web-stories-template-464\",\"chunk-web-stories-template-476\":\"chunk-web-stories-template-476\",\"chunk-web-stories-template-478\":\"chunk-web-stories-template-478\",\"chunk-web-stories-template-472\":\"chunk-web-stories-template-472\",\"chunk-web-stories-template-484\":\"chunk-web-stories-template-484\",\"chunk-web-stories-template-486\":\"chunk-web-stories-template-486\",\"chunk-web-stories-template-480\":\"chunk-web-stories-template-480\",\"chunk-web-stories-template-52\":\"chunk-web-stories-template-52\",\"chunk-web-stories-template-54\":\"chunk-web-stories-template-54\",\"chunk-web-stories-template-48\":\"chunk-web-stories-template-48\",\"chunk-web-stories-template-6\":\"chunk-web-stories-template-6\",\"chunk-web-stories-template-0\":\"chunk-web-stories-template-0\",\"chunk-web-stories-template-60\":\"chunk-web-stories-template-60\",\"chunk-web-stories-template-62\":\"chunk-web-stories-template-62\",\"chunk-web-stories-template-56\":\"chunk-web-stories-template-56\",\"chunk-web-stories-template-68\":\"chunk-web-stories-template-68\",\"chunk-web-stories-template-70\":\"chunk-web-stories-template-70\",\"chunk-web-stories-template-64\":\"chunk-web-stories-template-64\",\"chunk-web-stories-template-76\":\"chunk-web-stories-template-76\",\"chunk-web-stories-template-78\":\"chunk-web-stories-template-78\",\"chunk-web-stories-template-72\":\"chunk-web-stories-template-72\",\"chunk-web-stories-template-84\":\"chunk-web-stories-template-84\",\"chunk-web-stories-template-86\":\"chunk-web-stories-template-86\",\"chunk-web-stories-template-80\":\"chunk-web-stories-template-80\",\"chunk-web-stories-template-92\":\"chunk-web-stories-template-92\",\"chunk-web-stories-template-94\":\"chunk-web-stories-template-94\",\"chunk-web-stories-template-88\":\"chunk-web-stories-template-88\",\"chunk-web-stories-textset-0\":\"chunk-web-stories-textset-0\",\"chunk-web-stories-textset-1\":\"chunk-web-stories-textset-1\",\"chunk-web-stories-textset-2\":\"chunk-web-stories-textset-2\",\"chunk-web-stories-textset-3\":\"chunk-web-stories-textset-3\",\"chunk-web-stories-textset-4\":\"chunk-web-stories-textset-4\",\"chunk-web-stories-textset-5\":\"chunk-web-stories-textset-5\",\"chunk-web-stories-textset-6\":\"chunk-web-stories-textset-6\",\"chunk-web-stories-textset-7\":\"chunk-web-stories-textset-7\",\"vendors-chunk-ffmpeg\":\"vendors-chunk-ffmpeg\",\"vendors-chunk-focus-visible\":\"vendors-chunk-focus-visible\",\"vendors-chunk-html-to-image\":\"vendors-chunk-html-to-image\",\"vendors-chunk-react-calendar\":\"vendors-chunk-react-calendar\",\"vendors-chunk-react-color\":\"vendors-chunk-react-color\",\"vendors-chunk-web-animations-js\":\"vendors-chunk-web-animations-js\"}[chunkId]||chunkId) + \".js?v=\" + {\"chunk-colorthief\":\"4565f9c6a22b85167547\",\"chunk-fonts\":\"1b5ef8da6d4ff5ad8046\",\"chunk-web-stories-template-100\":\"f0651ef0a9200df0ca91\",\"chunk-web-stories-template-102\":\"8f48fce06ed4530a7fb3\",\"chunk-web-stories-template-96\":\"78800d3d0b187b83adfa\",\"chunk-web-stories-template-108\":\"0a7d5a812b34630cc5d2\",\"chunk-web-stories-template-110\":\"1ee1ba2e05a4eab5874a\",\"chunk-web-stories-template-104\":\"f5a051cfe08016c54ab0\",\"chunk-web-stories-template-116\":\"c92ff8bb35b07a0cab55\",\"chunk-web-stories-template-118\":\"2a11b60e435098f2f17e\",\"chunk-web-stories-template-112\":\"7c57865a4a9bbc891f29\",\"chunk-web-stories-template-12\":\"e8d3811c5f6f43659840\",\"chunk-web-stories-template-124\":\"0ec6c3365e1de727be56\",\"chunk-web-stories-template-126\":\"ac51dee2133bf654c5ba\",\"chunk-web-stories-template-120\":\"01bb54614dbbd893642d\",\"chunk-web-stories-template-132\":\"85faa676778c20704db5\",\"chunk-web-stories-template-134\":\"6968b129891956a9c7f8\",\"chunk-web-stories-template-128\":\"16f662c508211edafe8b\",\"chunk-web-stories-template-14\":\"9940e90f226543166021\",\"chunk-web-stories-template-8\":\"2a8d556133e821020a37\",\"chunk-web-stories-template-140\":\"4bdbfe2a02c70cbb01c3\",\"chunk-web-stories-template-142\":\"2a3d58040904fc7e1cb4\",\"chunk-web-stories-template-136\":\"899852aaaf68afe08dd1\",\"chunk-web-stories-template-148\":\"305e8e7dc59526462a2c\",\"chunk-web-stories-template-150\":\"d3e84971310e5f1cda1e\",\"chunk-web-stories-template-144\":\"1bfc1df66c546ffe3365\",\"chunk-web-stories-template-156\":\"f20ebe93a731a2db50e1\",\"chunk-web-stories-template-158\":\"c1826c5000054a958496\",\"chunk-web-stories-template-152\":\"e92f947adada52df3af7\",\"chunk-web-stories-template-164\":\"9b4c7a229b557af5e811\",\"chunk-web-stories-template-166\":\"f03fef05c98ba2e0b4c9\",\"chunk-web-stories-template-160\":\"1881669668c98755ec1c\",\"chunk-web-stories-template-172\":\"f9f30df947de31675de8\",\"chunk-web-stories-template-174\":\"7eece3c18e5b86bc7eff\",\"chunk-web-stories-template-168\":\"cb9debc9d98a1aa95c9e\",\"chunk-web-stories-template-180\":\"6026fc107093958fe2c1\",\"chunk-web-stories-template-182\":\"22d35286273a7135a20d\",\"chunk-web-stories-template-176\":\"900e74ae2c5f4f7c59b2\",\"chunk-web-stories-template-188\":\"56705b7ea9c88c21bbf1\",\"chunk-web-stories-template-190\":\"abcfd80afff83a870e04\",\"chunk-web-stories-template-184\":\"469bd612d431241441fe\",\"chunk-web-stories-template-196\":\"b4b5643c1c98d1999344\",\"chunk-web-stories-template-198\":\"8187b08015a1e6e5995a\",\"chunk-web-stories-template-192\":\"386763de0b04aebdaed0\",\"chunk-web-stories-template-20\":\"81f56939e2e8402b2b3a\",\"chunk-web-stories-template-204\":\"dec14ed345593867d8fd\",\"chunk-web-stories-template-206\":\"ad0c945ff65014cb697d\",\"chunk-web-stories-template-200\":\"ad1b8bafe97aa3ac3090\",\"chunk-web-stories-template-212\":\"c783361ae84440423bf7\",\"chunk-web-stories-template-214\":\"07b7b6a66de00d163383\",\"chunk-web-stories-template-208\":\"210ec331c3df2f7c946f\",\"chunk-web-stories-template-22\":\"5d8c55cf2efc5f407e72\",\"chunk-web-stories-template-16\":\"af08ee4ec12c329aa7ce\",\"chunk-web-stories-template-220\":\"51ef989d1b1b6de4179d\",\"chunk-web-stories-template-222\":\"da48a47585bec007f3fd\",\"chunk-web-stories-template-216\":\"b9a4303b35aaf30adfea\",\"chunk-web-stories-template-228\":\"7fc546c21b1e411eabed\",\"chunk-web-stories-template-230\":\"c71e24d219f783d4f9e9\",\"chunk-web-stories-template-224\":\"30cc2d69951a579ae042\",\"chunk-web-stories-template-236\":\"6be71030565fa77fbcd5\",\"chunk-web-stories-template-238\":\"b02d5269d9a7e2182a88\",\"chunk-web-stories-template-232\":\"f059a629451df0415125\",\"chunk-web-stories-template-244\":\"4e615cd72a690a86978d\",\"chunk-web-stories-template-246\":\"d2525e53b720ed11eae0\",\"chunk-web-stories-template-240\":\"d9d30a95c9bd5c642369\",\"chunk-web-stories-template-252\":\"f81a6cd3a5bd74a424dc\",\"chunk-web-stories-template-254\":\"6a5b19752e0b3f291e47\",\"chunk-web-stories-template-248\":\"74094c3cfdaa750a5e52\",\"chunk-web-stories-template-260\":\"80c1bcd445599d41779a\",\"chunk-web-stories-template-262\":\"aed67b89ccf25dbb7fd4\",\"chunk-web-stories-template-256\":\"816a186128b5033b3f7f\",\"chunk-web-stories-template-268\":\"9a459a283f20d6c9e265\",\"chunk-web-stories-template-270\":\"9f086bd5a86c217ae879\",\"chunk-web-stories-template-264\":\"bd84afcb5779a1a5abca\",\"chunk-web-stories-template-276\":\"01b1f2fd415b03a4e115\",\"chunk-web-stories-template-278\":\"316e38d10fb7b3618327\",\"chunk-web-stories-template-272\":\"b754777d7cccda3a27a9\",\"chunk-web-stories-template-28\":\"ddd92ff0fcb211ecb6aa\",\"chunk-web-stories-template-284\":\"3149e25f4c2454a68d37\",\"chunk-web-stories-template-286\":\"c13f568469552a6930d3\",\"chunk-web-stories-template-280\":\"f5929796a63177372179\",\"chunk-web-stories-template-292\":\"01ca3645e8f3fa65a6f7\",\"chunk-web-stories-template-294\":\"445cbb34498cf4025e13\",\"chunk-web-stories-template-288\":\"eddb69f667a90f003e0c\",\"chunk-web-stories-template-30\":\"20cfe860dca60b363eb8\",\"chunk-web-stories-template-24\":\"9b756f8563c74887f306\",\"chunk-web-stories-template-300\":\"3e75dc1316ab49eac577\",\"chunk-web-stories-template-302\":\"80495af8803174feaa4f\",\"chunk-web-stories-template-296\":\"5e824f223416af3173d9\",\"chunk-web-stories-template-308\":\"2a9613ce09aa4643fe66\",\"chunk-web-stories-template-310\":\"c34d10ac86722df8fa1e\",\"chunk-web-stories-template-304\":\"8ad4023866a898812830\",\"chunk-web-stories-template-316\":\"113f1cb713951fb3a947\",\"chunk-web-stories-template-318\":\"819ef90aaa9250c00ce6\",\"chunk-web-stories-template-312\":\"b2f4a0afb5cde1311aaf\",\"chunk-web-stories-template-324\":\"c55776e796fd031e3305\",\"chunk-web-stories-template-326\":\"28f9804d0c2c33025e75\",\"chunk-web-stories-template-320\":\"82f8299b16382675500a\",\"chunk-web-stories-template-332\":\"fae846eeb232a402af59\",\"chunk-web-stories-template-334\":\"5d4b4ab721ec9d336f4c\",\"chunk-web-stories-template-328\":\"c023d172814d941d32ea\",\"chunk-web-stories-template-340\":\"722a9abcf0297b1186d1\",\"chunk-web-stories-template-342\":\"5a3c585d3a500a987475\",\"chunk-web-stories-template-336\":\"490755e85e456bc7dca2\",\"chunk-web-stories-template-348\":\"dfdea27ae8e7974515d8\",\"chunk-web-stories-template-350\":\"83d06f5a8bc1a58e0d3d\",\"chunk-web-stories-template-344\":\"6743b2ae5cfc27b66bc7\",\"chunk-web-stories-template-356\":\"0beab5938ae9824e82d4\",\"chunk-web-stories-template-358\":\"7e970e5201faf8894ef6\",\"chunk-web-stories-template-352\":\"d2bea5daaf0005b9c582\",\"chunk-web-stories-template-36\":\"5bc03c9beb36959aa8bb\",\"chunk-web-stories-template-364\":\"b2a67d89aea6f1dfd4bf\",\"chunk-web-stories-template-366\":\"5e2981de3bf20e68c0a2\",\"chunk-web-stories-template-360\":\"176ae4f5218c4d979ae8\",\"chunk-web-stories-template-372\":\"99e6218f67aab3cfb677\",\"chunk-web-stories-template-374\":\"6c075052ed82d0876d09\",\"chunk-web-stories-template-368\":\"ebe8b20f188c95853f80\",\"chunk-web-stories-template-38\":\"89665d51d59e86dd1b11\",\"chunk-web-stories-template-32\":\"61efbb076265976c458f\",\"chunk-web-stories-template-380\":\"ddc147659f9ce8776b82\",\"chunk-web-stories-template-382\":\"fabfdddbfd803ead2841\",\"chunk-web-stories-template-376\":\"c9b0374fae59c5b398ab\",\"chunk-web-stories-template-388\":\"e23e8f967eece7087ffc\",\"chunk-web-stories-template-390\":\"3a989e41944ec3d7353c\",\"chunk-web-stories-template-384\":\"0e7559efcb35dd8ced1f\",\"chunk-web-stories-template-396\":\"01406f52808aeab38bf2\",\"chunk-web-stories-template-398\":\"81b8322fe9f665fb02df\",\"chunk-web-stories-template-392\":\"5f83e3a39d6c33e456ee\",\"chunk-web-stories-template-4\":\"d50c9bdde02eb4c25386\",\"chunk-web-stories-template-404\":\"ca8ef00386adfe94ad66\",\"chunk-web-stories-template-406\":\"49b49f2e87baced3c72f\",\"chunk-web-stories-template-400\":\"351c802103b962f9da6b\",\"chunk-web-stories-template-412\":\"e228a11531f617f8f6f3\",\"chunk-web-stories-template-414\":\"51e2edc3940d5b19fb63\",\"chunk-web-stories-template-408\":\"4a8a5928379c0bb68d71\",\"chunk-web-stories-template-420\":\"d35ddede0c10a31e79e8\",\"chunk-web-stories-template-422\":\"273a97d69e2f4b5d59a9\",\"chunk-web-stories-template-416\":\"6d6c11c9284b000fe34b\",\"chunk-web-stories-template-428\":\"2fcbab167284d9ec4daf\",\"chunk-web-stories-template-430\":\"ef0e915bf54ce4cb8c5e\",\"chunk-web-stories-template-424\":\"b451e9dc5469b18d0f96\",\"chunk-web-stories-template-436\":\"b25d141c3df7f4167666\",\"chunk-web-stories-template-438\":\"d2305c1c8604cbb1c6f4\",\"chunk-web-stories-template-432\":\"37d95ca660d1435801df\",\"chunk-web-stories-template-44\":\"8250ed2e702b1f48a89a\",\"chunk-web-stories-template-444\":\"db1eebd13238c71126b4\",\"chunk-web-stories-template-446\":\"4c9d5a5bfe26ec92ad01\",\"chunk-web-stories-template-440\":\"7b06ae04e1040b79069d\",\"chunk-web-stories-template-452\":\"8226ab00b624e33a1c6f\",\"chunk-web-stories-template-454\":\"06a717dd7a357677f81c\",\"chunk-web-stories-template-448\":\"e6659f0a47147bfc4138\",\"chunk-web-stories-template-46\":\"dee4331025699a5914dd\",\"chunk-web-stories-template-40\":\"cced39bb24da7ed86e70\",\"chunk-web-stories-template-460\":\"6114bac9e2459bb1a534\",\"chunk-web-stories-template-462\":\"78f8cc22eacfcf4c4f18\",\"chunk-web-stories-template-456\":\"7383cdb5dfc7a26936ff\",\"chunk-web-stories-template-468\":\"fc29154e2eca1614bfc2\",\"chunk-web-stories-template-470\":\"a9e835f026b230bc1b40\",\"chunk-web-stories-template-464\":\"3db26c78b8c360de6a6f\",\"chunk-web-stories-template-476\":\"2d7bac32565f828a75a1\",\"chunk-web-stories-template-478\":\"5e781cc71d88c7f1418a\",\"chunk-web-stories-template-472\":\"f006749c171438e7b611\",\"chunk-web-stories-template-484\":\"33d57d4503eb74822e27\",\"chunk-web-stories-template-486\":\"20a5b78df96f7daac47b\",\"chunk-web-stories-template-480\":\"debdcc996695caaeb035\",\"chunk-web-stories-template-52\":\"85f0ffa71558e2167579\",\"chunk-web-stories-template-54\":\"2fe0058cff59604f037a\",\"chunk-web-stories-template-48\":\"6a929273f409f1d5dbfe\",\"chunk-web-stories-template-6\":\"84761ba9a9d904c38376\",\"chunk-web-stories-template-0\":\"f4bb6748d250ce86d2ce\",\"chunk-web-stories-template-60\":\"b376d76f779ad203dadb\",\"chunk-web-stories-template-62\":\"ec10dc0f9355331fb2ae\",\"chunk-web-stories-template-56\":\"47eb0a23531b2787918e\",\"chunk-web-stories-template-68\":\"c0d3d3b935d8cc6d9c4f\",\"chunk-web-stories-template-70\":\"84f8f459000ce893071b\",\"chunk-web-stories-template-64\":\"9054af617120933f5e58\",\"chunk-web-stories-template-76\":\"971edcb6048d1c89bd62\",\"chunk-web-stories-template-78\":\"4b7eaf198e893d996742\",\"chunk-web-stories-template-72\":\"e3cff8228b0051ed92bb\",\"chunk-web-stories-template-84\":\"7691cf765a99c2dd6998\",\"chunk-web-stories-template-86\":\"c40bb4fcdc94f4e9ce94\",\"chunk-web-stories-template-80\":\"0baad6b183533eedf888\",\"chunk-web-stories-template-92\":\"43a21a764b4cbe37279c\",\"chunk-web-stories-template-94\":\"89fca1e7b8f8613de633\",\"chunk-web-stories-template-88\":\"cb42d36613ecf6819c45\",\"chunk-web-stories-textset-0\":\"312bc92229742236f82d\",\"chunk-web-stories-textset-1\":\"580e2cf0683d8b1014a9\",\"chunk-web-stories-textset-2\":\"1f1eabf69188a437f988\",\"chunk-web-stories-textset-3\":\"2922c9e2b9423cf864d6\",\"chunk-web-stories-textset-4\":\"d4724b9cd64a348c4df0\",\"chunk-web-stories-textset-5\":\"a38a9203eda695708011\",\"chunk-web-stories-textset-6\":\"e9b60a3197e667d6bb49\",\"chunk-web-stories-textset-7\":\"d7cc7abdbf28fff47f83\",\"vendors-chunk-ffmpeg\":\"173f982c7bf73c3a60d8\",\"vendors-chunk-focus-visible\":\"4bb1e0941a29709380ef\",\"vendors-chunk-html-to-image\":\"cd72994c5b8521f40701\",\"vendors-chunk-react-calendar\":\"ff2063df92b184d544ce\",\"vendors-chunk-react-color\":\"7914dc0f87fa331ba414\",\"vendors-chunk-web-animations-js\":\"ea39b6a883d7ae36c41c\"}[chunkId] + \"\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../media/com_webstories/js/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"__webStories_webpackJsonp\"] = window[\"__webStories_webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \tvar startupResult = (function() {\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./packages/joomla-story-editor/src/index.js\",\"vendors-chunk-getStoryPropsToSave-chunk-resize-observer-polyfill-joomla-story-editor\",\"vendors-joomla-dashboard-joomla-story-editor\",\"vendors-chunk-getStoryPropsToSave-joomla-story-editor\",\"chunk-getStoryPropsToSave\",\"joomla-dashboard-joomla-story-editor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n \t})();\n\n \twebpackJsonpCallback([[], {}, 0, [\"chunk-colorthief\"]]);\n \treturn startupResult;\n","export * from './story';\nexport * from './media';\nexport * from './publisherLogo';","import axios from 'axios';\nexport const getMedia = async (config,mediaType) =>{\n  console.log('reached here');\n  let response = await axios({\n    method: 'GET',\n    url:\n      '../api/index.php/v1/webstories/' +\n      (mediaType === '' || mediaType === 'LOCAL_MEDIA_TYPE_ALL'\n        ? 'getall'\n        : mediaType === 'image'\n        ? 'getimages'\n        : 'getvideos'),\n    headers: {\n      Authorization:\n        'Bearer '+config.token,\n    },\n  });\n  const data = response.data;\n  const headers = {\n    ...response.headers,\n    totalItems: response.headers['x-wp-total'],\n    totalPages: response.headers['x-wp-totalpages'],\n  };\n  return { data, headers };\n}\nexport const saveMedia = async (config,formData) =>{\n    let response = await axios({\n        method: 'POST',\n        url: '../api/index.php/v1/webstories/saveimage',\n        data: formData,\n        headers: {\n          Authorization:\n            'Bearer '+config.token,\n        },\n      });\n    return response;\n}","export function getPublisherLogos(apiPath) {\n    return Promise.resolve([{ url: '' }]);\n}\nexport function addPublisherLogo(apiPath, id) {\n    return Promise.resolve([{\n        active:true,\n        id:123,\n        title:'sometitle.jpeg',\n        url:''\n      }]);\n  }\n  ","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport axios from 'axios';\n/**\n * Internal dependencies\n */\nimport { getStorySaveData } from './utils/getStorySaveData';\nexport const saveStoryById = async (config, story) => {\n  const storySaveData = getStorySaveData(story);\n  const { storyId } = storySaveData;\n  const { data } = await axios({\n    method: 'POST',\n    url: config.api.saveLink,\n    headers: {\n      Authorization:\n        'Bearer '+config.token,\n    },\n    data: {\n      id: storyId,\n      markup: story?.content,\n      post_content_filtered: storySaveData?.story_data,\n      title: story?.title,\n      created_by: 'wordpress',\n      post_date: new Date(story?.date)\n        .toISOString()\n        .slice(0, 19)\n        .replace('T', ' '),\n      modified_date: new Date(story?.date)\n        .toISOString()\n        .slice(0, 19)\n        .replace('T', ' '),\n      published: 1,\n      ...storySaveData,\n    },\n  });\n  return data;\n};\nexport const getStoryById = async (config, id) => {\n  const { data } = await axios({\n    method: 'GET',\n    url: config.api.getStoryById + '?id=' + id,\n    headers: {\n      Authorization:\n        'Bearer '+config.token,\n    },\n  });\n  return Promise.resolve(data);\n};\n","export const getStorySaveData = ({\n    pages,\n    featuredMedia,\n    globalStoryStyles,\n    publisherLogo,\n    autoAdvance,\n    defaultPageDuration,\n    currentStoryStyles,\n    backgroundAudio,\n    content,\n    author,\n    ...rest\n  }) => {\n    return {\n      story_data: {\n        version: 35,\n        pages,\n        autoAdvance,\n        defaultPageDuration,\n        currentStoryStyles,\n        backgroundAudio,\n      },\n      featured_media: featuredMedia?.id,\n      style_presets: globalStoryStyles,\n      meta: {\n        web_stories_publisher_logo: publisherLogo?.id,\n      },\n      publisher_logo: publisherLogo,\n      content: content,\n      author: author?.id,\n      ...rest,\n    };\n  };","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  ExcerptPanel,\n  SlugPanel,\n  PageAdvancementPanel,\n  BackgroundAudioPanel,\n  TaxonomiesPanel,\n} from '@web-stories-wp/story-editor';\n\n/**\n * Internal dependencies\n */\nimport PublishPanel from './publish';\nimport StatusPanel from './status';\n\nfunction DocumentPane() {\n  return (\n    <>\n      <StatusPanel />\n      <PublishPanel />\n      <ExcerptPanel />\n      <SlugPanel />\n      <PageAdvancementPanel />\n      <BackgroundAudioPanel />\n      <TaxonomiesPanel />\n    </>\n  );\n}\n\nexport default DocumentPane;\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { __ } from '@web-stories-wp/i18n';\nimport { useCallback, useEffect, useState } from '@web-stories-wp/react';\nimport { Datalist } from '@web-stories-wp/design-system';\nimport {\n  Row,\n  useStory,\n  useAPI,\n  useInspector,\n} from '@web-stories-wp/story-editor';\n\nfunction Author() {\n  const {\n    actions: { getAuthors },\n  } = useAPI();\n  const {\n    state: { tab, users, isUsersLoading },\n    actions: { loadUsers },\n  } = useInspector();\n  const { isSaving, author, updateStory } = useStory(\n    ({\n      state: {\n        meta: { isSaving },\n        story: { author = {} },\n      },\n      actions: { updateStory },\n    }) => {\n      return {\n        isSaving,\n        author,\n        updateStory,\n      };\n    }\n  );\n\n  const [queriedUsers, setQueriedUsers] = useState(null);\n  const [visibleOptions, setVisibleOptions] = useState(null);\n\n  useEffect(() => {\n    if (tab === 'document') {\n      loadUsers();\n    }\n  }, [tab, loadUsers]);\n\n  const getAuthorsBySearch = useCallback(\n    (search) => {\n      return getAuthors(search).then((data) => {\n        const userData = data.map(({ id, name }) => ({\n          id,\n          name,\n        }));\n        setQueriedUsers(userData);\n      });\n    },\n    [getAuthors]\n  );\n\n  useEffect(() => {\n    if (users?.length) {\n      const currentAuthor = users.find(({ id }) => author.id === id);\n      if (!currentAuthor) {\n        setVisibleOptions([author, ...users]);\n      } else {\n        setVisibleOptions(users);\n      }\n    }\n  }, [author, users]);\n\n  const handleChangeAuthor = useCallback(\n    ({ id, name }) => {\n      updateStory({\n        properties: { author: { id, name } },\n      });\n    },\n    [updateStory]\n  );\n\n  const isLoading = isUsersLoading || !visibleOptions;\n  const dropDownParams = {\n    hasSearch: true,\n    lightMode: true,\n    onChange: handleChangeAuthor,\n    getOptionsByQuery: getAuthorsBySearch,\n    selectedId: author.id,\n    dropDownLabel: __('Author', 'web-stories'),\n    placeholder: isLoading ? __('Loading', 'web-stories') : '',\n    disabled: isLoading ? true : isSaving,\n    primaryOptions: isLoading ? [] : visibleOptions,\n  };\n  return (\n    <Row>\n      <Datalist.DropDown\n        options={queriedUsers}\n        searchResultsLabel={__('Search results', 'web-stories')}\n        aria-label={__('Author', 'web-stories')}\n        {...dropDownParams}\n      />\n    </Row>\n  );\n}\n\nexport default Author;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default } from './publish';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\n import {\n  useState,\n  useEffect,\n  useCallback,\n  forwardRef,\n} from '@web-stories-wp/react';\nimport styled from 'styled-components';\nimport { __, sprintf, translateToExclusiveList } from '@web-stories-wp/i18n';\nimport {\n  Link,\n  Text,\n  THEME_CONSTANTS,\n  Icons,\n  Datalist,\n} from '@web-stories-wp/design-system';\nimport {\n  highlightStates as states,\n  highlightStyles as styles,\n  Row,\n  Media,\n  Panel,\n  Required,\n  PanelTitle,\n  PanelContent,\n  useStory,\n  useConfig,\n  useHighlights,\n  useInspector,\n} from '@web-stories-wp/story-editor';\n\n/**\n * Internal dependencies\n */\nimport * as apiCallbacks from '../../../api/publisherLogo';\nimport PublishTime from './publishTime';\nimport Author from './author';\n\nconst LabelWrapper = styled.div`\n  height: 40px;\n`;\n\nconst Label = styled(Text).attrs({\n  as: 'label',\n  size: THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL,\n})`\n  color: ${({ theme }) => theme.colors.fg.primary};\n  font-size: 14px;\n`;\n\nconst MediaWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  margin-top: 4px;\n  height: 96px;\n`;\n\nconst StyledMedia = styled(Media)`\n  width: ${({ width }) => width}px;\n  height: ${({ height }) => height}px;\n`;\n\nconst HighlightRow = styled(Row).attrs({\n  spaceBetween: false,\n})`\n  position: relative;\n  &::after {\n    content: '';\n    position: absolute;\n    top: -10px;\n    bottom: -10px;\n    left: -20px;\n    right: -10px;\n    ${({ isHighlighted }) => isHighlighted && styles.FLASH}\n    pointer-events: none;\n  }\n`;\n\nconst MediaInputWrapper = styled.div`\n  height: 160px;\n`;\n\nconst DropdownWrapper = styled.div`\n  position: relative;\n  width: 138px;\n  margin-left: 30px;\n  margin-top: 3px;\n`;\n\nconst LogoImg = styled.img`\n  object-fit: cover;\n  width: 100%;\n  height: 100%;\n  max-width: 96px;\n  max-height: 96px;\n`;\n\nfunction PublishPanel() {\n  const {\n    state: { users },\n  } = useInspector();\n  const {\n    api: { publisherLogos: publisherLogosPath },\n  } = useConfig();\n\n  const { getPublisherLogos, addPublisherLogo } = apiCallbacks;\n\n  const {\n    allowedImageMimeTypes,\n    allowedImageFileTypes,\n    dashboardSettingsLink,\n    capabilities: { hasUploadMediaAction, canManageSettings },\n    MediaUpload,\n  } = useConfig();\n\n  const [publisherLogos, setPublisherLogos] = useState([]);\n\n  useEffect(() => {\n    getPublisherLogos(publisherLogosPath).then(setPublisherLogos);\n  }, [getPublisherLogos, publisherLogosPath]);\n\n  const { highlightPoster, highlightLogo, resetHighlight } = useHighlights(\n    (state) => ({\n      highlightPoster: state[states.POSTER],\n      highlightLogo: state[states.PUBLISHER_LOGO],\n      resetHighlight: state.onFocusOut,\n      cancelHighlight: state.cancelEffect,\n    })\n  );\n\n  const { featuredMedia, publisherLogo, updateStory, capabilities } = useStory(\n    ({\n      state: {\n        story: {\n          featuredMedia = { id: 0, url: '', height: 0, width: 0 },\n          publisherLogo = { id: 0, url: '', height: 0, width: 0 },\n        },\n        capabilities,\n      },\n      actions: { updateStory },\n    }) => {\n      return {\n        featuredMedia,\n        publisherLogo,\n        updateStory,\n        capabilities,\n      };\n    }\n  );\n\n  const handleChangePoster = useCallback(\n    /**\n     * Handle story poster change.\n     *\n     * @param {import('@web-stories-wp/media').Resource} newPoster The new image.\n     * @return {void}\n     */\n    (newPoster) => {\n      return updateStory({\n        properties: {\n          featuredMedia: {\n            id: newPoster.id,\n            url: newPoster.src,\n            height: newPoster.height,\n            width: newPoster.width,\n          },\n        },\n      });\n    },\n    [updateStory]\n  );\n\n  const onNewPublisherLogoSelected = ({ id, src }) => {\n    const newLogo = { id, url: src };\n    addPublisherLogo(publisherLogosPath, id);\n    setPublisherLogos((logos) => [...logos, newLogo]);\n    onPublisherLogoChange(newLogo);\n  };\n\n  const onPublisherLogoChange = (option) => {\n    updateStory({\n      properties: {\n        publisherLogo: {\n          id: option.id,\n          url: option.url,\n        },\n      },\n    });\n  };\n\n  const getErrorMessage = (message) => {\n    let returnedMessage = __(\n      'No file types are currently supported.',\n      'web-stories'\n    );\n\n    if (allowedImageFileTypes.length) {\n      returnedMessage = sprintf(\n        message,\n        translateToExclusiveList(allowedImageFileTypes)\n      );\n    }\n\n    return returnedMessage;\n  };\n\n  const publisherLogoErrorMessage = getErrorMessage(\n    /* translators: %s: list of allowed file types. */\n    __('Please choose only %s as publisher logo.', 'web-stories')\n  );\n  const posterErrorMessage = getErrorMessage(\n    /* translators: %s: list of allowed file types. */\n    __('Please choose only %s as a poster.', 'web-stories')\n  );\n\n  const publisherLogoOptionRenderer = forwardRef(\n    ({ option: option, ...rest }, ref) => {\n      if (option.props) {\n        return option;\n      }\n      return (\n        <Datalist.Option value={option.id} ref={ref} {...rest}>\n          <LogoImg src={option.url} alt=\"\" />\n        </Datalist.Option>\n      );\n    }\n  );\n  const activeItemRenderer = () => {\n    const displayText = publisherLogos.length\n      ? __('Select logo', 'web-stories')\n      : __('No logo', 'web-stories');\n    return publisherLogo.id ? (\n      <LogoImg src={publisherLogo.url} alt=\"\" />\n    ) : (\n      <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.SMALL}>\n        {displayText}\n      </Text>\n    );\n  };\n\n  const renderUploadButton = (open) => (\n    <Datalist.Option onClick={open} aria-label={__('Add new', 'web-stories')}>\n      <Icons.ArrowCloud height={32} width={32} />\n      <Text as=\"span\" size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}>\n        {__('Add new', 'web-stories')}\n      </Text>\n    </Datalist.Option>\n  );\n  const publisherLogosWithUploadOption = [...publisherLogos];\n  if (hasUploadMediaAction) {\n    const cropParams = {\n      width: 96,\n      height: 96,\n    };\n    publisherLogosWithUploadOption.unshift(\n      <MediaUpload\n        onSelect={onNewPublisherLogoSelected}\n        onSelectErrorMessage={publisherLogoErrorMessage}\n        type={allowedImageMimeTypes}\n        render={renderUploadButton}\n        title={__('Select as publisher logo', 'web-stories')}\n        buttonInsertText={__('Select as publisher logo', 'web-stories')}\n        cropParams={cropParams}\n      />\n    );\n  }\n\n  return (\n    <Panel\n      name=\"publishing\"\n      collapsedByDefault={false}\n      isPersistable={!(highlightLogo || highlightPoster)}\n    >\n      <PanelTitle>{__('Publishing', 'web-stories')}</PanelTitle>\n      <PanelContent>\n        {capabilities?.publish && <PublishTime />}\n        {capabilities?.['assign-author'] && users && <Author />}\n        <HighlightRow\n          isHighlighted={\n            highlightPoster?.showEffect || highlightLogo?.showEffect\n          }\n          onAnimationEnd={() => resetHighlight()}\n        >\n          <MediaInputWrapper>\n            <MediaWrapper>\n              <StyledMedia\n                ref={(node) => {\n                  if (\n                    node &&\n                    highlightPoster?.focus &&\n                    highlightPoster?.showEffect\n                  ) {\n                    node.focus();\n                  }\n                }}\n                width={72}\n                height={96}\n                cropParams={{\n                  width: 640,\n                  height: 853,\n                }}\n                value={featuredMedia?.url}\n                onChange={handleChangePoster}\n                title={__('Select as poster image', 'web-stories')}\n                buttonInsertText={__('Select as poster image', 'web-stories')}\n                type={allowedImageMimeTypes}\n                ariaLabel={__('Poster image', 'web-stories')}\n                onChangeErrorText={posterErrorMessage}\n                imgProps={featuredMedia}\n                canUpload={hasUploadMediaAction}\n              />\n            </MediaWrapper>\n            <LabelWrapper>\n              <Label>{__('Poster image', 'web-stories')}</Label>\n              <Required />\n            </LabelWrapper>\n          </MediaInputWrapper>\n          <DropdownWrapper>\n            <MediaWrapper>\n              <Datalist.DropDown\n                options={publisherLogosWithUploadOption}\n                primaryOptions={publisherLogosWithUploadOption}\n                onChange={onPublisherLogoChange}\n                aria-label={__('Publisher Logo', 'web-stories')}\n                renderer={publisherLogoOptionRenderer}\n                activeItemRenderer={activeItemRenderer}\n                selectedId={publisherLogo.id}\n                disabled={!publisherLogosWithUploadOption.length}\n                ref={(node) => {\n                  if (\n                    node &&\n                    highlightLogo?.focus &&\n                    highlightLogo?.showEffect\n                  ) {\n                    node.focus();\n                  }\n                }}\n              />\n            </MediaWrapper>\n            <LabelWrapper>\n              <Label>{__('Publisher Logo', 'web-stories')}</Label>\n              <Row>\n                <Required />\n                {canManageSettings && (\n                  <Link\n                    rel=\"noopener noreferrer\"\n                    target=\"_blank\"\n                    href={dashboardSettingsLink}\n                    size={THEME_CONSTANTS.TYPOGRAPHY.PRESET_SIZES.X_SMALL}\n                  >\n                    {__('Manage', 'web-stories')}\n                  </Link>\n                )}\n              </Row>\n            </LabelWrapper>\n          </DropdownWrapper>\n        </HighlightRow>\n      </PanelContent>\n    </Panel>\n  );\n}\n\nexport default PublishPanel;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport {\n  useCallback,\n  useRef,\n  useState,\n  useFocusOut,\n} from '@web-stories-wp/react';\nimport { format, formatTime, is12Hour } from '@web-stories-wp/date';\nimport { __ } from '@web-stories-wp/i18n';\nimport {\n  DropDownSelect,\n  PLACEMENT,\n  useKeyDownEffect,\n} from '@web-stories-wp/design-system';\nimport {\n  DateTime,\n  Row,\n  Popup,\n  useStory,\n  focusStyle,\n} from '@web-stories-wp/story-editor';\n\n// date-fns format without timezone.\nconst TIMEZONELESS_FORMAT = 'Y-m-d\\\\TH:i:s';\n\nconst loadCalendar = () =>\n  import(/* webpackChunkName: \"chunk-react-calendar\" */ 'react-calendar');\n\nfunction PublishTime() {\n  const { date, modified, status, updateStory } = useStory(\n    ({\n      state: {\n        story: { date, modified, status },\n      },\n      actions: { updateStory },\n    }) => ({\n      date,\n      modified,\n      status,\n      updateStory,\n    })\n  );\n  const use12HourFormat = is12Hour();\n\n  /* translators: Date format, see https://www.php.net/manual/en/datetime.format.php */\n  const shortDateFormat = __('d/m/Y', 'web-stories');\n\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const dateTimeNode = useRef();\n  const dateFieldRef = useRef();\n\n  useKeyDownEffect(\n    dateFieldRef,\n    { key: ['space', 'enter'] },\n    () => {\n      setShowDatePicker((val) => !val);\n    },\n    []\n  );\n\n  useFocusOut(dateTimeNode, () => setShowDatePicker(false), [showDatePicker]);\n\n  const handleDateChange = useCallback(\n    (value, close = false) => {\n      if (close && showDatePicker) {\n        setShowDatePicker(false);\n      }\n      // Format the date only if the value exists.\n      const newDate = value\n        ? format(new Date(value), TIMEZONELESS_FORMAT)\n        : value;\n      updateStory({\n        properties: { date: newDate },\n      });\n    },\n    [showDatePicker, updateStory]\n  );\n\n  // Floating date means an unset date so that the story publish date will match the time it will get published.\n  const floatingDate =\n    ['draft', 'pending', 'auto-draft'].includes(status) &&\n    (date === modified || date === null);\n  const displayDate = Date.now();\n  const displayLabel = !floatingDate\n    ? format(date || displayDate, shortDateFormat) +\n      ' ' +\n      formatTime(date || displayDate)\n    : __('Immediately', 'web-stories');\n  return (\n    <>\n      <Row>\n        <DropDownSelect\n          dropDownLabel={__('Publish', 'web-stories')}\n          aria-pressed={showDatePicker}\n          aria-haspopup\n          aria-expanded={showDatePicker}\n          aria-label={__('Story publish time', 'web-stories')}\n          onSelectClick={(e) => {\n            e.preventDefault();\n            if (!showDatePicker) {\n              // Handle only opening the datepicker since onFocusOut deals with closing.\n              setShowDatePicker(true);\n            }\n          }}\n          ref={dateFieldRef}\n          activeItemLabel={displayLabel}\n          selectButtonStylesOverride={focusStyle}\n          onPointerEnter={() => loadCalendar()}\n          onFocus={() => loadCalendar()}\n        />\n      </Row>\n      <Popup\n        anchor={dateFieldRef}\n        isOpen={showDatePicker}\n        placement={PLACEMENT.BOTTOM_END}\n        renderContents={({ propagateDimensionChange }) => (\n          <DateTime\n            value={floatingDate ? displayDate : date}\n            onChange={(value, close = false) => {\n              handleDateChange(value, close);\n            }}\n            onViewChange={() => propagateDimensionChange()}\n            is12Hour={use12HourFormat}\n            forwardedRef={dateTimeNode}\n            onClose={() => setShowDatePicker(false)}\n            canReset={\n              ['draft', 'pending', 'auto-draft'].includes(status) &&\n              !floatingDate\n            }\n          />\n        )}\n      />\n    </>\n  );\n}\n\nexport default PublishTime;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default } from './status';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useMemo, useState } from '@web-stories-wp/react';\nimport styled from 'styled-components';\nimport { __ } from '@web-stories-wp/i18n';\nimport { Input } from '@web-stories-wp/design-system';\nimport { trackEvent } from '@web-stories-wp/tracking';\nimport {\n  Row,\n  RadioGroup,\n  SimplePanel,\n  ReviewChecklistDialog,\n  useStory,\n  useCheckpoint,\n  useRefreshPostEditURL,\n} from '@web-stories-wp/story-editor';\n\nconst InputRow = styled(Row)`\n  margin-left: 34px;\n`;\n\nfunction StatusPanel() {\n  const {\n    status = '',\n    password,\n    updateStory,\n    saveStory,\n    capabilities,\n    editLink,\n    title,\n    storyId,\n  } = useStory(\n    ({\n      state: {\n        story: { status, password, editLink, title, storyId },\n        capabilities,\n      },\n      actions: { updateStory, saveStory },\n    }) => ({\n      status,\n      password,\n      updateStory,\n      saveStory,\n      capabilities,\n      editLink,\n      title,\n      storyId,\n    })\n  );\n\n  const [showReviewDialog, setShowReviewDialog] = useState(false);\n  const closeReviewDialog = useCallback(() => setShowReviewDialog(false), []);\n\n  const { shouldReviewDialogBeSeen } = useCheckpoint(\n    ({ state: { shouldReviewDialogBeSeen } }) => ({\n      shouldReviewDialogBeSeen,\n    })\n  );\n\n  const [hasPassword, setHasPassword] = useState(Boolean(password));\n\n  const visibility = useMemo(() => {\n    if (hasPassword) {\n      return 'protected';\n    }\n\n    if (status === 'private') {\n      return 'private';\n    }\n\n    return 'public';\n  }, [status, hasPassword]);\n\n  const visibilityOptions = [\n    {\n      value: 'public',\n      label: __('Public', 'web-stories'),\n      helper: __('Visible to everyone', 'web-stories'),\n    },\n  ];\n\n  if (capabilities?.publish) {\n    visibilityOptions.push({\n      value: 'private',\n      label: __('Private', 'web-stories'),\n      helper: __('Visible to site admins & editors only', 'web-stories'),\n    });\n    visibilityOptions.push({\n      value: 'protected',\n      label: __('Password Protected', 'web-stories'),\n      helper: __('Visible only to those with the password.', 'web-stories'),\n    });\n  }\n\n  const handleChangePassword = useCallback(\n    (evt) => {\n      updateStory({\n        properties: { password: evt.target.value },\n      });\n    },\n    [updateStory]\n  );\n\n  const refreshPostEditURL = useRefreshPostEditURL(storyId, editLink);\n\n  const publishPrivately = useCallback(() => {\n    const properties = {\n      status: 'private',\n      password: '',\n    };\n    setHasPassword(false);\n\n    trackEvent('publish_story', {\n      status: 'private',\n      title_length: title.length,\n    });\n    refreshPostEditURL();\n\n    saveStory(properties);\n  }, [setHasPassword, title.length, refreshPostEditURL, saveStory]);\n\n  const isAlreadyPublished = ['publish', 'future', 'private'].includes(status);\n\n  const handleChangeVisibility = useCallback(\n    (evt) => {\n      const newVisibility = evt.target.value;\n\n      if ('private' === newVisibility && !isAlreadyPublished) {\n        if (\n          !window.confirm(\n            __(\n              'Would you like to privately publish this story now?',\n              'web-stories'\n            )\n          )\n        ) {\n          return;\n        }\n      }\n\n      const properties = {};\n\n      switch (newVisibility) {\n        case 'public':\n          properties.status = visibility === 'private' ? 'draft' : status;\n          properties.password = '';\n          setHasPassword(false);\n          break;\n\n        case 'private':\n          if (shouldReviewDialogBeSeen && !isAlreadyPublished) {\n            setShowReviewDialog(true);\n          } else {\n            publishPrivately();\n          }\n          return;\n\n        case 'protected':\n          properties.status = visibility === 'private' ? 'draft' : status;\n          properties.password = password || '';\n          setHasPassword(true);\n          break;\n\n        default:\n          break;\n      }\n\n      updateStory({ properties });\n    },\n    [\n      status,\n      visibility,\n      password,\n      setHasPassword,\n      updateStory,\n      publishPrivately,\n      shouldReviewDialogBeSeen,\n      isAlreadyPublished,\n    ]\n  );\n\n  return (\n    <>\n      <SimplePanel\n        name=\"status\"\n        title={__('Visibility', 'web-stories')}\n        collapsedByDefault={false}\n      >\n        <>\n          <Row>\n            <RadioGroup\n              groupLabel=\"Visibility\"\n              name=\"radio-group-visibility\"\n              options={visibilityOptions}\n              onChange={handleChangeVisibility}\n              value={visibility}\n            />\n          </Row>\n          {hasPassword && (\n            <InputRow>\n              <Input\n                aria-label={__('Password', 'web-stories')}\n                value={password}\n                onChange={handleChangePassword}\n                placeholder={__('Enter a password', 'web-stories')}\n              />\n            </InputRow>\n          )}\n        </>\n      </SimplePanel>\n      <ReviewChecklistDialog\n        isOpen={showReviewDialog}\n        onIgnore={publishPrivately}\n        onClose={closeReviewDialog}\n        onReview={closeReviewDialog}\n      />\n    </>\n  );\n}\n\nexport default StatusPanel;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { CircularProgress, useStory } from '@web-stories-wp/story-editor';\n\n/**\n * Internal dependencies\n */\nimport { SaveButton } from './saveButton';\nimport { PreviewButton } from './preview';\n\nconst ButtonList = styled.nav`\n  display: flex;\n  justify-content: flex-end;\n  padding: 1em;\n  height: 100%;\n`;\n\nconst List = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst Space = styled.div`\n  width: 8px;\n`;\n\nconst Spinner = styled.div`\n  position: absolute;\n  top: 0;\n`;\n\nconst IconWithSpinner = styled.div`\n  position: relative;\n`;\n\nfunction Loading() {\n  return (\n    <Spinner>\n      <CircularProgress size={32} />\n    </Spinner>\n  );\n}\n\nfunction Buttons() {\n  const { isSaving } = useStory(\n    ({\n      state: {\n        meta: { isSaving },\n      },\n    }) => ({ isSaving })\n  );\n\n  return (\n    <ButtonList>\n      <List>\n        <IconWithSpinner>\n          <PreviewButton />\n          {isSaving && <Loading />}\n        </IconWithSpinner>\n        <Space />\n        <SaveButton />\n      </List>\n    </ButtonList>\n  );\n}\n\nexport { Buttons };\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport { Tooltip, useStory } from '@web-stories-wp/story-editor';\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  BUTTON_VARIANTS,\n  Icons,\n} from '@web-stories-wp/design-system';\n\nfunction PreviewButton() {\n  const { isSaving, saveStory, previewLink } = useStory(\n    ({\n      state: {\n        meta: { isSaving },\n        story: { previewLink },\n      },\n      actions: { saveStory },\n    }) => ({\n      isSaving,\n      saveStory,\n      previewLink\n    })\n  );\n\n  const openPreviewLink = () => {\n    saveStory();\n\n\n    // Start a about:blank popup with waiting message until we complete\n    // the saving operation. That way we will not bust the popup timeout.\n    try {\n      const popup = global.open('about:blank', 'story-preview');\n\n      if (popup) {\n        popup.document.write('<!DOCTYPE html><html><head>');\n        popup.document.write('<title>');\n        popup.document.write('Generating the preview');\n        popup.document.write('</title>');\n        popup.document.write('</head><body>');\n        popup.document.write('Please wait. Generating the preview'); // Output \"waiting\" message.\n\n        // Force redirect to the preview URL after 5 seconds. The saving tab\n        // might get frozen by the browser.\n        popup.document.write(\n          `<script>\n            setTimeout(function() {\n              location.replace(${JSON.stringify(previewLink)});\n            }, 5000);\n          </script>`\n        );\n      }\n    } catch (e) {\n      // Not interested in the error.\n    }\n  };\n\n  return (\n    <Tooltip title={'Preview'} hasTail>\n      <Button\n        variant={BUTTON_VARIANTS.SQUARE}\n        type={BUTTON_TYPES.QUATERNARY}\n        size={BUTTON_SIZES.SMALL}\n        onClick={openPreviewLink}\n        disabled={isSaving}\n      >\n        <Icons.Eye />\n      </Button>\n    </Tooltip>\n  );\n}\n\nexport { PreviewButton };\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport {\n  Button,\n  BUTTON_SIZES,\n  BUTTON_TYPES,\n  BUTTON_VARIANTS,\n  useSnackbar,\n} from '@web-stories-wp/design-system';\nimport { useStory } from '@web-stories-wp/story-editor';\n\nfunction SaveButton() {\n  const { isSaving, saveStory } = useStory(\n    ({\n      state: {\n        meta: { isSaving },\n      },\n      actions: { saveStory },\n    }) => ({\n      isSaving,\n      saveStory,\n    })\n  );\n\n  const { showSnackbar } = useSnackbar();\n\n  const handleSaveButton = () => {\n    saveStory().then(() => {\n      showSnackbar({\n        message: 'Story Saved',\n      });\n    });\n  };\n\n  // @todo Make the app state persistent.\n  return (\n    <Button\n      variant={BUTTON_VARIANTS.RECTANGLE}\n      type={BUTTON_TYPES.PRIMARY}\n      size={BUTTON_SIZES.SMALL}\n      onClick={handleSaveButton}\n      disabled={isSaving}\n    >\n      {'Save'}\n    </Button>\n  );\n}\n\nexport { SaveButton };\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport styled from 'styled-components';\nimport { HeaderTitle } from '@web-stories-wp/story-editor';\n\n/**\n * Internal dependencies\n */\nimport { Buttons } from './buttons';\n\nconst Background = styled.header.attrs({\n  role: 'group',\n  'aria-label': 'Story canvas header',\n})`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ${({ theme }) => theme.colors.bg.primary};\n`;\n\nconst Head = styled.div`\n  flex: 1 1 auto;\n  padding: 1em;\n`;\n\nconst ButtonCell = styled.div`\n  grid-area: buttons;\n`;\n\nfunction HeaderLayout() {\n  return (\n    <Background>\n      <Head>\n        <HeaderTitle />\n      </Head>\n      <ButtonCell>\n        <Buttons />\n      </ButtonCell>\n    </Background>\n  );\n}\n\nexport { HeaderLayout };\n","/*\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * External dependencies\n */\nimport PropTypes from 'prop-types';\n\n/**\n * Internal dependencies\n */\nimport { useMediaPicker } from './mediaPicker';\n\nfunction MediaUpload({ render, ...rest }) {\n  const open = useMediaPicker(rest);\n  const attributes={\n    'data-bs-toggle':'modal',\n    'data-bs-target':'#mediaModal'\n  };  \n  return render(open,attributes);\n}\n\nMediaUpload.propTypes = {\n  render: PropTypes.func.isRequired,\n  ...useMediaPicker.propTypes,\n};\n\nexport default MediaUpload;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport { default as useMediaPicker } from './useMediaPicker';\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { useCallback, useEffect } from '@web-stories-wp/react';\nimport { trackEvent } from '@web-stories-wp/tracking';\nimport { useConfig, useAPI } from '@web-stories-wp/story-editor';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\n/**\n * Custom hook to open the WordPress media modal.\n *\n * @param {Function?} props.onPermissionError Callback for when user does not have upload permissions.\n * @return {Function} Callback to open the media picker.\n */\nfunction useMediaPicker({ onPermissionError, onClose }) {\n  const {\n    actions: { updateMedia },\n  } = useAPI();\n  const {\n    capabilities: { hasUploadMediaAction },\n    token,\n  } = useConfig();\n\n  useEffect(() => {\n    try {\n      // The Uploader.success callback is invoked when a user uploads a file.\n      // This is used to mark files as \"uploaded to the story editor\"\n      // in case we eventually want to allow filtering such files.\n      // Note: at this point the video has not yet been inserted into the canvas,\n      // it's just in the WP media modal.\n      // Video poster generation for newly added videos is done in <MediaPane>.\n      wp.Uploader.prototype.success = ({ attributes }) => {\n        updateMedia(attributes.id, {\n          web_stories_media_source: 'editor',\n          alt_text: attributes.alt || attributes.title,\n        });\n      };\n    } catch (e) {\n      // Silence.\n    }\n  }, [updateMedia]);\n  const embedPreview = useCallback((variablex) => {\n    const divTag = document.getElementById('carousel');\n    const image = document.createElement('img');\n    divTag.innerHTML = '';\n    image.style.maxHeight = '200px';\n    image.style.maxWidth = '200px';\n    image.src = URL.createObjectURL(variablex.files[0]);\n    divTag.appendChild(image);\n  }, []);\n\n  const submitImages = useCallback(() => {\n    const formData = new FormData();\n    formData.append(\n      'image',\n      document.getElementById('file-input-button').files[0]\n    );\n    axios({\n      method: 'POST',\n      url: '../api/index.php/v1/webstories/save_file',\n      data: formData,\n      headers: {\n        Authorization: 'Bearer ' + token,\n      },\n    }).then((response) => {\n      if (response.data !== false) {\n        onClose();\n        document.getElementById('close-button').click();\n      }\n    });\n  }, [onClose,token]);\n\n  const openMediaDialog = useCallback(\n    (evt) => {\n      trackEvent('open_media_modal');\n\n      // If a user does not have the rights to upload to the media library, do not show the media picker.\n      if (!hasUploadMediaAction) {\n        if (onPermissionError) {\n          onPermissionError();\n        }\n        evt.preventDefault();\n        return;\n      }\n      window.embedPreview = embedPreview;\n      window.submitImages = submitImages;\n      evt.preventDefault();\n    },\n    [submitImages, embedPreview, hasUploadMediaAction, onPermissionError]\n  );\n\n  return openMediaDialog;\n}\n\nuseMediaPicker.propTypes = {\n  onPermissionError: PropTypes.func,\n  onClose: PropTypes.func,\n};\n\nexport default useMediaPicker;\n","/*\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * External dependencies\n */\nimport { render } from '@web-stories-wp/react';\nimport StoryEditor, { InterfaceSkeleton, defaultConfig } from '@web-stories-wp/story-editor';\nimport styled from 'styled-components';\nimport { deepMerge } from '@web-stories-wp/design-system';\nimport { __ } from '@web-stories-wp/i18n';\nimport axios from 'axios';\n\n/**\n * Internal dependencies\n */\nimport { HeaderLayout } from './components/header';\nimport { getMedia, getStoryById, saveStoryById } from './api';\nimport MediaUpload from './components/mediaUpload';\nimport DocumentPane from './components/documentPane';\n\n// @todo Instead of 100vh, may be the story editor should define its minimum required height to work properly,\n// and that height should be set with the <StoryEditor> component.\nconst AppContainer = styled.div`\n  height: 100vh;\n`;\n\n// @todo None of these should be required by default, https://github.com/google/web-stories-wp/pull/9569#discussion_r738458801\nfunction initialize(id, config) {\n  const appElement = document.getElementById(id);\n  render(\n    <AppContainer>\n      <StoryEditor config={config}>\n        <InterfaceSkeleton header={<HeaderLayout />}inspectorTabs={{\n          document: {\n            title: __('Document', 'web-stories'),\n            Pane: DocumentPane,\n          },\n        }} />\n      </StoryEditor>\n    </AppContainer>,\n    appElement\n  );\n}\nconst initializeWithConfig = () => {\n  const globalconfig = window.webStoriesEditorSettings.config;\n  const apiCallbacksNames = [\n    'getAuthors',\n    'getStoryById',\n    'getDemoStoryById',\n    'saveStoryById',\n    'autoSaveById',\n    'getMedia',\n    'getMediaById',\n    'getMutedMediaById',\n    'getOptimizedMediaById',\n    'uploadMedia',\n    'updateMedia',\n    'deleteMedia',\n    'getLinkMetadata',\n    'getCustomPageTemplates',\n    'addPageTemplate',\n    'deletePageTemplate',\n    'getCurrentUser',\n    'updateCurrentUser',\n    'getHotlinkInfo',\n    'getProxyUrl',\n    'getPublisherLogos',\n    'addPublisherLogo',\n    'getTaxonomies',\n    'getTaxonomyTerm',\n    'createTaxonomyTerm',\n  ];\n  const apiCallbacks = apiCallbacksNames.reduce((callbacks, name) => {\n    let response;\n\n    const storyResponse = {\n      title: { raw: '' },\n      excerpt: { raw: '' },\n      permalink_template: 'https://example.org/web-stories/%pagename%/',\n      style_presets: {\n        color: [],\n        textStyles: [],\n      },\n      date: '2021-10-26T12:38:38', // Publishing field breaks if date is not provided.\n    };\n\n    switch (name) {\n      case 'getCurrentUser':\n        response = { id: 1 };\n        break;\n      case 'getDemoStoryById': // @todo https://github.com/google/web-stories-wp/pull/9569#discussion_r739076535\n        response = storyResponse;\n        break;\n      case 'getPublisherLogos':\n        response = [{ url: '' }];\n        break;\n      case 'addPublishedLogo':\n        response = [{\n          active:true,\n          id:123,\n          title:'sometitle.jpeg',\n          url:''\n        }]\n      default:\n        response = {};\n    }\n\n    if ('saveStoryById' === name) {\n      callbacks[name] = (story) => {\n        return Promise.resolve(saveStoryById(globalconfig, story));\n      };\n    } else if ('getStoryById' === name) {\n      callbacks[name] = (id) => {\n        return getStoryById(globalconfig, id);\n      };\n    } else if ('getMedia' === name) {\n      callbacks[name] = ({ mediaType }) => {\n        return getMedia(globalconfig,mediaType);\n      };\n    }else if ('getAuthors' === name) {\n      callbacks[name] = async () => {\n        const { data } = await axios({\n          method: 'GET',\n          url: '../api/index.php/v1/webstories/users',\n          headers: {\n            Authorization:\n              'Bearer '+globalconfig.token,\n          },\n        });\n        return Promise.resolve(data);\n      };\n    } \n    else {\n      callbacks[name] = () => Promise.resolve(response);\n    }\n\n    return callbacks;\n  }, {});\n\n  const config = {\n    apiCallbacks,\n    MediaUpload,\n  };\n  const _config = deepMerge(defaultConfig, config);\n  const finalConfig = deepMerge(_config, globalconfig);\n  initialize('web-stories-editor', finalConfig);\n};\n\nif ('loading' === document.readyState) {\n  document.addEventListener('DOMContentLoaded', initializeWithConfig);\n} else {\n  initializeWithConfig();\n}\n"],"sourceRoot":""}